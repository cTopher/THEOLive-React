/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com



 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.4.1 (4.3.0)
 Created: 2022-11-16T13:31:42.046Z
 */
!function(t){!function(){"use strict";var n=t.window,i=t.document,e=(t.location,t.navigator),r=t.setTimeout,o=t.clearTimeout,u=t.setInterval,s=t.clearInterval,f=t.Error,h=t.TypeError,a=(t.SyntaxError,t.Object),c=t.Math,v=t.parseInt,l=t.parseFloat,d=t.isNaN,w=t.Uint8Array,b=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest);var g=r;function m(t){return Boolean(t&&void 0!==t.length)}function p(){}function y(t){if(!(this instanceof y))throw new h("Promises must be constructed via new");if("function"!=typeof t)throw new h("not a function");this.Di=0,this.xi=!1,this.Pi=void 0,this.Oi=[],k(t,this)}function _(t,n){for(;3===t.Di;)t=t.Pi;0!==t.Di?(t.xi=!0,y.Ni(function(){var i=1===t.Di?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.Pi)}catch(t){return void I(n.promise,t)}S(n.promise,e)}else(1===t.Di?S:I)(n.promise,t.Pi)})):t.Oi.push(n)}function S(t,n){try{if(n===t)throw new h("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof y)return t.Di=3,t.Pi=n,void T(t);if("function"==typeof i)return void k((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.Di=1,t.Pi=n,T(t)}catch(n){I(t,n)}var e,r}function I(t,n){t.Di=2,t.Pi=n,T(t)}function T(t){2===t.Di&&0===t.Oi.length&&y.Ni(function(){t.xi||y.Bi(t.Pi)});for(var n=0,i=t.Oi.length;n<i;n++)_(t,t.Oi[n]);t.Oi=null}function E(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function k(t,n){var i=!1;try{t(function(t){i||(i=!0,S(n,t))},function(t){i||(i=!0,I(n,t))})}catch(t){if(i)return;i=!0,I(n,t)}}y.prototype.catch=function(t){return this.then(null,t)},y.prototype.then=function(t,n){var i=new this.constructor(p);return _(this,new E(t,n,i)),i},y.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},y.all=function(t){return new y(function(n,i){if(!m(t))return i(new h("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function o(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var s=u.then;if("function"==typeof s)return void s.call(u,function(n){o(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)o(u,e[u])})},y.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new h(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function o(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){o(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)o(u,e[u])})},y.resolve=function(t){return t&&"object"==typeof t&&t.constructor===y?t:new y(function(n){n(t)})},y.reject=function(t){return new y(function(n,i){i(t)})},y.race=function(t){return new y(function(n,i){if(!m(t))return i(new h("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)y.resolve(t[e]).then(n,i)})},y.Ni="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){g(t,0)},y.Bi=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var R=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),N=e?e.userAgent:"",O=N.match(/Firefox\/([0-9]+)/i),P=null!=O,A=O?Number(O[1]):0,D=N.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),C=null!=D,x=D?Number(D[3]):0,B=function(){function t(t){this.Mi=0,this.Fi=0,this.wi=[],this.Li=t}return t.prototype.Ui=function(t){var n=this.length();this.Wi(n+1);var i=this.Fi+n&this.Li-1;this.wi[i]=t,this.Mi=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Li<n)this.Ui(t);else{var i=this.Fi+n-1,e=this.Li-1;this.wi[i&e]=t,this.Mi=n}},t.prototype.shift=function(){var t=this.Fi,n=this.wi[t];return this.wi[t]=void 0,this.Fi=t+1&this.Li-1,this.Mi--,n},t.prototype.length=function(){return this.Mi},t.prototype.Wi=function(t){this.Li<t&&this.Vi(this.Li<<1)},t.prototype.Vi=function(t){var n=this.Li;this.Li=t;var i=this.Fi+this.Mi&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.wi,0,n,i)},t}();var F="unhandledrejection",L=t.PromiseRejectionEvent,U=t.CustomEvent;function z(t){return new L(F,{reason:t,promise:R.reject(t).catch(function(){}),cancelable:!0})}function M(t){var n=new U(F,{detail:{reason:t},cancelable:!0});return a.defineProperty(n,"reason",{value:t}),n}function W(t){var n=i.createEvent("CustomEvent");return n.initCustomEvent(F,!1,!0,{reason:t}),n}var q,j,V,H,X,G,Y=function(t){return(Y=function(){try{var t=R.resolve(),n=new L(F,{reason:"error",promise:t});return F===n.type&&"error"===n.reason}catch(t){}return!1}()?z:function(){try{var t=new U(F,{detail:{reason:"error"}});return F===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?M:W)(t)};if(R&&!(P&&A<60||C&&x<15))j=R;else{j=y;var K=null!==(q=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=R;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==q?q:y.Ni,Q=(V=K,H=new B(16),X=!1,{zi:function(t){H.push(t),X||(X=!0,V(G))},Hi:G=function(){for(;H.length()>0;)H.shift()();X=!1}});y.Ni=Q.zi,y.Bi=function(n){try{var i=Y(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}r(function(){throw new f("Unhandled promise rejection: ".concat(n))},0)}}var $={exports:{}};!function(t){var n,i=a.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof p?n:p,o=a.create(r.prototype),u=new A(e||[]);return o.qe=function(t,n,i){var e=l;return function(r,o){if(e===b)throw new f("Generator is already running");if(e===g){if("throw"===r)throw o;return C()}for(i.method=r,i.arg=o;;){var u=i.delegate;if(u){var s=N(u,i);if(s){if(s===m)continue;return s}}if("next"===i.method)i.sent=i.Ge=i.arg;else if("throw"===i.method){if(e===l)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=b;var h=v(t,n,i);if("normal"===h.type){if(e=i.done?g:w,h.arg===m)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),o}function v(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",w="suspendedYield",b="executing",g="completed",m={};function p(){}function y(){}function _(){}var S={};S[o]=function(){return this};var I=a.getPrototypeOf,T=I&&I(I(D([])));T&&T!==i&&e.call(T,o)&&(S=T);var E=_.prototype=p.prototype=a.create(S);function k(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.qe(n,t)}})}function R(t){var n;this.qe=function(i,r){function o(){return new j(function(n,o){!function n(i,r,o,u){var s=v(t[i],t,r);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"==typeof h&&e.call(h,"Qe")?j.resolve(h.Qe).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):j.resolve(h).then(function(t){f.value=t,o(f)},function(t){return n("throw",t,o,u)})}u(s.arg)}(i,r,n,o)})}return n=n?n.then(o,o):o()}}function N(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,N(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new h("The iterator does not provide a 'throw' method")}return m}var r=v(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,m):o:(i.method="throw",i.arg=new h("iterator result is not an object"),i.delegate=null,m)}function O(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function D(t){if(t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!d(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:C}}function C(){return{value:n,done:!0}}y.prototype=E.constructor=_,_.constructor=y,_[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return a.setPrototypeOf?a.setPrototypeOf(t,_):(t.__proto__=_,s in t||(t[s]="GeneratorFunction")),t.prototype=a.create(E),t},t.awrap=function(t){return{Qe:t}},k(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,e,r){var o=new R(c(n,i,e,r));return t.isGeneratorFunction(i)?o:o.next().then(function(t){return t.done?t.value:o.next()})},k(E),E[s]="Generator",E[o]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=D,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Ge=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!d(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return s.type="throw",s.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],s=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var h=e.call(u,"catchLoc"),a=e.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),m},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),m}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;P(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:D(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),m}}}($.exports);var J,Z=$.exports;function tt(t){J=t}var nt={}.toString;var it=Array.isArray||function(t){return"[object Array]"===nt.call(t)};function et(t){return"object"==typeof t&&null!==t}var rt,ot=9007199254740991,ut=c.pow(2,-52);function st(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}!function(t){t[t.yr=0]="yr",t[t.Ar=1]="Ar",t[t._r=-1]="_r"}(rt||(rt={}));var ft=function(t,n){return function(t,n){if(t===n)return!0;var i=c.abs(t-n);return i<ut||i<c.max(c.abs(t),c.abs(n))*ut}(t,n)?rt.yr:function(t,n){return t===n?rt.yr:t<n?rt._r:t>n?rt.Ar:d(t)?d(n)?rt.yr:rt.Ar:rt._r}(t,n)};function ht(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function at(t,n){var i=t.indexOf(n);return-1!==i&&(function(t,n){t.splice(n,1)}(t,i),!0)}function ct(t,n){return-1!==t.indexOf(n)}function vt(t){t.length=0}var lt=function(){};function dt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*c.random()|0;return("x"===t?n:3&n|8).toString(16)})}var wt,bt="https://theo.proxy";function gt(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),a.defineProperty(t,e.key,e)}}function mt(t,n,i){return n&&gt(t.prototype,n),i&&gt(t,i),a.defineProperty(t,"prototype",{writable:!1}),t}function pt(){var t=a.create(null);return t.__=void 0,delete t.__,t}function yt(){return new It}!function(t){t.Jh="audio",t.Kh="video",t.Fb="metadata"}(wt||(wt={}));var _t,St,It=("undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0)||(_t=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=a.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=pt(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=pt(),this.size=0},n.keys=function(){return new _t(this.data,function(t,n){return n})},n.values=function(){return new _t(this.data,function(t,n){return t[n]})},n.entries=function(){return new _t(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());!function(t){t.Vh="#EXTINF",t.i="#EXT-X-MAP",t.RD="#EXTM3U",t.s="#EXT-X-VERSION",t.h="#EXT-X-TARGETDURATION",t.m="#EXT-X-START",t.p="#EXT-X-INDEPENDENT-SEGMENTS",t.zc="#EXT-X-STREAM-INF",t.S="#EXT-X-MEDIA-SEQUENCE",t.I="#EXT-X-ENDLIST",t.CD="#EXT-X-MEDIA",t.T="#EXT-X-DISCONTINUITY",t.k="#EXT-X-DISCONTINUITY-SEQUENCE",t.O="#EXT-X-PLAYLIST-TYPE"}(St||(St={}));var Tt,Et=function(){function t(t,n){this.er=St.Vh,this.P=void 0,this.A=void 0,this.P=t,this.A=n}return t.prototype.oS=function(){return this.er+":"+this.P+",\n"+this.A},t}(),kt=function(){function t(){this.er=St.RD}return t.prototype.oS=function(){return this.er},t}(),Rt=function(){function t(t){this.er=St.s,this.v_=void 0,this.v_=t}return t.prototype.oS=function(){return this.er+":"+this.v_},t}(),Nt=function(){function t(t){this.er=St.h,this.D=void 0,this.D=t}return t.prototype.oS=function(){return this.er+":"+this.D},t}(),Ot=function(){function t(t){this.er=St.m,this.C=void 0,this.C=t}return t.prototype.oS=function(){return this.er+":TIME-OFFSET="+this.C},t}(),Pt=function(){function t(){this.er=St.p}return t.prototype.oS=function(){return this.er},t}(),At=function(){function t(t){this.er=St.zc,this.wE=1,this.A=void 0,this.A=t}return t.prototype.oS=function(){return this.er+":BANDWIDTH="+this.wE+',AUDIO="audio"\n'+this.A},t}(),Dt=function(){function t(t){this.er=St.S,this.$p=void 0,this.$p=t}return t.prototype.oS=function(){return this.er+":"+this.$p},t}(),Ct=function(){function t(){this.er=St.T}return t.prototype.oS=function(){return this.er},t}(),xt=function(){function t(t){this.er=St.k,this.$p=void 0,this.$p=t}return t.prototype.oS=function(){return this.er+":"+this.$p},t}();!function(t){t.B="VOD",t.L="EVENT"}(Tt||(Tt={}));var Bt=function(){function t(t){this.er=St.CD,this.A=void 0,this.A=t}return t.prototype.oS=function(){var t=yt();t.set("TYPE","AUDIO"),t.set("GROUP-ID",'"audio"'),t.set("NAME",'"audio"'),t.set("AUTOSELECT","YES"),t.set("DEFAULT","YES"),t.set("CHANNELS",'"2"'),t.set("URI",'"'+this.A+'"');var n=[];return t.forEach(function(t,i){return n.push(i+"="+t)}),this.er+":"+n.join(",")},t}(),Ft=function(){function t(t){this.ss=[],this.ss=t}return t.prototype.W=function(){for(var t="",n=0,i=this.ss;n<i.length;n++){t+=i[n].oS()+"\n"}return t},mt(t,[{key:"rp",get:function(){return this.ss}}]),t}(),Lt=function(){function t(){this.ss=[];for(var t=[new kt,new Rt(8)],n=0;n<t.length;n++){var i=t[n];this.H(i)}}var n=t.prototype;return n.H=function(t){this.ss.push(t)},n.Ir=function(){this.ss.length=0},mt(t,[{key:"rp",get:function(){return new Ft(this.ss)}}]),t}();function Ut(t,n){return(Ut=a.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function zt(t,n){t.prototype=a.create(n.prototype),t.prototype.constructor=t,Ut(t,n)}var Mt=function(){function t(){}var n=t.prototype;return n.wy=function(t){return this.gy()*t},n.my=function(t){return this.yy(t)>0},n.Ay=function(t){return this.yy(t)>=0},n.by=function(t,n){return this.py(t)._y(n)},n.ny=function(t){return 0===this.yy(t)},n.ky=function(t){return this.yy(t)<0},n._y=function(t){return this.yy(t)<=0},n.Ty=function(){return this.Sy()?this.Ey():this},n.Iy=function(t){return this.Am(t.Ey())},n.py=function(t){return this.Iy(t).Ty()},t}();function Wt(t,n){return t.Ry()?n.Ry()?rt.yr:rt.Ar:n.Ry()?rt._r:t.Cy()?n.Cy()&&t.Sy()===n.Sy()?rt.yr:t.Sy()?rt._r:rt.Ar:n.Sy()?rt.Ar:rt._r}var qt=null;try{qt=new WebAssembly.Instance(new WebAssembly.Module(new w([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function jt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Vt(t){return!0===(t&&t.Pn)}function Ht(t){var n=c.clz32(t&-t);return t?31-n:n}jt.prototype.Pn,a.defineProperty(jt.prototype,"Pn",{value:!0}),jt.isLong=Vt;var Xt={},Gt={};function Yt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=Gt[t])?e:(i=Qt(t,0,!0),r&&(Gt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=Xt[t])?e:(i=Qt(t,t<0?-1:0,!1),r&&(Xt[t]=i),i)}function Kt(t,n){if(d(t))return n?un:on;if(n){if(t<0)return un;if(t>=nn)return cn}else{if(t<=-en)return vn;if(t+1>=en)return an}return t<0?Kt(-t,n).neg():Qt(t%tn|0,t/tn|0,n)}function Qt(t,n,i){return new jt(t,n,i)}jt.fromInt=Yt,jt.fromNumber=Kt,jt.fromBits=Qt;var $t=c.pow;function Jt(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?un:on;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return Jt(t.substring(1),n,i).neg();for(var r=Kt($t(i,8)),o=on,u=0;u<t.length;u+=8){var s=c.min(8,t.length-u),h=v(t.substring(u,u+s),i);if(s<8){var a=Kt($t(i,s));o=o.mul(a).add(Kt(h))}else o=(o=o.mul(r)).add(Kt(h))}return o.unsigned=n,o}function Zt(t,n){return"number"==typeof t?Kt(t,n):"string"==typeof t?Jt(t,n):Qt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}jt.fromString=Jt,jt.fromValue=Zt;var tn=4294967296,nn=tn*tn,en=nn/2,rn=Yt(1<<24),on=Yt(0);jt.ZERO=on;var un=Yt(0,!0);jt.UZERO=un;var sn=Yt(1);jt.ONE=sn;var fn=Yt(1,!0);jt.UONE=fn;var hn=Yt(-1);jt.NEG_ONE=hn;var an=Qt(-1,2147483647,!1);jt.MAX_VALUE=an;var cn=Qt(-1,-1,!0);jt.MAX_UNSIGNED_VALUE=cn;var vn=Qt(0,-2147483648,!1);jt.MIN_VALUE=vn;var ln=jt.prototype;ln.toInt=function(){return this.unsigned?this.low>>>0:this.low},ln.toNumber=function(){return this.unsigned?(this.high>>>0)*tn+(this.low>>>0):this.high*tn+(this.low>>>0)},ln.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(vn)){var n=Kt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=Kt($t(t,6),this.unsigned),o=this,u="";;){var s=o.div(r),f=(o.sub(s.mul(r)).toInt()>>>0).toString(t);if((o=s).isZero())return f+u;for(;f.length<6;)f="0"+f;u=""+f+u}},ln.getHighBits=function(){return this.high},ln.getHighBitsUnsigned=function(){return this.high>>>0},ln.getLowBits=function(){return this.low},ln.getLowBitsUnsigned=function(){return this.low>>>0},ln.getNumBitsAbs=function(){if(this.isNegative())return this.eq(vn)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},ln.isZero=function(){return 0===this.high&&0===this.low},ln.eqz=ln.isZero,ln.isNegative=function(){return!this.unsigned&&this.high<0},ln.isPositive=function(){return this.unsigned||this.high>=0},ln.isOdd=function(){return 1==(1&this.low)},ln.isEven=function(){return 0==(1&this.low)},ln.equals=function(t){return Vt(t)||(t=Zt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},ln.eq=ln.equals,ln.notEquals=function(t){return!this.eq(t)},ln.neq=ln.notEquals,ln.ne=ln.notEquals,ln.lessThan=function(t){return this.comp(t)<0},ln.lt=ln.lessThan,ln.lessThanOrEqual=function(t){return this.comp(t)<=0},ln.lte=ln.lessThanOrEqual,ln.le=ln.lessThanOrEqual,ln.greaterThan=function(t){return this.comp(t)>0},ln.gt=ln.greaterThan,ln.greaterThanOrEqual=function(t){return this.comp(t)>=0},ln.gte=ln.greaterThanOrEqual,ln.ge=ln.greaterThanOrEqual,ln.compare=function(t){if(Vt(t)||(t=Zt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},ln.comp=ln.compare,ln.negate=function(){return!this.unsigned&&this.eq(vn)?vn:this.not().add(sn)},ln.neg=ln.negate,ln.add=function(t){Vt(t)||(t=Zt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,o=t.high>>>16,u=65535&t.high,s=t.low>>>16,f=0,h=0,a=0,c=0;return a+=(c+=r+(65535&t.low))>>>16,h+=(a+=e+s)>>>16,f+=(h+=i+u)>>>16,f+=n+o,Qt((a&=65535)<<16|(c&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},ln.subtract=function(t){return Vt(t)||(t=Zt(t)),this.add(t.neg())},ln.sub=ln.subtract,ln.multiply=function(t){if(this.isZero())return this;if(Vt(t)||(t=Zt(t)),qt)return Qt(qt.mul(this.low,this.high,t.low,t.high),qt.get_high(),this.unsigned);if(t.isZero())return this.unsigned?un:on;if(this.eq(vn))return t.isOdd()?vn:on;if(t.eq(vn))return this.isOdd()?vn:on;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(rn)&&t.lt(rn))return Kt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,o=t.high>>>16,u=65535&t.high,s=t.low>>>16,f=65535&t.low,h=0,a=0,c=0,v=0;return c+=(v+=r*f)>>>16,a+=(c+=e*f)>>>16,c&=65535,a+=(c+=r*s)>>>16,h+=(a+=i*f)>>>16,a&=65535,h+=(a+=e*s)>>>16,a&=65535,h+=(a+=r*u)>>>16,h+=n*f+i*s+e*u+r*o,Qt((c&=65535)<<16|(v&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},ln.mul=ln.multiply,ln.divide=function(t){if(Vt(t)||(t=Zt(t)),t.isZero())throw f("division by zero");var n,i,e;if(qt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Qt((this.unsigned?qt.div_u:qt.div_s)(this.low,this.high,t.low,t.high),qt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?un:on;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return un;if(t.gt(this.shru(1)))return fn;e=un}else{if(this.eq(vn))return t.eq(sn)||t.eq(hn)?vn:t.eq(vn)?sn:(n=this.shr(1).div(t).shl(1)).eq(on)?t.isNegative()?sn:hn:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(vn))return this.unsigned?un:on;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=on}for(i=this;i.gte(t);){n=c.max(1,c.floor(i.toNumber()/t.toNumber()));for(var r=c.ceil(c.log(n)/c.LN2),o=r<=48?1:$t(2,r-48),u=Kt(n),s=u.mul(t);s.isNegative()||s.gt(i);)s=(u=Kt(n-=o,this.unsigned)).mul(t);u.isZero()&&(u=sn),e=e.add(u),i=i.sub(s)}return e},ln.div=ln.divide,ln.modulo=function(t){return Vt(t)||(t=Zt(t)),qt?Qt((this.unsigned?qt.rem_u:qt.rem_s)(this.low,this.high,t.low,t.high),qt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},ln.mod=ln.modulo,ln.rem=ln.modulo,ln.not=function(){return Qt(~this.low,~this.high,this.unsigned)},ln.countLeadingZeros=function(){return this.high?c.clz32(this.high):c.clz32(this.low)+32},ln.clz=ln.countLeadingZeros,ln.countTrailingZeros=function(){return this.low?Ht(this.low):Ht(this.high)+32},ln.ctz=ln.countTrailingZeros,ln.and=function(t){return Vt(t)||(t=Zt(t)),Qt(this.low&t.low,this.high&t.high,this.unsigned)},ln.or=function(t){return Vt(t)||(t=Zt(t)),Qt(this.low|t.low,this.high|t.high,this.unsigned)},ln.xor=function(t){return Vt(t)||(t=Zt(t)),Qt(this.low^t.low,this.high^t.high,this.unsigned)},ln.shiftLeft=function(t){return Vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Qt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Qt(0,this.low<<t-32,this.unsigned)},ln.shl=ln.shiftLeft,ln.shiftRight=function(t){return Vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Qt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Qt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},ln.shr=ln.shiftRight,ln.shiftRightUnsigned=function(t){return Vt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Qt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Qt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},ln.shru=ln.shiftRightUnsigned,ln.shr_u=ln.shiftRightUnsigned,ln.rotateLeft=function(t){var n;return Vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Qt(this.high,this.low,this.unsigned):t<32?(n=32-t,Qt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Qt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},ln.rotl=ln.rotateLeft,ln.rotateRight=function(t){var n;return Vt(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Qt(this.high,this.low,this.unsigned):t<32?(n=32-t,Qt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Qt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},ln.rotr=ln.rotateRight,ln.toSigned=function(){return this.unsigned?Qt(this.low,this.high,!1):this},ln.toUnsigned=function(){return this.unsigned?this:Qt(this.low,this.high,!0)},ln.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},ln.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},ln.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},jt.fromBytes=function(t,n,i){return i?jt.fromBytesLE(t,n):jt.fromBytesBE(t,n)},jt.fromBytesLE=function(t,n){return new jt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},jt.fromBytesBE=function(t,n){return new jt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var dn=function(){function t(t,n){this.Dy=void 0,this.xy=void 0,this.Dy=t,this.xy=n}t.Py=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Oy=function(n){return n.unsigned?new t(n,jt.UZERO):new t(n,n.isNegative()?jt.NEG_ONE:jt.ZERO)},t.Ny=function(n,i){if(d(n))return i?t.By:t.My;if(i){if(n<0)return t.By;if(n>=3.402823669209385e38)return t.Fy}else{if(n<=-1.7014118346046923e38)return t.Ly;if(n+1>=1.7014118346046923e38)return t.Uy}return n<0?t.Ny(-n,i).Ey():t.Py(jt.fromNumber(n%0x10000000000000000),jt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Wy=function(){return this.xy.unsigned},n.Vy=function(){return this.Dy.isZero()&&this.xy.isZero()},n.Sy=function(){return this.xy.isNegative()},n.zy=function(){return this.Wy()?t.Py(this.Dy,this.xy,!1):this},n.Hy=function(){return this.Wy()?this:t.Py(this.Dy,this.xy,!0)},n.Xy=function(){return this.Dy},n.gy=function(){return this.Sy()?-this.Ey().gy():0x10000000000000000*this.xy.toNumber()+this.Dy.toUnsigned().toNumber()},n.qy=function(){return this.Dy.toInt()},n.ny=function(t){return(this.Wy()===t.Wy()||this.xy.getHighBits()>>>31!=1||t.xy.getHighBits()>>>31!=1)&&(this.xy.toUnsigned().eq(t.xy.toUnsigned())&&this.Dy.toUnsigned().eq(t.Dy.toUnsigned()))},n.yy=function(t){if(this.ny(t))return rt.yr;var n=this.Sy(),i=t.Sy();if(n&&!i)return rt._r;if(!n&&i)return rt.Ar;if(!this.Wy())return this.Iy(t).Sy()?rt._r:rt.Ar;var e=this.Hy(),r=t.Hy(),o=r.xy.comp(e.xy);return o>0||0===o&&r.Dy.gt(e.Dy)?rt._r:rt.Ar},n.ky=function(t){return this.yy(t)<0},n._y=function(t){return this.yy(t)<=0},n.Gy=function(t){return this.yy(t)>0},n.Qy=function(t){return this.yy(t)>=0},n.jy=function(){return new t(this.Dy.not(),this.xy.not())},n.Yy=function(n){return new t(this.Dy.and(n.Dy),this.xy.and(n.xy))},n.Zy=function(n){return new t(this.Dy.or(n.Dy),this.xy.or(n.xy))},n.Jy=function(n){var i=127&n;return 0===i?this:i<64?t.Py(this.Dy.shl(i),this.xy.shl(i).or(this.Dy.shru(64-i)),this.Wy()):t.Py(jt.ZERO,this.Dy.shl(i-64),this.Wy())},n.Ky=function(n){var i=127&n;return 0===i?this:i<64?t.Py(this.Dy.shru(i).or(this.xy.shl(64-i)),this.xy.shr(i),this.Wy()):t.Py(this.xy.shr(i-64),this.xy.isNegative()?jt.NEG_ONE:jt.ZERO,this.Wy())},n.$y=function(n){var i=127&n;return 0===i?this:i<64?t.Py(this.Dy.shru(i).or(this.xy.shl(64-i)),this.xy.shru(i),this.Wy()):64===i?t.Py(this.xy,jt.ZERO,this.Wy()):t.Py(this.xy.shru(i-64),jt.ZERO,this.Wy())},n.Am=function(n){var i=this.xy.high>>>16,e=65535&this.xy.high,r=this.xy.low>>>16,o=65535&this.xy.low,u=this.Dy.high>>>16,s=65535&this.Dy.high,f=this.Dy.low>>>16,h=65535&this.Dy.low,a=n.xy.high>>>16,c=65535&n.xy.high,v=n.xy.low>>>16,l=65535&n.xy.low,d=n.Dy.high>>>16,w=65535&n.Dy.high,b=n.Dy.low>>>16,g=0,m=0,p=0,y=0,_=0,S=0,I=0,T=0;I+=(T+=h+(65535&n.Dy.low))>>>16,T&=65535,S+=(I+=f+b)>>>16,I&=65535,_+=(S+=s+w)>>>16,S&=65535,y+=(_+=u+d)>>>16,_&=65535,p+=(y+=o+l)>>>16,y&=65535,m+=(p+=r+v)>>>16,p&=65535,g+=(m+=e+c)>>>16,m&=65535,g+=i+a,g&=65535;var E=this.Wy(),k=jt.fromBits(p<<16|y,g<<16|m,E),R=jt.fromBits(I<<16|T,_<<16|S,E);return t.Py(R,k,E)},n.Iy=function(t){return this.Am(t.Ey())},n.Ey=function(){return this.jy().Am(t.tA)},n.nA=function(n){if(this.Vy()||n.Vy())return this.Wy()?t.By:t.My;if(this.Sy())return n.Sy()?this.Ey().nA(n.Ey()):this.Ey().nA(n).Ey();if(n.Sy())return this.nA(n.Ey()).Ey();if(this.xy.isZero()&&0===this.Dy.high&&n.xy.isZero()&&0===n.Dy.high)return t.Oy(this.Dy.multiply(n.Dy));var i=jt.fromBits(4294967295,0,!0),e=this.Dy.and(i),r=this.Dy.shru(32),o=this.xy.and(i),u=this.xy.shru(32),s=n.Dy.and(i),f=n.Dy.shru(32),h=n.xy.and(i),a=n.xy.shru(32),c=jt.UZERO,v=jt.UZERO,l=jt.UZERO,d=jt.UZERO;c=c.add(e.mul(s)),v=v.add(c.shru(32)),c=c.and(i),v=v.add(r.mul(s)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(f)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(o.mul(s)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(f)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(h)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(s)).add(o.mul(f)).add(r.mul(h)).add(e.mul(a)).and(i);var w=jt.fromBits(c.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),b=jt.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Py(w,b,this.Wy())},n.iA=function(n){var i,e,r=n;if(r.Vy())throw new RangeError("division by zero");if(this.Vy())return this.Wy()?[t.By,t.By]:[t.My,t.My];if(this.Wy()){if(r.Wy()||(r=r.Hy()),r.Gy(this))return[t.By,this];if(r.Gy(this.$y(1)))return[e=t.eA,i=this.Iy(r)];e=t.By}else{if(this.ny(t.Ly)){if(r.ny(t.tA)||r.ny(t.rA))return[t.Ly,t.My];if(r.ny(t.Ly))return[t.tA,t.My];var o=this.Ky(1).uA(r).Jy(1);return o.ny(t.My)?e=r.Sy()?t.tA:t.rA:(i=this.Iy(r.nA(o)),e=o.Am(i.uA(r))),[e,i=this.Iy(r.nA(e))]}if(r.ny(t.Ly))return this.Wy()?[t.By,this]:[t.My,this];if(this.Sy()){if(r.Sy())return this.Ey().iA(r.Ey());var u=this.Ey().iA(r);return e=u[0],i=u[1],[e.Ey(),i.Ey()]}if(r.Sy()){var s=this.iA(r.Ey());return e=s[0],i=s[1],[e.Ey(),i.Ey()]}e=t.My}for(i=this;i.Qy(r);){for(var f=c.max(1,c.floor(i.gy()/r.gy())),h=c.ceil(c.log(f)/c.LN2),a=h<=48?1:c.pow(2,h-48),v=t.Ny(f),l=v.nA(r);l.Sy()||l.Gy(i);)f-=a,l=(v=t.Ny(f,this.Wy())).nA(r);v.Vy()&&(v=t.tA),e=e.Am(v),i=i.Iy(l)}return[e,i]},n.uA=function(t){return this.iA(t)[0]},n.sA=function(t){return this.iA(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Vy())return"0";if(this.Sy()){if(this.ny(t.Ly)){var e=t.Ny(i),r=this.uA(e),o=r.nA(e).Iy(this);return r.toString(i)+o.qy().toString(i)}return"-"+this.Ey().toString(i)}for(var u=t.Ny(c.pow(i,6),this.Wy()),s=this,f="";;){var h=s.uA(u),a=(s.Iy(h.nA(u)).qy()>>>0).toString(i);if((s=h).Vy())return a+f;for(;a.length<6;)a="0"+a;f=String(a)+f}},t}();dn.My=dn.Oy(jt.ZERO),dn.By=dn.Oy(jt.UZERO),dn.tA=dn.Oy(jt.ONE),dn.eA=dn.Oy(jt.UONE),dn.rA=dn.Oy(jt.NEG_ONE),dn.Uy=dn.Py(jt.NEG_ONE,jt.MAX_VALUE,!1),dn.Fy=dn.Py(jt.MAX_UNSIGNED_VALUE,jt.MAX_UNSIGNED_VALUE,!0),dn.Ly=dn.Py(jt.ZERO,jt.MIN_VALUE,!1);var wn=function(){function t(t,n){void 0===n&&(n=1),this.oA=void 0,this.aA=void 0,this.oA=t,this.aA=n}t.cA=function(n){return new t(c.ceil(n.oA),n.aA)},t.fA=function(n){return new t(c.floor(n.oA),n.aA)},t.hA=function(t,n){return t.Ay(n)?t:n},t.vA=function(t,n){return t._y(n)?t:n};var n=t.prototype;return n.Am=function(n){return this.aA>=n.aA?new t(this.oA+n.lA(this.aA).oA,this.aA):new t(this.lA(n.aA).oA+n.oA,n.aA)},n.my=function(t){return t.ky(this)},n.Ay=function(t){return t._y(this)},n.py=function(n){return this.aA>=n.aA?new t(c.abs(this.oA-n.lA(this.aA).oA),this.aA):n.py(this)},n.by=function(t,n){return this.py(t)._y(n)},n.yy=function(t){return i=t,(n=this).aA>=i.aA?ft(n.oA,i.lA(n.aA).oA):ft(n.lA(i.aA).oA,i.oA);var n,i},n.ny=function(t){return 0===this.yy(t)},n.ky=function(t){return this.yy(t)<0},n._y=function(t){return this.yy(t)<=0},n.lA=function(n){return new t(this.oA*(n/this.aA),n)},n.Iy=function(n){return this.aA>=n.aA?new t(this.oA-n.lA(this.aA).oA,this.aA):new t(this.lA(n.aA).oA-n.oA,n.aA)},n.dA=function(n){return new t(this.oA*n,this.aA)},mt(t,[{key:"Cy",get:function(){return!isFinite(this.oA)}},{key:"wA",get:function(){return this.oA/this.aA}}]),t}();wn.gA=new wn(1/6,1),wn.My=new wn(0),wn.mA=new wn(1/0),wn.yA=1e6;var bn=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qn=void 0,e.aA=void 0,e.Qn=n.toSigned(),e.aA=i>>>0,e}zt(n,t),n.AA=function(t,i){return void 0===i&&(i=1e6),n.Ny(t*i,i)},n.Ny=function(t,i){return d(t)?n.bA:t===1/0?n._A:t===-1/0?n.pA:new n(jt.fromNumber(t),i)},n.Oy=function(t,i){return new n(t,i)},n.kA=function(t){return n.AA(t.wA,1e6)},n.TA=function(t){return new n(jt.fromNumber(t.getTime()),1e3)},n.hA=function(t,n){return t.Ay(n)?t:n},n.vA=function(t,n){return t._y(n)?t:n},n.SA=function(t,i,e){return n.hA(i,n.vA(e,t))};var i=n.prototype;return i.Sy=function(){return this.Qn.isNegative()},i.Vy=function(){return 0!==this.aA&&this.Qn.isZero()},i.Cy=function(){return 0===this.aA&&!this.Qn.isZero()},i.Ry=function(){return 0===this.aA&&this.Qn.isZero()},i.gy=function(){if(0===this.aA)return this.Qn.isZero()?NaN:this.Qn.isNegative()?-1/0:1/0;var t=this.Qn.divide(this.aA),n=this.Qn.subtract(t.multiply(this.aA));return t.toNumber()+n.toNumber()/this.aA},i.Xy=function(){if(0===this.aA)throw new f("Failed to convert timestamp");return this.Qn},i.EA=function(){return new Date(0===this.aA?NaN:this.lA(1e3).Qn.toNumber())},i.IA=function(){return new wn(0===this.aA?this.gy():this.Qn.toNumber(),this.aA)},i.lA=function(t,i){void 0===i&&(i=pn.RA);var e=this.aA;if(e===t)return this;if(0===e)return this;var r=st(e,t);return new n(function(t,n,i){var e=t.iA(n),r=e[0],o=e[1];if(o.Vy())return r;if(i===pn.RA)return o.Sy()?r.Iy(dn.tA):r;if(i===pn.CA)return o.Sy()?r:r.Am(dn.tA);var u=o.nA(dn.Ny(2));return u.Sy()?u.Ey().ky(n)?r:r.Iy(dn.tA):u.ky(n)?r:r.Am(dn.tA)}(dn.Oy(this.Qn).nA(dn.Ny(t/r)),dn.Ny(e/r),i).Xy(),t)},i.yy=function(t){if(this===t)return rt.yr;if(0===this.aA||0===t.aA)return Wt(this,t);if(this.Vy())return t.Vy()?rt.yr:t.Sy()?rt.Ar:rt._r;if(t.Vy())return this.Sy()?rt._r:rt.Ar;var n=c.min(this.aA,t.aA),i=this.lA(n,pn.DA).Qn,e=t.lA(n,pn.DA).Qn;return i.compare(e)},i.Ey=function(){return 0===this.aA?gn(this):new n(this.Qn.negate(),this.aA)},i.Am=function(t){if(0===this.aA||0===t.aA)return mn(this,t);if(this.Vy())return t;if(t.Vy())return this;var i=c.max(this.aA,t.aA),e=this.lA(i,pn.DA),r=t.lA(i,pn.DA);return new n(e.Qn.add(r.Qn),i)},i.nA=function(t){if(this.Ry()||d(t))return n.bA;if(this.Cy()||!isFinite(t)){if(this.Vy()||0===t)return n.bA;var i=this.Sy()?n.pA:n._A;return t<0?i.Ey():i}return this.Vy()?this:new n(0===t?jt.ZERO:this.Qn.multiply(t),this.aA)},i.uA=function(t){if(this.Ry()||d(t))return n.bA;if(this.Cy())return isFinite(t)?0===t?1/t<0?this.Ey():this:t<0?this.Ey():this:n.bA;if(!isFinite(t))return new n(jt.ZERO,this.aA);if(this.Vy())return 0===t?n.bA:new n(jt.ZERO,this.aA);if(0===t){var i=this.Sy()?n.pA:n._A;return 1/t<0?i.Ey():i}return new n(this.Qn.divide(t),this.aA)},i.xA=function(){return[this.Qn.low,this.Qn.high,this.aA]},n}(Mt);function gn(t){return t.Ry()?t:t.Sy()?bn._A:bn.pA}function mn(t,n){return t.Ry()||n.Ry()?bn.bA:t.Cy()&&n.Cy()?t.Sy()===n.Sy()?t:bn.bA:t.Cy()?t:n}bn.My=new bn(jt.ZERO,1e6),bn.bA=new bn(jt.ZERO,0),bn._A=new bn(jt.ONE,0),bn.pA=new bn(jt.NEG_ONE,0);var pn,yn=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qn=void 0,e.aA=void 0,e.Qn=BigInt.asIntN(64,n),e.aA=i>>>0,e}zt(n,t),n.AA=function(t,i){return void 0===i&&(i=1e6),n.Ny(t*i,i)},n.Ny=function(t,i){return d(t)?n.bA:t===1/0?n._A:t===-1/0?n.pA:new n(BigInt(c.floor(t)),i)},n.Oy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.kA=function(t){return n.AA(t.wA,1e6)},n.TA=function(t){return n.Ny(t.getTime(),1e3)},n.hA=function(t,n){return t.Ay(n)?t:n},n.vA=function(t,n){return t._y(n)?t:n},n.SA=function(t,i,e){return n.hA(i,n.vA(e,t))};var i=n.prototype;return i.Sy=function(){return this.Qn<BigInt(0)},i.Vy=function(){return 0!==this.aA&&this.Qn===BigInt(0)},i.Cy=function(){return 0===this.aA&&this.Qn!==BigInt(0)},i.Ry=function(){return 0===this.aA&&this.Qn===BigInt(0)},i.gy=function(){if(0===this.aA)return this.Qn===BigInt(0)?NaN:this.Qn<BigInt(0)?-1/0:1/0;var t=this.Qn/BigInt(this.aA),n=this.Qn-t*BigInt(this.aA);return Number(t)+Number(n)/this.aA},i.Xy=function(){if(0===this.aA)throw new f("Failed to convert timestamp");return this.PA()},i.PA=function(){var t=this.Qn&BigInt(4294967295),n=this.Qn>>BigInt(32)&BigInt(4294967295);return jt.fromBits(Number(t),Number(n))},i.EA=function(){return new Date(0===this.aA?NaN:Number(this.lA(1e3).Qn))},i.IA=function(){return new wn(0===this.aA?this.gy():Number(this.Qn),this.aA)},i.lA=function(t,i){void 0===i&&(i=pn.RA);var e=this.aA;if(e===t)return this;if(0===e)return this;var r=st(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===pn.RA)return r<BigInt(0)?e-BigInt(1):e;if(i===pn.CA)return r<BigInt(0)?e:e+BigInt(1);var o=r*BigInt(2);return o<BigInt(0)?-o<n?e:e-BigInt(1):o<n?e:e+BigInt(1)}(this.Qn*BigInt(t/r),BigInt(e/r),i),t)},i.yy=function(t){if(this===t)return rt.yr;if(0===this.aA||0===t.aA)return Wt(this,t);if(this.Vy())return t.Vy()?rt.yr:t.Sy()?rt.Ar:rt._r;if(t.Vy())return this.Sy()?rt._r:rt.Ar;var n=c.min(this.aA,t.aA),i=this.lA(n,pn.DA).Qn,e=t.lA(n,pn.DA).Qn;return i>e?rt.Ar:i<e?rt._r:rt.yr},i.Ey=function(){return 0===this.aA?_n(this):new n(-this.Qn,this.aA)},i.Am=function(t){if(0===this.aA||0===t.aA)return Sn(this,t);if(this.Vy())return t;if(t.Vy())return this;var i=c.max(this.aA,t.aA),e=this.lA(i,pn.DA),r=t.lA(i,pn.DA);return new n(e.Qn+r.Qn,i)},i.nA=function(t){if(this.Ry()||d(t))return n.bA;if(this.Cy()||!isFinite(t)){if(this.Vy()||0===t)return n.bA;var i=this.Sy()?n.pA:n._A;return t<0?i.Ey():i}return this.Vy()?this:new n(0===t?BigInt(0):this.Qn*BigInt(t),this.aA)},i.uA=function(t){if(this.Ry()||d(t))return n.bA;if(this.Cy())return isFinite(t)?0===t?1/t<0?this.Ey():this:t<0?this.Ey():this:n.bA;if(!isFinite(t))return new n(BigInt(0),this.aA);if(this.Vy())return 0===t?n.bA:new n(BigInt(0),this.aA);if(0===t){var i=this.Sy()?n.pA:n._A;return 1/t<0?i.Ey():i}return new n(this.Qn/BigInt(t),this.aA)},i.xA=function(){var t=this.PA();return[t.low,t.high,this.aA]},mt(n,null,[{key:"My",get:function(){return n.OA||(n.OA=new n(BigInt(0),1e6)),n.OA}},{key:"bA",get:function(){return n.NA||(n.NA=new n(BigInt(0),0)),n.NA}},{key:"_A",get:function(){return n.BA||(n.BA=new n(BigInt(1),0)),n.BA}},{key:"pA",get:function(){return n.MA||(n.MA=new n(BigInt(-1),0)),n.MA}}]),n}(Mt);function _n(t){return t.Ry()?t:t.Sy()?yn._A:yn.pA}function Sn(t,n){return t.Ry()||n.Ry()?yn.bA:t.Cy()&&n.Cy()?t.Sy()===n.Sy()?t:yn.bA:t.Cy()?t:n}yn.OA=void 0,yn.NA=void 0,yn.BA=void 0,yn.MA=void 0,function(t){t[t.RA=0]="RA",t[t.CA=1]="CA",t[t.DA=2]="DA"}(pn||(pn={}));var In=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?yn:bn;function Tn(t){return In.Oy(jt.fromBits(t[0],t[1],!1),t[2])}function En(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var kn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(kn.prototype=a.create(f.prototype)).constructor=kn;var Rn,Nn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(En(e),e.constructor),e}return zt(n,t),mt(n,[{key:"name",get:function(){return"BaseError"}}]),n}(kn),On=function(){function t(){this.pr=!1,this.kr=!1,this.Tr=[],this.Sr=[]}var n=t.prototype;return n.Er=function(){if(!this.pr&&!this.kr){this.pr=!0;for(var t=0,n=this.Tr.slice();t<n.length;t++){(0,n[t])()}this.Ir()}},n.Ir=function(){if(!this.kr){this.kr=!0;for(var t=0,n=this.Sr.slice();t<n.length;t++){(0,n[t])()}vt(this.Tr),vt(this.Sr)}},n.Rr=function(t){this.kr||this.Tr.push(t)},n.Cr=function(t){this.kr||at(this.Tr,t)},n.Dr=function(t){this.kr||this.Sr.push(t)},n.xr=function(t){this.kr||at(this.Sr,t)},t}(),Pn=function(){function t(){this.Pr=new On}var n=t.prototype;return n.Or=function(){this.Pr.Er()},n.Ir=function(){this.Pr.Ir()},n.Nr=function(t){var n=this.Pr;if(!n.pr)if(t.pr)n.Er();else if(!n.kr&&!t.kr){var i=function(){e(),n.Er()},e=function e(){t.Cr(i),t.xr(e),n.Cr(i),n.xr(e)};t.Rr(i),t.Dr(e),n.Rr(i),n.Dr(e)}},n.Br=function(){var n=new t,i=new t,e=n.Mr,r=i.Mr,o=this.Pr,u=function(){e.pr&&r.kr||r.pr&&e.kr?o.Er():e.kr&&r.kr&&o.Ir()};e.Rr(u),r.Rr(u),e.Dr(u),r.Dr(u),n.Nr(o),i.Nr(o);return o.Dr(function(){e.Cr(u),r.Cr(u),e.xr(u),r.xr(u)}),[n,i]},mt(t,[{key:"Mr",get:function(){return this.Pr}}]),t}(),An=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return zt(n,t),mt(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Nn);function Dn(t){return t instanceof f&&"AbortError"===t.name}function Cn(t,n){return t.then(function(t){return n.Ir(),t},function(t){throw n.Ir(),t})}j.resolve(),function(t){t.dj="HELLO",t.wj="HI_THERE",t.gj="INITIALIZE",t.mj="APPEND_INIT",t.yj="APPEND_DATA",t.Aj="ACK",t.bj="REMOVE",t._j="DESTROY_SESSION"}(Rn||(Rn={}));var xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Bn=16383;function Fn(t,n,i){for(var e,r,o,u=[],s=n;s<i;s+=3)u.push((e=t[s],r=t[s+1],o=t[s+2],xn[e>>2]+xn[(3&e)<<4|r>>4]+xn[(15&r)<<2|o>>6]+xn[63&o]));return u.join("")}var Ln=function(){function t(t){void 0===t&&(t=0),this.mu=t}var n=t.prototype;return n.gu=function(t){this.mu+=t},n.yu=function(t){this.mu=t},n.Au=function(){return new t(this.wu)},mt(t,[{key:"wu",get:function(){return this.mu}}]),t}();function Un(t,n){return null!=t&&t.substr(0,n.length)===n}var zn=16384;function Mn(t){var n=t.length;if(n<=zn)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=zn)i.push(String.fromCharCode.apply(String,t.slice(e,e+zn)));return i.join("")}function Wn(t){return function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Mn(n)}(t)}function qn(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function jn(t,n){return t>>n&63|128}function Vn(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(qn(t),n.push(t>>12&15|224),n.push(jn(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(jn(t,12)),n.push(jn(t,6))),n.push(63&t|128)):n.push(t)}function Hn(t,n){if(n.wu>=t.length)throw new f("Invalid byte index");var i=255&t[n.wu];if(n.gu(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function Xn(t,n){var i=n.wu;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.gu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Hn(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var o=(15&e)<<12|Hn(t,n)<<6|Hn(t,n);if(o>=2048)return qn(o),o;throw new f("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Hn(t,n)<<12|Hn(t,n)<<6|Hn(t,n);if(u>=65536&&u<=1114111)return u}throw new f("Invalid UTF-8 detected")}var Gn=65279;function Yn(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.wu,i);return n.gu(2),e}function Kn(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.wu,i,e),n.gu(2)}function Qn(t,n){return void 0===n&&(n=!1),function(t,n,i,e){for(var r=[];n.wu+2<=t.byteLength;){var o=Yn(t,n,i);if(e&&!o)break;r.push(o)}return Mn(r)}(ti(t),new ri,n,!1)}function $n(t,n){void 0===n&&(n=!1);var i=new w(2*t.length);return function(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,o=0;o<r;o+=1)Kn(t,n,i.charCodeAt(o),e)}(ti(i),new ri,t,n),i}function Jn(t){return Wn(function(t,n){var i,e=[],r=new ri;if(!n){if(!1===(i=Xn(t,r)))return e;i===Gn||e.push(i)}for(;!1!==(i=Xn(t,r));)e.push(i);return e}(ni(t)))}function Zn(t){return new w(function(t){for(var n=[],i=0;i<t.length;i++)Vn(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var o=t.charCodeAt(i++);56320==(64512&o)?n.push(((1023&r)<<10)+(1023&o)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function ti(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ni(t){return new w(t.buffer,t.byteOffset,t.byteLength)}function ii(t){return t instanceof ArrayBuffer?new w(t):ni(t)}function ei(t){if(t.slice)return t.slice(0);var n=new w(t.byteLength);return n.set(t,0),n}var ri=function(){function t(t){void 0===t&&(t=0),this.mu=t}var n=t.prototype;return n.gu=function(t){this.mu+=t},n.yu=function(t){this.mu=t},n.Au=function(){return new t(this.wu)},n.pu=function(){return new Ln(this.wu<<3)},mt(t,[{key:"wu",get:function(){return this.mu}}]),t}(),oi=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],ui=ArrayBuffer.isView||function(t){return t&&ct(oi,nt.call(t))};function si(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new w(n),e=0,r=0;r<t.length;r++){var o=t[r];i.set(o,e),e+=o.byteLength}return i}(t,n)}function fi(t){return function(t){for(var n=t.length,i=n%3,e=[],r=n-i,o=0;o<r;o+=Bn)e.push(Fn(t,o,c.min(r,o+Bn)));if(1===i){var u=t[n-1];e.push(xn[u>>2]+xn[(3&u)<<4]+"==")}else if(2===i){var s=t[n-2],f=t[n-1];e.push(xn[s>>2]+xn[(3&s)<<4|f>>4]+xn[(15&f)<<2]+"=")}return e.join("")}(new w(t))}function hi(t){return t&&"function"!=typeof t?t.slice():t}function ai(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var ci=function(){function t(t){var n=this;this.Fr=pt(),this.Lr=void 0,this.Ur=void 0,this.Wr=function(t){n.Vr(t)},this.Ur=t||this}var n=t.prototype;return n.zr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Hr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Hr(e,n)}},n.Hr=function(t,n){var i=this.Fr[t];i?"function"==typeof i?this.Fr[t]=[i,n]:i.push(n):this.Fr[t]=n},n.Xr=function(t){if("function"==typeof t){var n=this.Lr;n?"function"==typeof n?this.Lr=[n,t]:n.push(t):this.Lr=t}},n.qr=function(){this.Fr=pt(),this.Lr=void 0},n.Vr=function(t){var n=hi(this.Fr[t.type]),i=hi(this.Lr);ai(this.Ur,t,n),ai(this.Ur,t,i)},n.Gr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Qr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Qr(e,n)}},n.Qr=function(t,n){var i=this.Fr[t];i&&("function"==typeof i?i===n&&(this.Fr[t]=void 0):at(i,n))},n.jr=function(t){if("string"==typeof t)this.Fr[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Fr[i]=void 0}},n.Yr=function(t){var n=this.Lr;n&&("function"==typeof n?n===t&&(this.Lr=void 0):at(n,t))},n.Zr=function(t,n){var i=this;return new j(function(e,r){if(n&&n.pr)return r(new An);var o=function(t){s(),e(t)},u=function(){s(),r(new An)},s=function(){i.Gr(t,o),n&&n.Cr(u)};i.zr(t,o),n&&n.Rr(u)})},t}(),vi=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},li=function(t){function n(n){var i;return(i=t.call(this,"append")||this).hi=void 0,i.hi=n,i}return zt(n,t),n}(vi),di=function(t){function n(n){var i;return(i=t.call(this)||this).vw=void 0,i.tt=0,i.wi=new w(0),i.Lu=!1,i.rt=!1,i.vr=void 0,i.vw=n,i}zt(n,t);var i=n.prototype;return i.yW=function(t,n){this.lr&&0===this.wi.length&&(this.wi=this.vr.slice()),this.tt+=n.gy(),this.wi=si([this.wi,t]),this.Vr(new li(t))},i.Go=function(){this.Ko||(this.Vr(new vi("close")),this.Lu=!0)},mt(n,[{key:"Jw",get:function(){return this.tt}},{key:"hi",get:function(){return this.wi}},{key:"Ko",get:function(){return this.Lu}},{key:"lr",get:function(){return this.rt},set:function(t){this.rt=t}},{key:"br",get:function(){return this.vr},set:function(t){this.vr=t}}]),n}(ci),wi=function(){function t(t){this.ms=!1,this.rl=void 0,this.tb=void 0,this.DEFAULT_SEGMENT_DURATION_IN_SECONDS=1.1,this.dd="sync-seg-"+dt(),this.em=this.DEFAULT_SEGMENT_DURATION_IN_SECONDS,this.up=t;for(var n=0,i=this.up;n<i.length;n++){var e=i[n];if(e.match(/video/))this.rl=new di(this.SI(e));else{if(!e.match(/audio/))throw new f("Unsupported MIME type.");this.tb=new di(this.SI(e))}}}var n=t.prototype;return n.SI=function(t){for(var n=0,i=this.up;n<i.length;n++){if(i[n]===t)return this.em}},n.Go=function(){this.rl&&this.rl.Go(),this.tb&&this.tb.Go()},mt(t,[{key:"BR",get:function(){return this.ms},set:function(t){this.ms=t}},{key:"SP",get:function(){var t,n;return Boolean((null==(t=this.rl)?void 0:t.lr)||(null==(n=this.tb)?void 0:n.lr))}}]),t}(),bi=function(t){function n(n){var i;return(i=t.call(this,"remove")||this).Lm=void 0,i.Lm=n,i}return zt(n,t),n}(vi),gi=function(t){function n(n){var i;return(i=t.call(this)||this).ID=[],i.PC=void 0,i.px=[],i.l0=yt(),i.l1=yt(),i.t2=0,i.vtt=0,i.up=n,i.PC=new wi(i.up),i.PC.tb&&(i.PC.tb.lr=!0),i.PC.rl&&(i.PC.rl.lr=!0),i.px.push(new wi(i.up)),i}zt(n,t);var i=n.prototype;return i.fit=function(){var t=[].concat(this.ID,[this.PC],this.px);return this.ID.length=0,t},i.yW=function(t){this.hit(t),this.ait(t),this.cit(t)},i._W=function(t){this.hit(t)},i.Yo=function(t){this.hit(t),this.cit(t)},i.Ir=function(){this.PC.Go(),this.px.forEach(function(t){return t.Go()}),this.ID.length=0},i.ait=function(t){var n=Tn(t.startPts),i=Tn(t.totalDuration);this.l1.set(t.mimeType,n.Am(i))},i.vit=function(){this.PC.Go(),this.ID.push(this.PC);var t=this.px.shift(),n=this.lit();t?(this.PC=t,this.px.push(n)):this.PC=n},i.lit=function(){var t=new wi(this.up);return t.tb&&(t.tb.br=this.PC.tb.br),t.rl&&(t.rl.br=this.PC.rl.br),t},i.dit=function(t){var i=!this.PC.tb||0===this.PC.tb.Jw,e=!this.PC.rl||0===this.PC.rl.Jw,r=this.PC.tb&&this.PC.tb.lr,o=this.PC.rl&&this.PC.rl.lr,u=e&&(i&&!this.PC.BR||r),s=i&&(e&&!this.PC.BR||o);("audio"===n.wit(t)&&!s||"video"===n.wit(t)&&!u)&&(this.vit(),this.vit())},i.hit=function(t){var n=t.mimeType,i=t.kind,e=this.l0.get(n);void 0===e&&(i!==Rn.mj&&i!==Rn.yj||(e=[],this.l0.set(n,e))),void 0!==e&&e.push(t)},i.cit=function(t){for(var n=this.git(t),i=0;i<n.length;i++){var e=n[i];switch(e.kind){case Rn.mj:this.mit(e),this.t2=0,this.vtt=0;break;case Rn.bj:this.pit(e);break;case Rn.yj:this.yit(e)}}},i.mit=function(t){var n=t.mimeType,i=t.segment;this.dit(n),n.match(/video/)?(this.PC.rl.br=i,this.px.forEach(function(t){t.rl.br=i})):(this.PC.tb.br=i,this.px.forEach(function(t){t.tb.br=i})),this.PC.tb&&(this.PC.tb.lr=!0),this.PC.rl&&(this.PC.rl.lr=!0)},i.yit=function(t){var n=t.mimeType.match(/audio/),i=Tn(t.totalDuration);if(n?this.PC.tb.yW(t.segment,i):this.PC.rl.yW(t.segment,i),n||1===this.up.length){this.t2+=i.gy();var e=this.PC.SI(t.mimeType);this.t2>=this.vtt+e&&(this.vtt+=e,this.vit())}},i.pit=function(t){this.l1.set(t.mimeType,void 0),this.dit(t.mimeType),this.PC.tb&&(this.PC.tb.lr=!0),this.PC.rl&&(this.PC.rl.lr=!0),this.ID.length=0,this.Vr(new bi(Tn(t.endTime)))},i.git=function(t){var n=this;if(t.kind===Rn.bj)return this._it(t);var i=[];return this.l0.forEach(function(t){if(t&&t.length>0){var e=ht(t,function(t){return t.kind===Rn.bj});-1===e&&(e=t.length);for(var r=t.slice(0,e),o=0;o<r.length;o++){var u=r[o];if(!ct(i,u)){var s=n._it(u);if(s.length>0)i.push.apply(i,s);else if(u.kind===Rn.yj)break}}}}),i},i._it=function(t){for(var i,e=this.l0.get(t.mimeType),r=0,o=this.up;r<o.length;r++){var u=o[r];if(u!==t.mimeType){i=u;break}}if(!i)return e.splice(0,e.indexOf(t)+1);if(t.kind===Rn.mj)return[];var s=this.l1.get(i);if(void 0===s)return[];if(t.kind===Rn.bj){var f=this.Sit(i);if(f.length>0){var h=e.splice(0,e.indexOf(t));return e.splice(0,1),[].concat(h,f,[t])}return[]}if(n.Iit(t,s)){var a=e.splice(0,e.indexOf(t));e.splice(0,1);var c=this.Tit(t,a,i);return[].concat(a,c,[t])}return[]},i.Tit=function(t,i,e){var r=this.l0.get(e);if(!r)return[];var o=Tn(t.startPts),u=Tn(t.totalDuration),s=o.Am(u),f=ht(r,function(t){return t.kind===Rn.bj}),h=f-1;-1===f&&(h=r.length-1);for(var a=h+1,c=0;c<=h&&a===h+1;c++){var v=r[c];v.kind!==Rn.yj||n.Iit(v,s)||(a=c)}var l=-1;return-1!==ht(i,function(t){return t.kind===Rn.mj})&&(l=ht(r,function(t){return t.kind===Rn.mj})),l>a&&(a=l+1),a>0?(r[a-1].kind===Rn.mj&&(a-=1),r.splice(0,a)):[]},i.Sit=function(t){var n=this.l0.get(t);if(n){var i=ht(n,function(t){return t.kind===Rn.bj});if(i>=0)return n.splice(0,i+1)}return[]},n.Iit=function(t,n){var i=n,e=Tn(t.startPts);return i.Ay(e)},i.Eit=function(){var t="[MEDIABUFFER] endPTS: ";this.l1.forEach(function(i,e){t=t.concat(n.wit(e)+" = "+(null==i?void 0:i.gy())+" ")}),J.Ae(t)},i.kit=function(){var t=this;J.Ae("[MEDIABUFFER] unsyncedMessageMap:"),this.l0.forEach(function(i,e){void 0!==i&&t.Rit(n.wit(e),i)})},i.Rit=function(t,i){var e=t+": [";null==i||i.forEach(function(t){e=e.concat(" "+t.kind+"("+n.wit(t.mimeType)+")")}),e=e.concat(" ]"),J.Ae(e)},n.wit=function(t){return t.match(/audio/)?"audio":"video"},n}(ci);var mi=function(){function t(t,n,i){var e=this;this.Nit=[],this.Oit=yt(),this.Pit=0,this.K$=void 0,this.Ait=void 0,this.Dit=function(t){if(t.Lm.Ay(In.AA(ot)))for(;e.Nit.length>0;)e.Cit()},this.xit=n,this.Bit=i,this.Ait=[new kt,new Rt(8),new Nt(1),new Pt,new Ot(0)],this.K$=t,this.K$.zr("remove",this.Dit)}var n=t.prototype;return n.Fit=function(t,n){var i=this.Oit.get(t);if(i)if(n===wt.Kh){var e=i.rl;if(e)return e}else{var r=i.tb;if(r)return r}throw new f(t+" segment not available!")},n.Ir=function(){this.Nit.length=0,this.xit.$p=0,this.Oit.clear(),this.Pit=0},n.rp=function(){return this.Lit(),new Ft([].concat(this.Ait,[this.xit,this.Bit],this.Nit))},n.Lit=function(){for(var t=this.K$.fit(),n=0;n<t.length;n++){var i=t[n];if(!this.Oit.has(i.dd)){i.BR=!0;var e=i.em;i.SP&&this.Nit.push(new Ct),this.Oit.set(i.dd,i),this.Nit.push(new Et(e,i.dd)),this.Pit+=e}}this.Uit()},n.Uit=function(){for(;this.Pit>300;)this.Cit()},n.Cit=function(){var t=this.Nit.shift();void 0!==t&&(t.er===St.Vh?(this.zit(t),this.Pit-=t.P,this.xit.$p++):function(t){return t.er===St.T}(t)&&this.Bit.$p++)},n.zit=function(t){this.Oit.delete(t.A)},t}(),pi=function(){function t(t){this.Mit=void 0,this.Wit=void 0,this.qit=void 0,this.up=t,this.Mit=new Lt,this.Wit=new gi(this.up);for(var n=0,i=this.up;n<i.length;n++){var e=i[n];if(this.qit=new mi(this.Wit,new Dt(0),new xt(0)),e.match(/video/)){var r=new At("video/index.m3u8");this.Mit.H(r)}else{if(!e.match(/audio/))throw new f("Unsupported MIME type.");var o=new Bt("audio/index.m3u8");this.Mit.H(o)}}}var n=t.prototype;return n.jit=function(t){if("master.m3u8"===t){if(this.Mit)return this.Mit.rp;throw new f("Master playlist not ready yet")}if(this.qit)return this.qit.rp();throw new f("Media playlist not ready yet")},n.Fit=function(n){var i=n.split("/")[1];return this.qit.Fit(i,t.Vit(n))},n._W=function(t){this.Wit._W(t)},n.yW=function(t){this.Wit.yW(t)},n.Hit=function(t){this.Wit.Yo(t)},n.Ir=function(){this.Wit.Ir(),this.Mit.Ir(),this.qit&&this.qit.Ir()},t.Vit=function(t){return t.match(/video/)?wt.Kh:wt.Jh},t}();var yi,_i=function(){function n(t,n){var i=this;this.Xit=void 0,this.Git=function(t){var n,e,r;return Z.async(function(o){for(;;)switch(o.prev=o.next){case 0:n=t.data,o.t0=n.kind,o.next=o.t0===Rn.gj?4:o.t0===Rn.mj?7:o.t0===Rn.yj?9:o.t0===Rn.bj?11:13;break;case 4:return e=n.mediaBufferConfigs,i.Xit=new pi(e),o.abrupt("break",13);case 7:return i.Xit._W(n),o.abrupt("break",13);case 9:return i.Xit.yW(n),o.abrupt("break",13);case 11:return i.Xit.Hit(n),o.abrupt("break",13);case 13:r={kind:Rn.Aj},i.Yit.postMessage(r);case 15:case"end":return o.stop()}},null,null,null,j)},this.Yit=t,this.Kit=n,this.Yit.onmessage=this.Git}var i=n.prototype;return i.Qit=function(t){return this.Xit.jit(t)},i.$it=function(n){if(this.Xit){if(n.match(/m3u8/)){var i=this.Qit(n);return new Response(i.W(),{headers:{"Content-Type":"application/x-mpegurl; charset=utf-8"}})}var e={"Content-Type":n.match(/video/)?"video/mp4":"audio/mp4"},r=function(n){var i,e=function(t){i.enqueue(t.hi)},r=function t(){i.close(),n.Gr("append",e),n.Gr("close",t)};return new t.ReadableStream({start:function(t){(i=t).enqueue(n.hi),n.Ko?i.close():(n.zr("append",e),n.zr("close",r))},cancel:function(){n.Gr("append",e),n.Gr("close",r),n.Go()}})}(this.Jit(n));return new Response(r,{headers:e})}throw new f("Stream not active.")},i.Jit=function(t){return this.Xit.Fit(t)},i.close=function(){this.Yit.close(),this.Xit&&this.Xit.Ir()},n}(),Si=function(){function t(){var t=this;this.zH=yt(),this.Zit=void 0,this.Git=function(n){var i=n.data;switch(i.kind){case Rn.dj:t.tet().catch(lt);var e=i.port,r=dt(),o=new _i(e,n.source.id);t.zH.set(r,o);e.addEventListener("message",function n(i){i.data.kind===Rn._j&&(t.net(r),e.removeEventListener("message",n))});var u={kind:Rn.wj,sessionId:r};e.postMessage(u)}},this.iet=function(n){if(Un(n.request.url,bt)){var i=new URL(n.request.url).pathname.split("/"),e=i[1],r=i.slice(2).join("/");if(void 0!==e&&void 0!==r){var o=t.zH.get(e);if(o)try{var u=o.$it(r);n.respondWith(u)}catch(t){n.respondWith(j.resolve(new Response(void 0,{headers:{message:"Segment not found"},status:404,statusText:"Not Found"})))}else n.respondWith(j.resolve(new Response(void 0,{headers:{message:"Given session ["+e+"] not found"},status:404,statusText:"Not Found"})))}else n.respondWith(j.resolve(new Response(void 0,{headers:{message:"No session ["+e+"] or resource ["+r+"] provided"},status:404,statusText:"Not Found"})))}}}var n=t.prototype;return n.Xg=function(t){this.Zit=t,t.addEventListener("message",this.Git),t.addEventListener("fetch",this.iet)},n.net=function(t){var n=this.zH.get(t);n&&n.close(),this.zH.delete(t)},n.tet=function(){var t,n,i=this;return Z.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.awrap(this.Zit.clients.matchAll());case 2:t=e.sent,n=t.map(function(t){return t.id}),this.zH.forEach(function(t,e){ct(n,t.Kit)||i.net(e)});case 5:case"end":return e.stop()}},null,this,null,j)},t}();Si.eet=new Si,function(t){t.o="web",t.l="android",t.g="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(yi||(yi={}));var Ii=e?e.userAgent:"",Ti=Ii.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ei=Ii.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),ki=Ii.match(/Android ([0-9\.]+)/i),Ri=Ii.match(/Windows NT ([0-9\.]+)/i),Ni=Ii.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Oi=Ii.match(/Firefox\/([0-9\.]+)/i),Pi=Ii.match(/OPR\/(\d+\.\d+)/i),Ai=Ii.match(/Tizen ([0-9\.]+)/i),Di=Ii.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Ci=function(){function n(){this.F=Boolean("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch||e&&e.msMaxTouchPoints),this.U=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Ii)||/(macintosh|mac(?=_powerpc)\s)/i.test(Ii),this.V=/Windows NT/i.test(Ii),this.X=Ri?l(Ri[1]):0,this.q=/Android/i.test(Ii),this.G=ki?l(ki[1]):0,this.j=/windows phone (8|8\.1)/i.test(Ii),this.Y=/iPhone/i.test(Ii),this.Z=/iPad/i.test(Ii),this.J=this.U&&this.F&&!this.Z,this.K=/iPod/i.test(Ii),this.nt=/Mobile Safari/i.test(Ii),this.it=/EOSSTB/i.test(Ii),this.et=(this.Y||this.Z||this.J||this.K)&&!this.j,this.ut=Di?l(Di[2]):0,this.st=this.j||this.et||this.q||this.nt,this.ot=/CriOS/i.test(Ii),this.ct=Boolean(t.chrome&&/google/i.test(e.vendor))||this.ot,this.ft=this.ct&&/Edg\//i.test(e.userAgent),this.ht=Ei?v(Ei[1],10):0,this.vt=Boolean(t.chrome||/Chrome/i.test(Ii)||/CriOS/i.test(Ii)),this.dt=Ti?v(Ti[1],10):0,this.wt=/SMART-TV.*Tizen/i.test(Ii),this.yt=Ai?l(Ai[1]):0,this.At=/webos|web0s/i.test(Ii),this.bt=/Edge\/\d+/i.test(Ii),this._t=/Trident/i.test(Ii),this.pt=this._t&&!t.ActiveXObject&&"ActiveXObject"in t,this.kt=/Vivaldi/i.test(Ii),this.Tt=/Firefox/i.test(Ii)&&!/Seamonkey/i.test(Ii),this.St=Oi?l(Oi[1]):0,this.Et=/Safari/i.test(Ii)&&!/Chrome/i.test(Ii)&&!this.j&&!this.wt,this.It=Ni?l(Ni[2]):0,this.Rt=Boolean(Pi),this.Ct=Pi?l(Pi[1]):0,this.Dt=/CrKey/.test(Ii),this.xt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(Ii),this.Pt="web"===yi.g,this.Ot="web"===yi.l,this.Nt=this.Ot||this.Pt,this.Bt="web"===yi.R,this.Mt="web"===yi.N,this.Ft="web"===yi.M}return mt(n,[{key:"Lt",get:function(){return this.F}},{key:"Ut",get:function(){return this.U}},{key:"Wt",get:function(){return this.V}},{key:"Vt",get:function(){return this.X}},{key:"zt",get:function(){return this.q}},{key:"Ht",get:function(){return this.G}},{key:"Xt",get:function(){return this.j}},{key:"qt",get:function(){return this.Y}},{key:"Gt",get:function(){return this.Z}},{key:"Qt",get:function(){return this.J}},{key:"jt",get:function(){return this.K}},{key:"Yt",get:function(){return this.et}},{key:"Zt",get:function(){return this.ut}},{key:"Jt",get:function(){return this.it}},{key:"Kt",get:function(){return this.nt}},{key:"$t",get:function(){return this.st}},{key:"tn",get:function(){return this.ot}},{key:"nn",get:function(){return this.ct}},{key:"in",get:function(){return this.dt}},{key:"en",get:function(){return this.ft}},{key:"rn",get:function(){return this.ht}},{key:"un",get:function(){return this.wt}},{key:"sn",get:function(){return this.yt}},{key:"an",get:function(){return this.At}},{key:"cn",get:function(){return this.bt}},{key:"fn",get:function(){return this._t}},{key:"hn",get:function(){return this.pt}},{key:"vn",get:function(){return this.kt}},{key:"ln",get:function(){return this.Tt}},{key:"dn",get:function(){return this.St}},{key:"wn",get:function(){return this.Et}},{key:"gn",get:function(){return this.It}},{key:"mn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.Ct}},{key:"An",get:function(){return this.Dt}},{key:"bn",get:function(){return this.xt}},{key:"_n",get:function(){return!(!this.an&&!this.un)&&this.in<=56}},{key:"pn",get:function(){return this.Pt}},{key:"kn",get:function(){return this.Ot}},{key:"Tn",get:function(){return this.Nt}},{key:"Sn",get:function(){return this.Bt}},{key:"En",get:function(){return this.Mt}},{key:"In",get:function(){return this.Ft}},{key:"Rn",get:function(){return this.vt}}]),n}();Ci.Cn=new Ci;var xi=Ci.Cn,Bi=!(xi.fn&&!xi.hn),Fi=t.console;function Li(t){if(et(t))try{return JSON.stringify(t)}catch(t){}return t}function Ui(t){return t.map(Li).join(" ")}function zi(t){var n=Fi&&Fi[t];return n?n.bind&&Bi?n.bind(Fi):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];Fi[t](Ui(i))}:void 0}var Mi,Wi=zi("log")||lt,qi=zi("warn")||Wi.bind(void 0,"WARNING:"),ji=zi("error")||Wi.bind(void 0,"ERROR:"),Vi=(Mi=Fi&&Fi.assert)?Mi.bind&&Bi?Mi.bind(Fi):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Fi.assert(t,Ui(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ji.apply(void 0,["Assertion failed:"].concat(i))}};function Hi(){return Date.now()||(new Date).getTime()}var Xi;jt.fromNumber(ot),function(t){t[t.Nn=1]="Nn",t[t.Mn=2]="Mn",t[t.Bn=3]="Bn",t[t.Fn=4]="Fn",t[t.Ln=9]="Ln"}(Xi||(Xi={}));var Gi=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return zt(n,t),n}(Nn),Yi=function(){function t(){}return t.prototype.Un=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Gi(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Gi;return new ne(n)},t}(),Ki=function(){function t(t){this.Wn=void 0,this.Wn=t}var n=t.prototype;return n.Vn=function(t){return this.Wn.isEqualNode(t.Wn)},n.zn=function(n){return new t(this.Wn.cloneNode(n))},mt(t,[{key:"On",get:function(){return Xi.Mn}},{key:"Hn",get:function(){var t;return null!=(t=this.Wn.localName)?t:re(this.Wn.nodeName)}},{key:"Xn",get:function(){return this.Wn.nodeName}},{key:"qn",get:function(){var t;return null!=(t=this.Wn.namespaceURI)?t:void 0}},{key:"Gn",get:function(){var t;return null!=(t=this.Wn.prefix)?t:void 0}},{key:"Qn",get:function(){return this.Wn.nodeValue}}]),t}(),Qi=function(){function t(t){this.jn=void 0,this.Yn=void 0,this.jn=t}var n=t.prototype;return n.Zn=function(t){return this.Jn.filter(function(n){return ie(n)&&n.Kn===t})},n.$n=function(t,n){return this.Jn.filter(function(i){return ie(i)&&i.Hn===n&&i.qn===t})},n.ti=function(t){this.jn.appendChild(t.ni),this.Yn&&this.Yn.push(t)},n.Vn=function(t){return this.jn.isEqualNode(t.ni)},mt(t,[{key:"Jn",get:function(){return void 0===this.Yn&&(this.Yn=function(t){for(var n=[],i=0;i<t.length;i++){var e=ee(t.item(i));e&&n.push(e)}return n}(this.jn.childNodes)),this.Yn}},{key:"ii",get:function(){return this.Jn.filter(ie)}},{key:"ni",get:function(){return this.jn}}]),t}(),$i=function(t){function n(n){return t.call(this,n)||this}zt(n,t);var i=n.prototype;return i.ei=function(t){if(this.jn.hasAttribute(t))return this.jn.getAttribute(t)},i.ri=function(t,n){if(this.jn.hasAttributeNS(t,n))return this.jn.getAttributeNS(t,n)},i.ui=function(t){this.jn.removeAttribute(t)},i.si=function(t,n){this.jn.removeAttributeNS(t,n)},i.oi=function(t,n){this.jn.setAttribute(t,n)},i.ai=function(t,n,i){this.jn.setAttributeNS(t,n,i)},i.zn=function(t){return new n(this.jn.cloneNode(t))},mt(n,[{key:"On",get:function(){return Xi.Nn}},{key:"Hn",get:function(){var t;return null!=(t=this.jn.localName)?t:re(this.jn.nodeName)}},{key:"qn",get:function(){var t;return null!=(t=this.jn.namespaceURI)?t:void 0}},{key:"Gn",get:function(){var t;return null!=(t=this.jn.prefix)?t:void 0}},{key:"Kn",get:function(){return this.jn.nodeName}},{key:"ci",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Ki(t.item(i)));return n}(this.jn.attributes)}},{key:"fi",get:function(){return this.jn.textContent}}]),n}(Qi),Ji=function(){function t(t){this.jn=void 0,this.jn=t}return t.prototype.Vn=function(t){return this.hi===t.hi},mt(t,[{key:"hi",get:function(){return this.jn.nodeValue}},{key:"ni",get:function(){return this.jn}}]),t}(),Zi=function(t){function n(n){return t.call(this,n)||this}return zt(n,t),n.prototype.zn=function(t){return new n(this.jn.cloneNode(t))},mt(n,[{key:"On",get:function(){return Xi.Bn}}]),n}(Ji),te=function(t){function n(n){return t.call(this,n)||this}return zt(n,t),n.prototype.zn=function(t){return new n(this.jn.cloneNode(t))},mt(n,[{key:"On",get:function(){return Xi.Fn}}]),n}(Ji),ne=function(t){function n(n){return t.call(this,n)||this}return zt(n,t),n.prototype.zn=function(t){return new n(this.jn.cloneNode(t))},mt(n,[{key:"On",get:function(){return Xi.Ln}},{key:"vi",get:function(){return new $i(this.jn.documentElement)}}]),n}(Qi);function ie(t){return function(t){return t.On===Xi.Nn}(t)}function ee(t){switch(t.nodeType){case Xi.Nn:return new $i(t);case Xi.Bn:return new Zi(t);case Xi.Fn:return new te(t)}}function re(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function oe(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),a.defineProperty(t,e.key,e)}}function ue(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){se(t,n,r,e);var o=t;t=e,e=o}return t}(t,n);return i!==t&&se(i,null,t.length,t),t}function se(t,n,i,e){var r,o,u,s,f,h=t.length,a=0,c=2*i;for(r=0;r<h;r+=c)for(u=(o=r+i)+i,o>h&&(o=h),u>h&&(u=h),s=r,f=o;;)if(s<o&&f<u)n(t[s],t[f])<=0?e[a++]=t[s++]:e[a++]=t[f++];else if(s<o)e[a++]=t[s++];else{if(!(f<u))break;e[a++]=t[f++]}}var fe=/[a-zA-Z]/,he=/[0-9]/,ae=/[0-9a-fA-F]/,ce=/^0x/i,ve=/^[0-9]+$/,le=/^[0-9a-fA-F]+$/,de=/^[0-7]+$/,we=a.prototype.toString,be=Array.isArray||function(t){return"[object Array]"===we.call(t)},ge="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function me(t){return be(t)?t:Array.from(t)}function pe(t){return t>=65&&t<=90}function ye(t){return pe(t)||function(t){return t>=97&&t<=122}(t)}function _e(t){return t>=48&&t<=57}function Se(t){return _e(t)||ye(t)}function Ie(t){return _e(t)||t>=65&&t<=70||t>=97&&t<=102}function Te(t){return pe(t)?t+32:t}function Ee(t){return _e(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function ke(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Re=c.min,Ne=String.fromCharCode,Oe=16384;function Pe(t){for(var n=t.length,i=[],e=0;e<n;e+=Oe){var r=Re(e+Oe,n);i.push(Ne.apply(null,t.slice(e,r)))}return i.join("")}var Ae=/[^\0-\x7E]/,De=/[\x2E\u3002\uFF0E\uFF61]/g,Ce={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},xe=c.floor,Be=String.fromCharCode;function Fe(t){throw new RangeError(Ce[t])}function Le(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var o=t.charCodeAt(i++);56320==(64512&o)?n.push(((1023&r)<<10)+(1023&o)+65536):(n.push(r),i--)}else n.push(r)}return n}var Ue,ze,Me,We=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},qe=function(t,n,i){var e=0;for(t=i?xe(t/700):t>>1,t+=xe(t/n);t>455;e+=36)t=xe(t/35);return xe(e+36*t/(t+38))},je=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(De,".")).split("."),n).join(".");return e+r}(t,function(t){return Ae.test(t)?"xn--"+function(t){for(var n=[],i=(t=Le(t)).length,e=128,r=0,o=72,u=0,s=t;u<s.length;u++){var f=s[u];f<128&&n.push(Be(f))}var h=n.length,a=h;for(h&&n.push("-");a<i;){for(var c=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<c&&(c=d)}var w=a+1;c-e>xe((2147483647-r)/w)&&Fe("overflow"),r+=(c-e)*w,e=c;for(var b=0,g=t;b<g.length;b++){var m=g[b];if(m<e&&++r>2147483647&&Fe("overflow"),m==e){for(var p=r,y=36;;y+=36){var _=y<=o?1:y>=o+26?26:y-o;if(p<_)break;var S=p-_,I=36-_;n.push(Be(We(_+S%I,0))),p=xe(S/I)}n.push(Be(We(p,0))),o=qe(r,w,a==h),r=0,++a}}++r,++e}return n.join("")}(t):t})};function Ve(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Pe(n)}function He(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Xe(t,n){return t>>n&63|128}function Ge(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(He(t),n.push(t>>12&15|224),n.push(Xe(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Xe(t,12)),n.push(Xe(t,6))),n.push(63&t|128)):n.push(t)}function Ye(t){for(var n=[],i=0;i<t.length;i++){Ge(t[i],n)}return n}function Ke(){if(Me>=ze)throw new f("Invalid byte index");var t=255&Ue[Me];if(Me++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Qe(){var t,n;if(Me>ze)throw new f("Invalid byte index");if(Me===ze)return!1;if(t=255&Ue[Me],Me++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Ke())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Ke()<<6|Ke())>=2048)return He(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Ke()<<12|Ke()<<6|Ke())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function $e(t){return[37,ke(t>>4),ke(15&t)]}function Je(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Ze(t){return Je(t)||32===t||34===t||60===t||62===t||96===t}function tr(t){return Ze(t)||35===t||63===t||123===t||125===t}function nr(t){return tr(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ir(t){return t<33||t>126||34===t||35===t||60===t||62===t}function er(t){return ir(t)||39===t}function rr(t,n){if(!n(t))return[t];for(var i=Ye([t]),e=[],r=0;r<i.length;r++){var o=i[r];e.push.apply(e,$e(o))}return e}function or(t,n){for(var i=[],e=0,r=Le(t);e<r.length;e++){var o=r[e];i.push.apply(i,rr(o,n))}return Ve(i)}function ur(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Ie(t[e+1])&&Ie(t[e+2])){var o=Ee(t[e+1])<<4|Ee(t[e+2]);n.push(o),e+=2}else n.push(r)}return n}(Ye(t))}function sr(t){return Ve(function(t){Ue=t.slice(),ze=Ue.length,Me=0;for(var n,i=[];!1!==(n=Qe());)i.push(n);return i}(ur(Le(t))))}function fr(t){var n,i,e,r,o=t.length,u=[0,0,0,0,0,0,0,0],s=0,f=null,a=0;if(a<o&&":"===t[a]){if(!(a+1<o&&":"===t[a+1]))throw new h;a+=2,f=s+=1}for(;a<o;){if(8===s)throw new h("Too many groups");if(":"!==t[a]){for(var c=0,l=0;l<4&&a<o&&ae.test(t[a]);)c=c<<4|v(t[a],16),a+=1,l+=1;if("."===t[a]){if(0===l)throw new h;if(a-=l,s>6)throw new h;for(var d=0;a<o;){var w=null;if(d>0){if(!("."===t[a]&&d<4))throw new h;a+=1}if(!he.test(t[a]))throw new h;for(;a<o&&he.test(t[a]);){var b=v(t[a],10);if(null===w)w=b;else{if(0===w)throw new h;if((w=10*w+b)>255)throw new h}a+=1}u[s]=u[s]<<8|w,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new h;break}if(":"===t[a]){if((a+=1)===o)throw new h}else if(a<o)throw new h;u[s]=c,s+=1}else{if(null!==f)throw new h("Too many :: groups");a+=1,f=s+=1}}if(null!==f){var g=s-f;for(s=7;0!==s&&g>0;)e=f+g-1,r=void 0,r=(n=u)[i=s],n[i]=n[e],n[e]=r,s-=1,g-=1}else if(8!==s)throw new h;return u}function hr(t){var n=10,i=ve;return ce.test(t)?(t=t.slice(2),n=16,i=le):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=de),""===t?0:i.test(t)?v(t,n):void 0}var ar={li:4},cr=/[\0\t\n\r #%/:?@\[\\\]]/,vr=/[\0\t\n\r #/:?@\[\\\]]/;function lr(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new h("Invalid IPv6 address");return{li:2,di:fr(t.slice(1,-1))}}if(!n)return function(t){if(vr.test(t))throw new h("Invalid code point in opaque host");var n=or(t,Je);return""===n?ar:{li:3,wi:n}}(t);var i=function(t){return function(t){return je(t.toLowerCase())}(t)}(sr(t));if(cr.test(i))throw new h("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var o=hr(r);if(void 0===o)return;i.push(o)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new h;if(i[i.length-1]>=c.pow(256,5-i.length))throw new h;for(var s=i.pop(),f=0;f<i.length;f++)s+=i[f]*c.pow(256,3-f);return s}}(i);return void 0!==e?{li:1,di:e}:""===i?ar:{li:0,gi:i}}function dr(t){switch(t.li){case 0:return t.gi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.di);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,o=0;o<8;o++)0===t[o]?(0===r&&(e=o),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.di)+"]";case 3:return t.wi;case 4:return""}}var wr=/\+/g;function br(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var o=r.indexOf("="),u=void 0,s=void 0;-1!==o?(u=r.slice(0,o),s=r.slice(o+1)):(u=r,s=""),u=u.replace(wr," "),s=s.replace(wr," ");var f=sr(u),h=sr(s);i.push([f,h])}}return i}function gr(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=mr(Ye(Le(e[0])))+"="+mr(Ye(Le(e[1])))}return n}function mr(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Se(n)?i.push(r):i.push.apply(i,$e(r))}return Pe(i)}var pr=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function yr(t){var n=""+t,i=pr.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var o=t.charCodeAt(r);if(Sr(o))if(Ir(o)||r===i-1)e.push(_r);else{var u=t.charCodeAt(r+1);Ir(u)?(e.push(o,u),r++):e.push(_r)}else e.push(o)}return t.slice(0,n)+Pe(e)}(n,i.index):n}var _r=65533,Sr=function(t){return 55296==(63488&t)},Ir=function(t){return 0!=(1024&t)};function Tr(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Er(t){t.mi.length=0}function kr(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.mi,br(n))}function Rr(t){if(t.yi){var n=gr(t.mi);""===n&&(n=null),t.yi.yi.Ai=n}}var Nr=function(){function t(t){if(void 0===t&&(t=void 0),this.yi=null,null==t)this.mi=[];else if("object"==typeof t||"function"==typeof t)if((o=t)instanceof Nr&&be(o.mi)&&(!ge||o[Symbol.iterator]===Or))this.mi=t.mi.slice();else if(function(t){return null!=t&&(!!be(t)||!!ge&&"function"==typeof t[Symbol.iterator])}(t)){this.mi=[];for(var n=0,i=me(t);n<i.length;n++){var e=me(i[n]);if(2!==e.length)throw new h("Invalid name-value pair");this.mi.push([yr(e[0]),yr(e[1])])}}else for(var r in this.mi=[],t)a.prototype.hasOwnProperty.call(t,r)&&this.mi.push([yr(r),yr(t[r])]);else(t=yr(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.mi=br(t);var o}var n=t.prototype;return n.append=function(t,n){t=yr(t),n=yr(n),this.mi.push([t,n]),Rr(this)},n.delete=function(t){t=yr(t);for(var n=this.mi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Rr(this)},n.get=function(t){t=yr(t);for(var n=this.mi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=yr(t);for(var n=this.mi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=yr(t);for(var n=this.mi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=yr(t),n=yr(n);for(var i=this.mi,e=!1,r=0;r<i.length;){var o=i[r];o[0]===t?e?i.splice(r,1):(o[1]=n,e=!0,r++):r++}e||i.push([t,n]),Rr(this)},n.sort=function(){ue(this.mi,Tr),Rr(this)},n.toString=function(){return gr(this.mi)},n.entries=function(){return new Cr(this.mi,Pr)},n.keys=function(){return new Cr(this.mi,Ar)},n.values=function(){return new Cr(this.mi,Dr)},n.forEach=function(t){var n=this;this.mi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Or=Nr.prototype.entries;ge&&(Nr.prototype[Symbol.iterator]=Or);var Pr=function(t){return[t[0],t[1]]},Ar=function(t){return t[0]},Dr=function(t){return t[1]},Cr=function(){function t(t,n){this.bi=0,this.mi=t,this._i=n}return t.prototype.next=function(){return this.bi<this.mi.length?{done:!1,value:this._i(this.mi[this.bi++])}:{done:!0,value:void 0}},t}(),xr="null";var Br=a.create(null);Br.ftp=21,Br.file=0,Br.gopher=70,Br.http=80,Br.https=443,Br.ws=80,Br.wss=443;var Fr=/^(?:\.|%2e)$/i,Lr=/^(?:\.|%2e){2}$/i;function Ur(t){return Fr.test(t)}function zr(t){return Lr.test(t)}function Mr(t){return void 0!==Br[t]}function Wr(t){return Mr(t.pi)}function qr(t){return""!==t.ki||""!==t.Ti}function jr(t){var n=t.length;if(!(n>=2))return!1;if(!Hr(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Vr(t){return 2===t.length&&fe.test(t[0])&&(":"===t[1]||"|"===t[1])}function Hr(t){return 2===t.length&&Vr(Pe(t))}function Xr(t){return Vr(t)&&":"===t[1]}function Gr(t){var n=t.Si;0!==n.length&&("file"===t.pi&&1===n.length&&Xr(n[0])||n.pop())}function Yr(t){return null===t.Ei||ar===t.Ei||t.Ii||"file"===t.pi}var Kr=-1,Qr=/\t|\n|\r/g,$r=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Jr(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new to,t=t.replace($r,""));var r=null!==e?e:0;n=n||null;for(var o=[],u=!1,s=!1,f=!1,a=Le(t=t.replace(Qr,"")),c=a.length,l=0;l<=c;){var d=l<c?a[l]:Kr;switch(r){case 0:if(!ye(d)){if(null===e){o.length=0,r=2;continue}throw new h("Invalid scheme")}o.push(Te(d)),r=1;break;case 1:if(Se(d)||43===d||45===d||46===d)o.push(Te(d));else{if(58!==d){if(null===e){o.length=0,r=2,l=0;continue}throw new h("Invalid scheme")}var w=Ve(o);if(null!==e){if(Mr(i.pi)&&!Mr(w))return;if(!Mr(i.pi)&&Mr(w))return;if((qr(i)||null!==i.Ri)&&"file"===w)return;if("file"===i.pi&&(i.Ei===ar||null===i.Ei))return}if(i.pi=w,null!==e)return void(Wr(i)&&i.Ri===Br[i.pi]&&(i.Ri=null));o.length=0,"file"===i.pi?r=13:Wr(i)&&n&&n.pi===i.pi?r=3:Wr(i)?r=7:47===a[l+1]?(r=4,l+=1):(i.Ii=!0,i.Si.push(""),r=18)}break;case 2:if(!n||n.Ii&&35!==d)throw new h("Invalid scheme");n.Ii&&35===d?(i.pi=n.pi,i.Si=n.Si.slice(),i.Ai=n.Ai,i.Ci="",i.Ii=!0,r=20):"file"!==n.pi?(r=5,l-=1):(r=13,l-=1);break;case 3:47===d&&47===a[l+1]?r=8:(r=5,l-=1);break;case 4:47===d?r=9:(r=17,l-=1);break;case 5:i.pi=n.pi,Kr===d?(i.ki=n.ki,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,i.Si=n.Si.slice(),i.Ai=n.Ai):47===d?r=6:63===d?(i.ki=n.ki,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,i.Si=n.Si.slice(),i.Ai="",r=19):35===d?(i.ki=n.ki,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,i.Si=n.Si.slice(),i.Ai=n.Ai,i.Ci="",r=20):92===d&&Wr(i)?r=6:(i.ki=n.ki,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,i.Si=n.Si.slice(),i.Si.pop(),r=17,l-=1);break;case 6:!Wr(i)||47!==d&&92!==d?47===d?r=9:(i.ki=n.ki,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,r=17,l-=1):r=8;break;case 7:if(47!==d||47!==a[l+1]){r=8;continue}r=8,l+=1;break;case 8:47!==d&&92!==d&&(r=9,l-=1);break;case 9:if(64===d){u&&o.unshift(37,52,48),u=!0;for(var b=0;b<o.length;b++){var g=o[b];if(58!==g||f){var m=Ve(rr(g,nr));f?i.Ti+=m:i.ki+=m}else f=!0}o.length=0}else if(Kr===d||47===d||63===d||35===d||Wr(i)&&92===d){if(u&&0===o.length)throw new h("Invalid host");l-=o.length+1,o.length=0,r=10}else o.push(d);break;case 10:case 11:if(null!==e&&"file"===i.pi)l-=1,r=15;else if(58!==d||s)if(Kr===d||47===d||63===d||35===d||Wr(i)&&92===d){if(l-=1,Wr(i)&&0===o.length)throw new h("Invalid host");if(null!==e&&0===o.length&&(qr(i)||null!==i.Ri))return;var p=lr(Ve(o),Wr(i));if(i.Ei=p,o.length=0,r=16,null!==e)return}else 91===d?s=!0:93===d&&(s=!1),o.push(d);else{if(0===o.length)throw new h("Invalid host");var y=lr(Ve(o),Wr(i));if(i.Ei=y,o.length=0,r=12,11===e)return}break;case 12:if(_e(d))o.push(d);else{if(!(Kr===d||47===d||63===d||35===d||Wr(i)&&92===d||null!==e))throw new h("Invalid port");if(0!==o.length){var _=v(Ve(o),10);if(_>65535)throw new h("Invalid port");i.Ri=_===Br[i.pi]?null:_,o.length=0}if(null!==e)return;r=16,l-=1}break;case 13:i.pi="file",47===d||92===d?r=14:n&&"file"===n.pi?Kr===d?(i.Ei=n.Ei,i.Si=n.Si.slice(),i.Ai=n.Ai):63===d?(i.Ei=n.Ei,i.Si=n.Si.slice(),i.Ai="",r=19):35===d?(i.Ei=n.Ei,i.Si=n.Si.slice(),i.Ai=n.Ai,i.Ci="",r=20):(jr(a.slice(l))||(i.Ei=n.Ei,i.Si=n.Si.slice(),Gr(i)),r=17,l-=1):(r=17,l-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.pi&&!jr(a.slice(l))&&(Xr(n.Si[0])?i.Si.push(n.Si[0]):i.Ei=n.Ei),r=17,l-=1);break;case 15:if(Kr===d||47===d||92===d||63===d||35===d)if(l-=1,null===e&&Hr(o))r=17;else if(0===o.length){if(i.Ei=ar,null!==e)return;r=16}else{var S=lr(Ve(o),Wr(i));if(0===S.li&&"localhost"===S.gi&&(S=ar),i.Ei=S,null!==e)return;o.length=0,r=16}else o.push(d);break;case 16:Wr(i)?(r=17,47!==d&&92!==d&&(l-=1)):null===e&&63===d?(i.Ai="",r=19):null===e&&35===d?(i.Ci="",r=20):Kr!==d&&(r=17,47!==d&&(l-=1));break;case 17:if(Kr===d||47===d||Wr(i)&&92===d||null===e&&(63===d||35===d)){var I=Ve(o);if(zr(I)?(Gr(i),47===d||Wr(i)&&92===d||i.Si.push("")):!Ur(I)||47===d||Wr(i)&&92===d?Ur(I)||("file"===i.pi&&0===i.Si.length&&Hr(o)&&(ar!==i.Ei&&null!==i.Ei&&(i.Ei=ar),o[1]=58,I=Ve(o)),i.Si.push(I)):i.Si.push(""),o.length=0,"file"===i.pi&&(Kr===d||63===d||35===d))for(;i.Si.length>1&&""===i.Si[0];)i.Si.shift();63===d?(i.Ai="",r=19):35===d&&(i.Ci="",r=20)}else o.push.apply(o,rr(d,tr));break;case 18:63===d?(i.Ai="",r=19):35===d?(i.Ci="",r=20):Kr!==d&&(i.Si[0]+=Ve(rr(d,Je)));break;case 19:null===e&&35===d?(i.Ci="",r=20):Kr!==d&&(i.Ai+=Ve(rr(d,Wr(i)?er:ir)));break;case 20:Kr===d||0===d||(i.Ci+=Ve(rr(d,Ze)))}l++}return i}function Zr(t,n,i,e){try{Jr(t,n,i,e)}catch(t){}}var to=function(){this.pi="",this.ki="",this.Ti="",this.Ei=null,this.Ri=null,this.Si=[],this.Ai=null,this.Ci=null,this.Ii=!1};function no(t){switch(t.pi){case"blob":var n;try{n=Jr(t.Si[0],null)}catch(t){return xr}return no(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.pi,e=t.Ei,r=t.Ri,i+"://"+dr(e)+(null===r?"":":"+r);case"file":default:return xr}var i,e,r}var io,eo,ro=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof ro&&"object"==typeof i.yi)r=n.yi;else try{r=Jr(String(n),null)}catch(t){throw new h("Invalid base URL: "+t.message)}try{e=Jr(String(t),r)}catch(t){throw new h("Invalid URL: "+t.message)}var o=e.Ai;this.yi=e,this.Ai=function(t){var n=new Nr;return null!==t&&kr(n,t),n}(o),this.Ai.yi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.pi+":";if(null!==t.Ei?(i+="//",qr(t)&&(i+=t.ki,""!==t.Ti&&(i+=":"+t.Ti),i+="@"),i+=dr(t.Ei),null!==t.Ri&&(i+=":"+t.Ri)):null===t.Ei&&"file"===t.pi&&(i+="//"),t.Ii)i+=t.Si[0];else for(var e=0,r=t.Si;e<r.length;e++)i+="/"+r[e];return null!==t.Ai&&(i+="?"+t.Ai),n||null===t.Ci||(i+="#"+t.Ci),i}(this.yi)},set:function(t){var n;try{n=Jr(String(t),null)}catch(t){throw new h("Invalid URL: "+t.message)}this.yi=n,Er(this.Ai);var i=this.yi.Ai;null!==i&&kr(this.Ai,i)}},{key:"origin",get:function(){return no(this.yi)}},{key:"protocol",get:function(){return this.yi.pi+":"},set:function(t){Zr(t+":",null,this.yi,0)}},{key:"username",get:function(){return this.yi.ki},set:function(t){Yr(this.yi)||(this.yi.ki=or(t,nr))}},{key:"password",get:function(){return this.yi.Ti},set:function(t){Yr(this.yi)||(this.yi.Ti=or(t,nr))}},{key:"host",get:function(){var t=this.yi,n=t.Ei;if(null===n)return"";var i=t.Ri,e=dr(n);return null!==i&&(e+=":"+i),e},set:function(t){this.yi.Ii||Zr(t,null,this.yi,10)}},{key:"hostname",get:function(){var t=this.yi.Ei;return null===t?"":dr(t)},set:function(t){this.yi.Ii||Zr(t,null,this.yi,11)}},{key:"port",get:function(){var t=this.yi.Ri;return null===t?"":""+t},set:function(t){Yr(this.yi)||(""===t?this.yi.Ri=null:Zr(t,null,this.yi,12))}},{key:"pathname",get:function(){var t=this.yi.Si;return this.yi.Ii?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.yi.Ii||(this.yi.Si.length=0,Zr(t,null,this.yi,16))}},{key:"search",get:function(){var t=this.yi.Ai;return null===t||""===t?"":"?"+t},set:function(t){t=yr(t);var n=this.yi;if(""===t)return n.Ai=null,void Er(this.Ai);"?"===t[0]&&(t=t.slice(1)),n.Ai="",Zr(t,null,n,19),kr(this.Ai,t)}},{key:"searchParams",get:function(){return this.Ai}},{key:"hash",get:function(){var t=this.yi.Ci;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.yi.Ci="",Zr(t,null,this.yi,20)):this.yi.Ci=null}}])&&oe(n.prototype,i),e&&oe(n,e),t}();function oo(t){return t.document&&t.document.baseURI||t.location.href||""}function uo(){return void 0!==i?i.createElement("video"):void 0}function so(){return eo||(eo=uo()),eo}var fo=!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch)||!(!e||!e.msMaxTouchPoints),ho=so(),ao=!(!ho||!ho.webkitShowPlaybackTargetPicker),co=function(){function t(){this.Xi=void 0,this.qi=!1,this.Lt=fo,this.$t=!1,this.Gi=!0}var i=t.prototype;return i.Qi=function(){return 0},i.ji=function(t,n){return!0},i.Yi=function(t){return t>=1/6*2},mt(t,[{key:"Zi",get:function(){return void 0===this.Xi&&(this.Xi=this.Qi()),this.Xi}},{key:"Ji",get:function(){return!xi.bn}},{key:"Ki",get:function(){return n.devicePixelRatio||1}},{key:"$i",get:function(){return ao}},{key:"te",get:function(){return!1}},{key:"ie",get:function(){return!0}},{key:"ee",get:function(){return xi.wn||xi.Yt}},{key:"re",get:function(){return!0}},{key:"ue",get:function(){return!0}},{key:"se",get:function(){return!1}},{key:"oe",get:function(){}},{key:"ae",get:function(){return!0}},{key:"ce",get:function(){return!1}}]),t}(),vo=function(){var t=uo();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(xi.Qt)return!1;var t=uo();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var lo=function(t){function n(n){var i;return(i=t.call(this)||this).fe=void 0,i.fe=n,i.fe&&(i.qi=i.fe.qi,i.Lt=i.fe.Lt,i.Gi=vo&&i.fe.Gi),i}zt(n,t);var i=n.prototype;return i.Qi=function(){return this.fe?this.fe.Zi:t.prototype.Qi.call(this)},i.ji=function(n,i){return this.fe?this.fe.ji(n,i):t.prototype.ji.call(this,n,i)},i.Yi=function(n){return this.fe?this.fe.Yi(n):t.prototype.Yi.call(this,n)},mt(n,[{key:"oe",get:function(){var t;return null==(t=this.fe)?void 0:t.oe}},{key:"ae",get:function(){var t,n;return null==(t=null==(n=this.fe)?void 0:n.ae)||t}}]),n}(co),wo=function(t){function n(n){var i;return(i=t.call(this,n)||this).qi=!0,i.$t=!0,i}return zt(n,t),mt(n,[{key:"se",get:function(){return xi.Yt}}]),n}(lo),bo=function(t){function n(){return t.apply(this,arguments)||this}return zt(n,t),n.prototype.Qi=function(){if(!io.MediaSource)return 1},mt(n,[{key:"se",get:function(){return!0}}]),n}(wo),go=function(t){function n(){return t.apply(this,arguments)||this}return zt(n,t),n.prototype.ji=function(n,i){return t.prototype.ji.call(this,n,i)},mt(n,[{key:"te",get:function(){return xi.sn<3}},{key:"ie",get:function(){return xi.sn>=3}},{key:"ce",get:function(){return xi.sn<3}}]),n}(lo),mo=function(t){function n(){return t.call(this)||this}return zt(n,t),n}(co),po=function(t){function n(){return t.apply(this,arguments)||this}return zt(n,t),n.prototype.ji=function(t,n){if(t&&t.he&&n&&n.he){var i=yo(t.he,"mp4a.40.2")&&yo(n.he,"mp4a.40.5"),e=yo(t.he,"mp4a.40.5")&&yo(n.he,"mp4a.40.2"),r=yo(t.he,"mp4a.40.2")&&yo(n.he,"mp4a.40.34"),o=yo(t.he,"mp4a.40.34")&&yo(n.he,"mp4a.40.2"),u=yo(t.he,"mp4a.40.5")&&yo(n.he,"mp4a.40.34"),s=yo(t.he,"mp4a.40.34")&&yo(n.he,"mp4a.40.5");return!(i||e||r||o||u||s)}return!0},mt(n,[{key:"oe",get:function(){if(xi.Ut)return 4096}}]),n}(mo);function yo(t,n){return t.indexOf(n)>-1}var _o,So=function(t){function n(){return t.apply(this,arguments)||this}return zt(n,t),n.prototype.Yi=function(t){return t>=2},n}(mo),Io=function(t){function n(){var n;return(n=t.call(this)||this).qi=xi.gn>=11,n.Gi=xi.wn&&!(xi.Yt&&xi.gn<10),n}return zt(n,t),n}(mo),To=function(t){function n(){return t.apply(this,arguments)||this}return zt(n,t),mt(n,[{key:"re",get:function(){return!1}}]),n}(lo),Eo=function(t){function n(){return t.apply(this,arguments)||this}return zt(n,t),mt(n,[{key:"ae",get:function(){return!xi.Wt||(xi.en?92!==xi.rn:xi.in>=100)}}]),n}(mo),ko=function(t){function n(){return t.apply(this,arguments)||this}return zt(n,t),mt(n,[{key:"se",get:function(){return!0}}]),n}(lo),Ro=function(){function n(){var n;this.ve=void 0,this.de=new Yi,this.we=new No,this.me=(n=function(){if(xi.ln)return new po;if(xi.cn||xi.fn)return new So;if(xi.wn)return new Io;if(xi.nn)return new Eo;return new mo}(),xi.Yt?new bo(n):xi.$t?new wo(n):xi.un?new go(n):xi.an?new To(n):xi.Ut?new ko(n):new lo(n)),this.ye=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ve=function(){return t.performance.now()}:this.ve=Hi}var i=n.prototype;return i.Ae=function(){Wi.apply(void 0,arguments)},i.be=function(){qi.apply(void 0,arguments)},i._e=function(){ji.apply(void 0,arguments)},i.pe=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Vi.apply(void 0,[t].concat(i))},i.xn=function(t,n){return r(t,n)},i.ke=function(t,n){return u(t,n)},i.Dn=function(t){o(t)},i.Te=function(t){s(t)},i.Un=function(t){return this.de.Un(t)},i.Se=function(){return this.Ee.Se()},i.Ie=function(){return this.Ee.Ie()},i.Re=function(){return this.Ee.Re()},i.Ce=function(){return this.Ee.Ce()},i.De=function(){return this.Ee.De()},i.xe=function(t,n){return this.Ee.xe(t,n)},i.Pe=function(t){return this.Ee.Pe(t)},i.Oe=function(t,n){var i;return void 0===n&&(n=oo(io)),i="object"!=typeof n||n instanceof ro?n:n.href,new ro(t,i)},i.Ne=function(n,i){if(void 0===i&&(i=oo(io)),this.ye){var e="string"==typeof i?i:i.toString();return new t.URL(n,e).href}return this.Oe(n,i).href},mt(n,[{key:"Be",get:function(){return this.we}},{key:"Me",get:function(){return this.me}},{key:"Fe",get:function(){return{Le:e&&e.userAgent.match(/Android /i)?"Android":"other",Ue:Boolean(e&&e.userAgent.match(/Android 8.0.0/i))}}},{key:"We",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Ve",get:function(){return"languages"in e?e.languages.slice():[e.language]}}]),n}(),No=function(){function t(){}return mt(t,[{key:"ze",get:function(){return e.oscpu}},{key:"Me",get:function(){return e.platform}},{key:"He",get:function(){return e.vendor}},{key:"Xe",get:function(){return e.vendorSub}}]),t}();function Oo(){return(Oo=a.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)a.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}!function(t){t.Ke="9a04f079-9840-4286-ab92-e65be0885f95",t.$e="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.tr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.nr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(_o||(_o={}));var Po,Ao=_o.Ke,Do="urn:uuid:"+Ao,Co="com.microsoft.playready",xo=_o.$e,Bo="urn:uuid:"+xo,Fo=_o.tr,Lo="urn:uuid:"+Fo,Uo=_o.nr,zo="urn:uuid:"+Uo,Mo="com.apple.fps.1_0";!function(t){t.Ke="playready",t.$e="widevine",t.nr="fairplay",t.tr="clearkey",t.ir="aes128"}(Po||(Po={}));var Wo={er:Po.Ke,rr:Co,ur:"cenc",sr:Ao,ar:Do,cr:"PlayReady"},qo={er:Po.$e,rr:"com.widevine.alpha",ur:"cenc",sr:xo,ar:Bo,cr:"Widevine"},jo={er:Po.nr,rr:Mo,ur:"skd",sr:Uo,ar:zo,cr:"FairPlay"};Po.nr;var Vo={er:Po.tr,rr:"org.w3.clearkey",ur:"cenc",sr:Fo,ar:Lo,cr:"ClearKey"},Ho=xi.nn&&xi.in>=42||xi.ln&&xi.dn>=38||xi.cn||xi.hn||xi.mn&&xi.yn>=29;function Xo(t,n){return e="audio",null!=(i=t)&&-1!==i.indexOf(e)?{initDataTypes:["cenc"],audioCapabilities:[Oo({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Oo({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]};var i,e}var Go,Yo=function(){function t(t){this.hr=void 0,this.dr=yt(),this.wr=void 0,this.hr=t}var n=t.prototype;return n.De=function(){return this.Pe(qo)},n.Ie=function(){return this.Pe(Vo)},n.Ce=function(){return this.Pe(Wo)},n.Re=function(){return this.Pe(jo)},n.Pe=function(t){var n=t.ar,i=this.dr.get(n);if(i)return i;var e=this.xe(t,'video/mp4; codecs="avc1.42000a"');return this.dr.set(n,e),e},n.xe=function(t,n){return Z.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Z.awrap(this.hr.gr(t.rr,[Xo(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Z.awrap(this.hr.gr(t.rr,[Xo(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],j)},n.Se=function(){return this.wr||(this.wr=this.mr()),this.wr},n.mr=function(){return Z.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==(void 0).protocol){t.next=2;break}case 2:if(Ho){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Z.awrap(this.Ie());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,j)},t}(),Ko=["cenc"],Qo=function(t){function n(n){var i;return(i=t.call(this,"Kr")||this).Jr=n,i}return zt(n,t),n}(vi),$o=function(t){function n(n,i,e,r){var o;return(o=t.call(this,"$r")||this).Jr=n,o.tu=i,o.$r=e,o.nu=r,o}return zt(n,t),n}(vi);!function(t){t.eu="ru",t.uu="su"}(Go||(Go={}));var Jo=new w([0]).buffer,Zo=function(){function t(){this.au=void 0,this.au=[]}var n=t.prototype;return n.cu=function(t){for(var n=0,i=this.au;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.fu=function(t){for(var n=0,i=this.au;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.hu=function(t,n){this.au.forEach(function(n){return t(n[1],n[0])},n)},n.vu=function(t,n){this.au.push([t,n])},n.lu=function(){vt(this.au)},mt(t,[{key:"du",get:function(){return this.au.length}}]),t}(),tu=function(){function t(){var t=this;this.ku=void 0,this.Tu=void 0,this.Su=void 0,this.ku=new j(function(n,i){t.Tu=n,t.Su=i})}var n=t.prototype;return n.Eu=function(t){this.Tu&&(this.Tu(t),this.Ir())},n.Iu=function(t){this.Su&&(this.Su(t),this.Ir())},n.Or=function(){this.ku.catch(lt),this.Iu(new An)},n.Ir=function(){this.Tu=void 0,this.Su=void 0},t}();function nu(t,n){return t===Co?function(t){if(t.byteLength<2*iu.length)return t;if(Qn(new DataView(t,0,2*iu.length),!0)===iu)return t;return n=t,$n('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+fi(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var iu="<PlayReady";var eu=function(t){function n(n,i,e,r){var o;return(o=t.call(this,n,r)||this).Ru=void 0,o.Cu=void 0,o.Ru=i,o.Cu=e,o}return zt(n,t),n}(Nn),ru=function(t,n){return(ru=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)a.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function ou(t,n){if("function"!=typeof n&&null!==n)throw new h("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}ru(t,n),t.prototype=null===n?a.create(n):(i.prototype=n.prototype,new i)}function uu(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function su(t,n,i){return c.min(c.max(t,n),i)}function fu(t,n){return t>>8-n}function hu(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.Du=t,this.xu=n}t.prototype.get=function(t){var n=this.Du.get(t);if(0===this.xu||void 0===n)return n;var i=this.Du.get(t+1)||0,e=n&(1<<8-this.xu)-1,r=i>>8-this.xu;return(e<<this.xu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Du.get(c.floor((t+this.xu)/8));if(void 0!==n)return(n&1<<7-this.xu-t%8)>0?1:0}},a.defineProperty(t.prototype,"bitLength",{get:function(){return this.Du.bitLength-this.xu},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"length",{get:function(){return this.Du.length},enumerable:!1,configurable:!0})}(),function(){function t(t){this.Pu=t,this.Ou=0,this.Nu=0}a.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Ou+this.Nu},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"done",{get:function(){return this.Ou===this.Pu.length&&0===this.Nu},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Ou,bit:this.Nu}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Pu);return n.seek(this.Ou,this.Nu),n},t.prototype.canReadBits=function(t){return 8*this.Ou+t+this.Nu<=8*this.Pu.length},t.prototype.canReadBytes=function(t){return 0===this.Nu?this.Ou+t<=this.Pu.length:this.Ou+t<this.Pu.length},t.prototype.incBit=function(){this.Nu++,this.Nu>7&&(this.Ou++,this.Nu=0)},t.prototype.seek=function(t,n){this.Ou=t,this.Nu=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.Pu.get(this.Ou)>>7-this.Nu&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.Nu)return this.Pu.get(this.Ou++);var t=hu(this.Pu.get(this.Ou),8-this.Nu),n=fu(this.Pu.get(this.Ou+1),this.Nu);return this.Ou++,t<<this.Nu|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.Nu&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-c.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.Nu+t;this.Ou+=n>>3,this.Nu=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var au=function(t,n){return t===n?0:t<n?-1:t>n?1:d(t)?d(n)?0:1:-1},cu=function(){function t(){this.Bu=[],this.Mu=[],this.Mi=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,o=n;r<o.length;r++){var u=o[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.Mu.length)this.Mu.push(0);else{var e=this.Mu[this.Mu.length-1]+this.Bu[this.Bu.length-1].length;this.Mu.push(e)}this.Bu.push(t.subarray(n,n+i)),this.Mi+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,o=this.Bu;r<o.length;r++){var u=o[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Bu=[],this.Mu=[],this.Mi=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Mu[n];return this.Bu[n][i]}},a.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Bu.length<1)return-1;if(this.Bu.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Bu[0];return"number"==typeof t?uu(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,o=0;o<=r&&!((o=uu(t,i,o))<0||o>r);o++){for(var u=o+1,s=o+e,f=1;u<s&&t[u]===n[f];u++,f++);if(u===s)return o}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var o=c.ceil((e+r)/2);i(t[o],n)<=0?e=o:r=o-1}return e}}}(this.Mu,t,au)},t.prototype.join=function(){if(1===this.Bu.length)return this.Bu[0];var t=new w(this.length);return this.copyInternal(t,0),t},a.defineProperty(t.prototype,"length",{get:function(){return this.Mi},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*c.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=su(n,0,this.length),r=su(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var o=new t,u=this.findContainingBufferIndex(e),s=this.Bu[u],f=e,h=f-this.Mu[u];f+s.length-h<r;)o.pushRange(s,h,s.length-h),u+=1,h=(f+=s.length-h)-this.Mu[u],s=this.Bu[u];var a=r-f;return o.pushRange(s,h,a),o},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Bu.length-1,e=this.Bu[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Bu[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),vu=function(){function t(n){this.Fu=n||t.BUFFER_CHUNK_SIZE,this.Lu=!1,this.Uu=new cu,this.Pu=new w(this.Fu),this.Wu=0,this.Vu=0,this.Nu=7}return t.prototype.closeByte=function(){this.Pu[this.Wu++]=this.Vu,this.Wu>=this.Fu&&this.closeBuffer(),this.Vu=0,this.Nu=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Wu&&(this.Uu.pushRange(this.Pu,0,this.Wu),t&&(this.Pu=new w(this.Fu)),this.Wu=0)},a.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Nu},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Lu)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Lu=!0,this.Uu},t.prototype.writeBit=function(t){if(this.Lu)throw new f("Cannot write to a closed BitWriter.");this.Vu|=t<<this.Nu,0===this.Nu?this.closeByte():this.Nu--},t.prototype.writeByte=function(t){if(this.Lu)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Vu=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Nu;this.Vu|=fu(t,n+1),this.closeByte(),this.Vu=hu(t,8-n)<<n+1,this.Nu=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Lu)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Wu+t.length<=this.Fu?(this.Pu.set(t,this.Wu),this.Wu+=t.length,this.Wu===this.Fu&&this.closeBuffer()):(this.closeBuffer(),this.Uu.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Nu;this.Vu|=fu(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=hu(t[i-1],8-n),r=fu(t[i],n+1);this.Vu=e<<n+1|r,this.closeByte()}this.Vu=hu(t[t.length-1],8-n)<<n+1,this.Nu=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=c.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(c.abs(t)>=c.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+c.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=c.floor(c.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new w(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),lu=function(){function t(t){this.rb=new cu,this.zu=t}return t.prototype.closeWriter=function(){void 0!==this.zu&&(this.rb=this.rb.concat(this.zu.close()),this.zu=void 0)},a.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.zu&&(this.zu=new vu),this.zu},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),du=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(c.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new lu;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=c.pow(2,32),t}();function wu(t,n){return t instanceof jt?64===n:t<c.pow(2,n)}function bu(t,n){return c.round(t*c.pow(2,n))}function gu(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var mu=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!wu(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return ou(n,t),a.defineProperty(n.prototype,"flags",{get:function(){return this.Hu},set:function(t){this.Hu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(du);!function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}ou(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(cu.from(this.data))}}(du);var pu=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var yu=16384;function _u(t){var n=t.length;if(n<=yu)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=yu)i.push(String.fromCharCode.apply(String,t.slice(e,e+yu)));return i.join("")}function Su(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Iu(t,n,i){var e,r=function(t,n,i){void 0===n&&(n=0);void 0===i&&(i=t.byteLength);return new w(t.buffer,t.byteOffset+n,i-n)}(new w((e=t).buffer,e.byteOffset,e.byteLength),n.offset,n.offset+i);return n.shift(r.byteLength),r}function Tu(t,n,i){return n.offset+i<=t.byteLength}function Eu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function ku(t,n,i){void 0===i&&(i=!1);var e=Eu(t,n,i),r=Eu(t,n,i),o=i?r:e,u=i?e:r;return jt.fromBits(u,o,!0)}function Ru(t,n,i){var e,r=Iu(t,n,i);return _u((e=r,[].slice.call(e)))}function Nu(t,n){var i,e=Su(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Su(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Su(t,n))+(63&Su(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Su(t,n))+64*(63&Su(t,n))+(63&Su(t,n))),i}function Ou(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Nu(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return function(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return _u(n)}(e)}(t,n,!0)}var Pu=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new pu(this.offset<<3)},t}(),Au=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Su(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Eu(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Eu(t,n,i),r=Eu(t,n,i),o=i?r:e,u=i?e:r;return jt.fromBits(u,o,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return ku(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Iu(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Eu(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ru(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Ou(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Du(t,n){return t.type===n}var Cu=8;function xu(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Tu(t,n,Cu)){var e=n.offset+Cu;return{complete:!1,neededOffset:e}}var r=Eu(t,n),o=Ru(t,n,4);if(1===r){if(!Tu(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=ku(t,n).toNumber()}if("uuid"===o){if(!Tu(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}o=Ru(t,n,16)}var u=n.offset;return{complete:!0,header:{type:o,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,o=r.size;0===o&&(o=t.byteLength-i);var u=i+o;if(u>t.byteLength){var s=u;return n.seek(i),{complete:!1,neededOffset:s}}var f,h,a,c={type:r.type,offset:i,data:new Au((f=t,h=i,a=u,void 0===h&&(h=0),void 0===a&&(a=f.byteLength),new DataView(f.buffer,f.byteOffset+h,a-h)),new Pu(r.headerSize))};return n.seek(u),{complete:!0,box:c}}!function(t){function n(){return t.call(this,"mdir")||this}ou(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var o=t.call(this,"hdlr",e,r)||this;return o.name=i,o.handlerType=n,o}return ou(n,t),a.defineProperty(n.prototype,"handlerType",{get:function(){return this.Xu},set:function(t){this.Xu=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(mu));var Bu=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},a.defineProperty(t.prototype,"tag",{get:function(){return this.qu},set:function(t){if(!wu(t,8))throw new f("Provided tag does not fit in 8 bits.");this.qu=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,o,u,s){void 0===s&&(s={});var f=t.call(this,4,s.fixed28BitMode)||this;return f.upStream=e,f.decoderSpecificInfo=u,f.objectTypeIndication=n,f.streamType=i,f.bufferSizeDb=r,f.maxBitrate=o.max,f.avgBitrate=o.avg,f}ou(n,t),a.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Gu},set:function(t){if(!wu(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.Gu=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"streamType",{get:function(){return this.Qu},set:function(t){if(!wu(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.Qu=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ju},set:function(t){if(!wu(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.ju=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Yu},set:function(t){if(!wu(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.Yu=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Zu},set:function(t){if(!wu(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Bu),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}ou(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(cu.from(this.data))}}(Bu);var Fu=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return ou(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Bu);!function(t){function n(n,i,e,r){void 0===r&&(r={});var o=t.call(this,3,r.fixed28BitMode)||this;return o.decoderConfigDescriptor=e,o.esId=n,o.streamPriority=i,o.dependsOnEsId=null==r?void 0:r.dependsOnEsId,o.urlString=null==r?void 0:r.url,o.ocrEsId=null==r?void 0:r.ocrEsId,o.slConfigDescriptor=new Fu(r.fixed28BitMode),o}ou(n,t),a.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"esId",{get:function(){return this.Ju},set:function(t){if(!wu(t,16))throw new f("Provided esId does not fit in 16 bits.");this.Ju=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Ku},set:function(t){if(!wu(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.Ku=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.$u},set:function(t){if(t&&!wu(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.$u=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.ts},set:function(t){if(t&&!wu(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.ts=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Bu);var Lu=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return ou(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(du),Uu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ou(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Lu),zu=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return ou(n,t),a.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.ns},set:function(t){if(!wu(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.ns=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Uu),Mu=function(t){function n(n,i,e,r){var o,u,s=this;return(s=t.call(this,n,i)||this).extra=r,s.channelCount=null!==(o=e.channelCount)&&void 0!==o?o:2,s.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,s.sampleRate=e.sampleRate,s}return ou(n,t),a.defineProperty(n.prototype,"channelCount",{get:function(){return this.es},set:function(t){if(!wu(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.es=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"sampleSize",{get:function(){return this.rs},set:function(t){if(!wu(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.rs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"sampleRate",{get:function(){return this.us},set:function(t){if(!wu(bu(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.us=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(bu(this.sampleRate,16),32),this.extra&&gu(n.writer,this.extra)},n}(zu);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}ou(n,t),a.defineProperty(n.prototype,"entries",{get:function(){return this.ss},set:function(t){if(!wu(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!wu(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(mu),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}ou(n,t),a.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.os},set:function(t){if(!wu(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.os=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.as},set:function(t){if(!wu(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.as=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.cs},set:function(t){if(!wu(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.cs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.fs},set:function(t){if(!wu(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.fs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"horizOffN",{get:function(){return this.hs},set:function(t){if(!wu(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.hs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"horizOffD",{get:function(){return this.vs},set:function(t){if(!wu(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.vs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"vertOffN",{get:function(){return this.ls},set:function(t){if(!wu(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.ls=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"vertOffD",{get:function(){return this.ds},set:function(t){if(!wu(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(du),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}ou(n,t),a.defineProperty(n.prototype,"entries",{get:function(){return this.ss},set:function(t){if(!wu(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!wu(t.sampleCount,32)||!wu(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(mu),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}ou(n,t),a.defineProperty(n.prototype,"location",{get:function(){return this.gs},set:function(t){this.flags=void 0===t?1:0,this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(mu),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}ou(n,t),a.defineProperty(n.prototype,"location",{get:function(){return this.gs},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.gs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(mu),function(t){function n(){return t.call(this,"dinf")||this}ou(n,t)}(Uu);var Wu=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!wu(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return ou(n,t),a.defineProperty(n.prototype,"flags",{get:function(){return this.Hu},set:function(t){this.Hu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Lu);!function(t){function n(){return t.call(this,"dref",0,0)||this}ou(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Wu);var qu=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return ou(n,t),a.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"entries",{get:function(){return this.ss},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!wu(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!wu(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!wu(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!wu(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(mu);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}ou(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(qu),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}ou(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(qu),function(t){function n(){return t.call(this,"edts")||this}ou(n,t)}(Uu);var ju=function(t){function n(n,i,e,r){var o=t.call(this,n)||this;return o.majorBrand=i,o.minorVersion=e,o.compatibleBrands=r,o}return ou(n,t),a.defineProperty(n.prototype,"majorBrand",{get:function(){return this.ys},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.ys=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"minorVersion",{get:function(){return this.As},set:function(t){if(!wu(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.As=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.bs},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.bs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(du);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}ou(n,t)}(ju),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}ou(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(cu.from(this.data))}}(du);var Vu,Hu=function(t){function n(n,i,e,r){void 0===r&&(r=0);var o=t.call(this,"mdhd",e,r)||this;return o.creationTime=n.creation,o.modificationTime=n.modification,o.timescale=n.scale,o.duration=n.duration,o.language=i,o}return ou(n,t),a.defineProperty(n.prototype,"creationTime",{get:function(){return this._s},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._s=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ps},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ps=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"timescale",{get:function(){return this.ks},set:function(t){if(!wu(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"duration",{get:function(){return this.Ts},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ts=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"language",{get:function(){return this.Ss},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new f("Expected an ISO-639-2/T language code");this.Ss=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(mu);!function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}ou(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(Hu),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}ou(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(Hu),function(t){function n(){return t.call(this,"mdia")||this}ou(n,t)}(Uu),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new cu,n}ou(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(du),function(t){function n(){return t.call(this,"minf")||this}ou(n,t)}(Uu),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}ou(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Wu),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Vu||(Vu={}));var Xu,Gu,Yu={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Ku(t,n){n.writer.writeUInt(bu(t.a,16),32),n.writer.writeUInt(bu(t.b,16),32),n.writer.writeUInt(bu(0,30),32),n.writer.writeUInt(bu(t.c,16),32),n.writer.writeUInt(bu(t.d,16),32),n.writer.writeUInt(bu(0,30),32),n.writer.writeUInt(bu(t.x,16),32),n.writer.writeUInt(bu(t.y,16),32),n.writer.writeUInt(bu(1,30),32)}function Qu(t,n){var i,e,r,o;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Xu.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Gu.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Gu.UNKNOWN,2),n.writer.writeUInt(null!==(o=t.sampleHasRedundancy)&&void 0!==o?o:Gu.UNKNOWN,2)}function $u(t,n){var i,e,r;n.writer.writeUInt(0,4),Qu(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Xu||(Xu={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Gu||(Gu={}));var Ju=function(){return function(){}}(),Zu=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return ou(n,t),a.defineProperty(n.prototype,"systemId",{get:function(){return this.Es},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Es=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"data",{get:function(){return this.wi},set:function(t){if(!wu(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.wi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(cu.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(cu.from(this.data))},n}(mu),ts=function(t){function n(n,i){return t.call(this,0,n,i)||this}return ou(n,t),n}(Zu),ns=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return ou(n,t),a.defineProperty(n.prototype,"kIds",{get:function(){return this.Is},set:function(t){if(!wu(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.Is=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(cu.from(e))}},n}(Zu);var is=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return ou(n,t),a.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Rs},set:function(t){if(!wu(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Rs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(mu);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}ou(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(is),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}ou(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(is),function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var o,u,s,f=this;return(f=t.call(this,"trex",e,r)||this).trackId=n,f.defaultSampleDescriptionIndex=null!==(o=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==o?o:0,f.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,f.defaultSampleSize=null!==(s=i.sampleSize)&&void 0!==s?s:0,f.defaultSampleFlags=i.sampleFlags,f}ou(n,t),a.defineProperty(n.prototype,"trackId",{get:function(){return this.Cs},set:function(t){if(!wu(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ds},set:function(t){if(!wu(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Ds=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.xs},set:function(t){if(!wu(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ps},set:function(t){if(!wu(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.Ps=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Os},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!wu(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!wu(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Os=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),$u(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(mu),function(t){function n(){return t.call(this,"mvex")||this}ou(n,t)}(Uu);var es=function(t){function n(i,e,r,o,u){void 0===u&&(u=0);var s,f,h,a=this;return(a=t.call(this,"mvhd",o,u)||this).creationTime=i.creation,a.modificationTime=i.modification,a.timescale=i.scale,a.duration=i.duration,a.rate=null!==(s=r.rate)&&void 0!==s?s:n.DEFAULT_RATE,a.volume=null!==(f=r.volume)&&void 0!==f?f:n.DEFAULT_VOLUME,a.matrix=null!==(h=r.matrix)&&void 0!==h?h:Yu,a.Ns=e,a}return ou(n,t),a.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"creationTime",{get:function(){return this._s},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._s=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ps},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ps=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"timescale",{get:function(){return this.ks},set:function(t){if(!wu(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"duration",{get:function(){return this.Ts},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ts=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"rate",{get:function(){return this.Bs},set:function(t){if(!wu(bu(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.Bs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"volume",{get:function(){return this.Ms},set:function(t){if(!wu(bu(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ms=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"matrix",{get:function(){return this.Fs},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Fs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ns},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!wu(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.Ns=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(bu(this.rate,16),32),n.writer.writeUInt(bu(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Ku(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(mu);!function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}ou(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}}(es),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}ou(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(es);var rs=function(t){function n(n,i,e,r,o,u,s){void 0===s&&(s={});var f,h,a,c=this;return(c=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(s))||this).creationTime=i.creation,c.modificationTime=i.modification,c.trackId=e,c.duration=i.duration,c.volume=r,c.width=o,c.height=u,c.layer=null!==(f=s.layer)&&void 0!==f?f:0,c.alternateGroup=null!==(h=s.alternateGroup)&&void 0!==h?h:0,c.matrix=null!==(a=s.matrix)&&void 0!==a?a:Yu,c}return ou(n,t),a.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"creationTime",{get:function(){return this._s},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this._s=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ps},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ps=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"trackId",{get:function(){return this.Cs},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!wu(t,32))throw new f("trackId cannot exceed 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"duration",{get:function(){return this.Ts},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ts=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"volume",{get:function(){return this.Ms},set:function(t){if(!wu(bu(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ms=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"width",{get:function(){return this.Ls},set:function(t){if(!wu(bu(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.Ls=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"height",{get:function(){return this.Us},set:function(t){if(!wu(bu(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.Us=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"layer",{get:function(){return this.Ws},set:function(t){if(!wu(t,16))throw new f("Provided layer does not fit in 16 bits.");this.Ws=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Vs},set:function(t){if(!wu(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Vs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"matrix",{get:function(){return this.Fs},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Fs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(bu(this.volume,8),16),n.writer.writeUInt(0,16),Ku(this.matrix,n),n.writer.writeUInt(bu(this.width,16),32),n.writer.writeUInt(bu(this.height,16),32)},n}(mu);!function(t){function n(n,i,e,r,o,u){return t.call(this,0,n,i,e,r,o,u)||this}ou(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(rs),function(t){function n(n,i,e,r,o,u){return t.call(this,1,n,i,e,r,o,u)||this}ou(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(rs),function(t){function n(){return t.call(this,"trak")||this}ou(n,t)}(Uu),function(t){function n(){return t.call(this,"moov")||this}ou(n,t)}(Uu);var os=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return ou(n,t),a.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.zs},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.zs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(mu);!function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}ou(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}}(os),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}ou(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(os),function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}ou(n,t),a.defineProperty(n.prototype,"trackId",{get:function(){return this.Cs},set:function(t){if(!wu(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Hs},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!wu(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.Hs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Xs},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!wu(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Xs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.xs},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!wu(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.xs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ps},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!wu(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ps=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Os},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!wu(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!wu(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Os=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&$u(this.defaultSampleFlags,n)}}(mu),function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}ou(n,t),a.defineProperty(n.prototype,"dataOffset",{get:function(){return this.qs},set:function(t){if(t&&!wu(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.qs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Gs},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!wu(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!wu(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.Gs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"samples",{get:function(){return this.Qs},set:function(t){var n,i;if(!wu(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var o=r[e];if(void 0===o.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==o.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(o.duration&&!wu(o.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===o.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==o.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(o.size&&!wu(o.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===o.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==o.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=o.flags)||void 0===n?void 0:n.samplePaddingValue)&&!wu(o.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=o.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!wu(o.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===o.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==o.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(o.compositionTimeOffset&&!wu(o.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Qs=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&$u(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&$u(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}}(mu),function(t){function n(){return t.call(this,"traf")||this}ou(n,t)}(Uu),function(t){function n(){return t.call(this,"moof")||this}ou(n,t)}(Uu),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}ou(n,t),a.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.js},set:function(t){if(!wu(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(mu);var us=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return ou(n,t),a.defineProperty(n.prototype,"codingName",{get:function(){return this.Ys},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.Ys=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(du);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}ou(n,t),a.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Zs},set:function(t){if(!wu(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Js},set:function(t){if(!wu(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.Js=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(du),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}ou(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Uu),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new us(n),r}ou(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(du);var ss=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return ou(n,t),a.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"entries",{get:function(){return this.ss},set:function(t){var n=this;if(!wu(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!wu(t,n.bitSize)}))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.ss=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ks},set:function(t){if(void 0===t)this.flags=0;else{if(!wu(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!wu(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(mu);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ou(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(ss),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ou(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(ss),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}ou(n,t),a.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.$s},set:function(t){if(!wu(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.$s=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.to},set:function(t){if(!wu(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!wu(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.to=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ks},set:function(t){if(void 0===t)this.flags=0;else{if(!wu(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!wu(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ks=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(mu),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}ou(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Qu(e[i],n)}}}(mu),function(t){function n(n){return t.call(this,"stsd",n,0)||this}ou(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Wu);var fs=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return ou(n,t),a.defineProperty(n.prototype,"groupingType",{get:function(){return this.no},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.no=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(mu);!function(t){function n(n,i){return t.call(this,0,n,i)||this}ou(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(fs),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}ou(n,t),a.defineProperty(n.prototype,"defaultLength",{get:function(){return this.io},set:function(t){if(!wu(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(fs),function(t){function n(n,i,e,r){void 0===r&&(r=0);var o=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(o=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,o}ou(n,t),a.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ds},set:function(t){if(!wu(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ds=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(fs),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}ou(n,t),a.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.eo},set:function(t){if(!wu(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!wu(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(mu),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}ou(n,t),a.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Ps},set:function(t){if(!wu(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.Ps=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"samples",{get:function(){return this.Qs},set:function(t){if(!wu(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.Qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(mu),function(t){function n(){return t.call(this,"stbl")||this}ou(n,t)}(Uu),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}ou(n,t),a.defineProperty(n.prototype,"entries",{get:function(){return this.ss},set:function(t){if(!wu(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!wu(t.firstChunk,32)||!wu(t.sampleDescriptionIndex,32)||!wu(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(mu),function(t){function n(){return t.call(this,"schi")||this}ou(n,t)}(Uu),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}ou(n,t),a.defineProperty(n.prototype,"schemeType",{get:function(){return this.ro},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.ro=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.uo},set:function(t){if(!wu(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.uo=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"schemeUri",{get:function(){return this.so},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.so=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(mu);var hs=function(t){function n(n,i,e,r,o,u,s){void 0===s&&(s=0);var f=t.call(this,"sidx",n,s)||this;return f.referenceId=i,f.timescale=e,f.earliestPresentationTime=r,f.firstOffset=o,f.references=u,f}return ou(n,t),a.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"referenceId",{get:function(){return this.oo},set:function(t){if(!wu(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"timescale",{get:function(){return this.ks},set:function(t){if(!wu(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ao},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ao=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"firstOffset",{get:function(){return this.co},set:function(t){if(!wu(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.co=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"references",{get:function(){return this.fo},set:function(t){if(!wu(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!wu(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!wu(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!wu(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!wu(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(mu);!function(t){function n(n,i,e,r,o,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,o,u)||this}ou(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(hs),function(t){function n(n,i,e,r,o,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,o,u)||this}ou(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(hs),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}ou(n,t)}(ju),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}ou(n,t),a.defineProperty(n.prototype,"balance",{get:function(){return this.ho},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!wu(bu(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.ho=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(bu(this.balance,8),16),n.writer.writeUInt(0,16)}}(mu),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}ou(n,t),a.defineProperty(n.prototype,"entries",{get:function(){return this.ss},set:function(t){if(!wu(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!wu(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(mu),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}ou(n,t),a.defineProperty(n.prototype,"entries",{get:function(){return this.ss},set:function(t){if(!wu(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!wu(t.sampleCount,32)||!wu(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.ss=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(mu),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}ou(n,t),a.defineProperty(n.prototype,"trackId",{get:function(){return this.Cs},set:function(t){if(!wu(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Cs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Wu),function(t){function n(){return t.call(this,"udta")||this}ou(n,t)}(Uu);var as={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=as);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}ou(n,t),a.defineProperty(n.prototype,"opColor",{get:function(){return this.vo},set:function(t){if(!wu(t.red,16)||!wu(t.green,16)||!wu(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(mu);var cs=function(t){function n(n,i,e,r,o){void 0===r&&(r={}),void 0===o&&(o=void 0);var u,s,f,h,a,c=this;return(c=t.call(this,n,i)||this).width=e.width,c.height=e.height,c.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,c.verticalResolution=null!==(s=e.vertical)&&void 0!==s?s:72,c.compressorName=null!==(f=r.compressorName)&&void 0!==f?f:"",c.frameCount=null!==(h=r.frameCount)&&void 0!==h?h:1,c.depth=null!==(a=r.depth)&&void 0!==a?a:24,c.clap=r.clap,c.pasp=r.pasp,c.extra=o,c}return ou(n,t),a.defineProperty(n.prototype,"width",{get:function(){return this.Ls},set:function(t){if(!wu(t,16))throw new f("Provided width does not fit in 16 bits.");this.Ls=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"height",{get:function(){return this.Us},set:function(t){if(!wu(t,16))throw new f("Provided height does not fit in 16 bits.");this.Us=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.lo},set:function(t){if(!wu(bu(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.lo=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.do},set:function(t){if(!wu(bu(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.do=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"compressorName",{get:function(){return this.wo},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.wo=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"frameCount",{get:function(){return this.mo},set:function(t){if(!wu(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.mo=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"depth",{get:function(){return this.yo},set:function(t){if(!wu(t,16))throw new f("Provided depth does not fit in 16 bits.");this.yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,o,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(o=this.extra)||void 0===o?void 0:o.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(bu(this.horizontalResolution,16),32),n.writer.writeUInt(bu(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&gu(n.writer,this.extra)},n}(zu);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}ou(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof w?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof w?n.concat(cu.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(mu),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}ou(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Mu),function(t){function n(n,i,e,r){void 0===r&&(r={});var o=t.call(this,"mp4v",n,i,r)||this;return o.esDescriptor=e,o}ou(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(cs),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}ou(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(zu),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}ou(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(du),function(){function t(t,n,i,e,r,o){void 0===o&&(o=1),this.lengthSizeMinusOne=i,this.version=o,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}a.defineProperty(t.prototype,"version",{get:function(){return this.Ao},set:function(t){if(!wu(t,8))throw new f("Provided version does not fit in 8 bits.");this.Ao=t},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"profileIndication",{get:function(){return this.bo},set:function(t){if(!wu(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.bo=t},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this._o},set:function(t){if(!wu(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this._o=t},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"levelIndication",{get:function(){return this.po},set:function(t){if(!wu(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.po=t},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"spsSets",{get:function(){return this.ko},set:function(t){if(!wu(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.ko=t},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"ppsSets",{get:function(){return this.To},set:function(t){if(!wu(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.To=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(cu.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,o=this.ppsSets;r<o.length;r++){var u=o[r];t.writer.writeUInt(u.length,16),t.concat(cu.from(u))}}}(),function(t){function n(n,i,e,r,o){void 0===r&&(r={}),void 0===o&&(o=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=o,u}ou(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(cs),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}ou(n,t),a.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ju},set:function(t){if(!wu(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.ju=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"max",{get:function(){return this.So},set:function(t){if(!wu(t,32))throw new f("Provided max does not fit in 32 bits.");this.So=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"avg",{get:function(){return this.Eo},set:function(t){if(!wu(t,32))throw new f("Provided avg does not fit in 32 bits.");this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(du);var vs=function(t){function n(n,i){var e,r,o,u,s=this;if(s=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return s.kId=i.kId,s.isProtected=null!==(o=i.isProtected)&&void 0!==o?o:1,i.perSampleIvSize>0?s.perSampleIvSize=i.perSampleIvSize:s.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new w(0),s}return ou(n,t),a.defineProperty(n.prototype,"isProtected",{get:function(){return this.Io},set:function(t){if(!wu(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.Io=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Ro},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Ro=t,this.Co=new w(0)},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"kId",{get:function(){return this.Do},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.Do=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"constantIv",{get:function(){return this.Co},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.Co=t,this.Ro=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),gu(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),gu(t.writer,this.constantIv))},n}(mu);!function(t){function n(n){return t.call(this,0,n)||this}ou(n,t)}(vs);var ls=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return ou(n,t),a.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.xo},set:function(t){if(!wu(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.xo=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Po},set:function(t){if(!wu(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.Po=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(vs);function ds(t){return void 0!==t.iv}function ws(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new ls(n),i}ou(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Ju),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}ou(n,t),a.defineProperty(n.prototype,"samples",{get:function(){return this.Qs},set:function(t){var n;if(!wu(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(ds(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=ws(r)),!0===n&&!ws(r)||!1===n&&ws(r))throw new f("Mix of samples with and without subsamples detected.");if(ws(r)){if(!wu(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var o=0,u=r.subsamples;o<u.length;o++){var s=u[o];if(!wu(s.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!wu(s.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];ds(r)&&(n+=r.iv.length),ws(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(ds(r)&&gu(n.writer,r.iv),ws(r)){n.writer.writeUInt(r.subsamples.length,16);for(var o=0,u=r.subsamples;o<u.length;o++){var s=u[o];n.writer.writeUInt(s.clearData,16),n.writer.writeUInt(s.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(mu),function(t){function n(n,i,e,r,o){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=o,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}ou(n,t),a.defineProperty(n.prototype,"timescale",{get:function(){return this.ks},set:function(t){if(!wu(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.ks=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Oo},set:function(t){if(!wu(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"eventDuration",{get:function(){return this.No},set:function(t){if(!wu(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),a.defineProperty(n.prototype,"id",{get:function(){return this.Bo},set:function(t){if(!wu(t,32))throw new f("The provided id does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(cu.from(this.data))}}(mu);var bs,gs,ms=(bs="pssh",gs=function(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),o=0;o<r;o++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),s=t.data.nextUint8Array(u);return 1===n?new ns(i,s,e):new ts(i,s)},function(t){var n,i=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=xu(i,e);if(!r.complete)return;if(Du(r.box,n))return r.box}}(new Au((n=t,new DataView(n.buffer,n.byteOffset,n.byteLength)),new Pu),bs);if(!i)throw new f("".concat(bs," box not found"));return gs(i)}),ps=function(t){function n(n,i){var e;(e=t.call(this)||this).Mo=void 0,e.Fo=!1,e.Lo=void 0,e.Uo=void 0,e.Wo=function(){e.Vo()},e.zo=function(t){e.Vr(new $o(En(e),t.messageType,nu(e.Ho,t.message)))},e.Xo=function(){e.Fo=!0,e.Mo.du>0&&(e.Mo.lu(),e.Vr(new Qo(En(e)))),e.qo.removeEventListener("keystatuseschange",e.Wo),e.qo.removeEventListener("message",e.zo)},e.qo=n,e.Ho=i,e.qo.addEventListener("keystatuseschange",e.Wo),e.qo.addEventListener("message",e.zo),e.Mo=new Zo;var r=[];return e.qo.closed&&r.push(j.resolve(e.qo.closed)),e.Uo=new tu,r.push(e.Uo.ku),e.Lo=j.race(r).then(e.Xo,e.Xo),e.Vo(),e}zt(n,t);var i=n.prototype;return i.Go=function(){if(this.Fo)return this.Lo;var t,n,i=[];return i.push(j.resolve(this.qo.close())),i.push((t=1e3,new j(function(i,e){if(void 0!==n&&n.pr)e(new An);else{var r=J.xn(function(){void 0!==n&&n.Cr(o),i()},t),o=function(){J.Dn(r),e(new An)};void 0!==n&&n.Rr(o)}}))),this.Uo.Eu(j.race(i).catch(ys)),this.Fo=!0,this.Lo},i.Qo=function(t,n,i){if(xi.Jt){var e=ms(ii(n));if(1===e.version)n=new ts(e.systemId,e.data).serialize().join()}return j.resolve(this.qo.generateRequest(t,n)).catch(ys)},i.jo=function(t){return j.resolve(this.qo.load(t)).catch(ys)},i.Yo=function(){return j.resolve(this.qo.remove()).catch(ys)},i.Zo=function(t){return j.resolve(this.qo.update(t)).catch(ys)},i.Vo=function(){var t=this;this.Mo.lu(),this.qo.keyStatuses.forEach(function(n,i){t.Jo(i,n)}),this.Vr(new Qo(this))},i.Jo=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=ii(t);if(this.Ho===Co&&16===e.byteLength){var r=ti(e),o=r.getUint32(0,!0),u=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,o,!1),r.setUint16(4,u,!1),r.setUint16(6,s,!1)}this.Ho===Co&&"status-pending"===n&&(n="usable"),this.Mo.vu(e,n)},mt(n,[{key:"Ko",get:function(){return this.Lo}},{key:"$o",get:function(){return this.qo.expiration}},{key:"ta",get:function(){return this.Mo}},{key:"na",get:function(){return this.qo.sessionId}}]),n}(ci);function ys(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|v(i[1],16))}throw new eu(t.message,void 0,n,t)}var _s=function(){function t(t,n,i){this.ia=t,this.ea=n,this.ra=i}var n=t.prototype;return n.ua=function(t){return Z.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new ps(this.ia.createSession(t),this.ea));case 1:case"end":return n.stop()}},null,this,null,j)},n.sa=function(t){return j.resolve(this.ia.setServerCertificate(t))},n.oa=function(t){return j.resolve(t.setMediaKeys(this.ia))},n.aa=function(t){return j.resolve(t.setMediaKeys(null))},t}(),Ss=function(){function t(t,n,i){this.ca=t,this.Ho=n,this.fa=i}var n=t.prototype;return n.ha=function(){var t;return Z.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z.awrap(this.ca.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new _s(t,this.Ho,this.fa));case 4:case"end":return n.stop()}},null,this,null,j)},n.va=function(){return this.fa},mt(t,[{key:"ea",get:function(){return this.ca.keySystem}}]),t}();function Is(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var o={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,wa:e.wa},u=!1;if(e.audioCapabilities){var s=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});s.length&&(o.audioCapabilities=s.filter(function(e){return Ts(t,n,i,e)}),u=!0,o.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var f=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});f.length&&(o.videoCapabilities=f.filter(function(e){return Ts(t,n,i,e)}),u=!0,o.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?o:void 0}}function Ts(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!ct(n,e.encryptionScheme))&&(!e.robustness&&t(i,(r=e.contentType,o=r.trim(),(u=o.indexOf(";"))<0?o:o.substr(0,u).trim()))));var r,o,u}function Es(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function ks(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Rs))||!(!t.videoCapabilities||!t.videoCapabilities.some(Rs))}function Rs(t){return!t.robustness}function Ns(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Oo({},r,{robustness:n}))}return i}var Os,Ps,As=function(){function t(){}return t.prototype.gr=function(t,n){var i,r,o,u,s,f,h,a;return Z.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(n=n.filter(function(t){return!t.wa}),i=0,r=n;i<r.length;i++)(o=r[i]).audioCapabilities&&(o.audioCapabilities=Es(o.audioCapabilities)),o.videoCapabilities&&(o.videoCapabilities=Es(o.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(ks)){c.next=14;break}return u=n.map(function(t){return i="SW_SECURE_CRYPTO",Oo({},n=t,{videoCapabilities:n.videoCapabilities?Ns(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Ns(n.audioCapabilities,i):void 0});var n,i}),c.prev=4,c.next=7,Z.awrap(e.requestMediaKeySystemAccess(t,u));case 7:return s=c.sent,f=s.getConfiguration(),c.abrupt("return",new Ss(s,t,f));case 12:c.prev=12,c.t0=c.catch(4);case 14:return c.next=16,Z.awrap(e.requestMediaKeySystemAccess(t,n));case 16:return h=c.sent,a=h.getConfiguration(),c.abrupt("return",new Ss(h,t,a));case 19:case"end":return c.stop()}},null,null,[[4,12]],j)},t.ga=function(){return void 0!==e&&"function"==typeof e.requestMediaKeySystemAccess},t}(),Ds=function(){function t(){}return t.prototype.gr=function(t,n){try{return j.resolve(function(t,n){if(!Cs())throw new h("Unsupported key system "+t)}(t))}catch(t){return j.reject(t)}},t.ga=function(){return Cs()},t}();function Cs(){return void 0!==io.MSMediaKeys}!function(t){t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR"}(Os||(Os={})),function(t){t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN"}(Ps||(Ps={})),function(t){(Ps||(Ps={})).fromCode=function(t){var n=c.floor(t/1e3);if(n in Ps)return n;throw new h("Invalid error code: "+t)}}();var xs=function(){function t(){}return t.prototype.gr=function(t,n){try{return j.resolve(function(t,n){if(t!==Mo)throw new h(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Bs())throw new h("Unsupported key system "+t)}(t))}catch(t){return j.reject(t)}},t.ga=function(){return Bs()},t}();function Bs(){return void 0!==io.WebKitMediaKeys}var Fs,Ls=function(){function t(t){this.Fa=t}return t.prototype.gr=function(t,n){var i,e,r;return Z.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=0,e=this.Fa;case 1:if(!(i<e.length)){o.next=14;break}return r=e[i],o.prev=3,o.next=6,Z.awrap(r.gr(t,n));case 6:return o.abrupt("return",o.sent);case 9:o.prev=9,o.t0=o.catch(3);case 11:i++,o.next=1;break;case 14:throw new h("Unsupported key system configuration for "+t);case 15:case"end":return o.stop()}},null,this,[[3,9]],j)},t}(),Us=function(t){function n(n){var i;return(i=t.call(this)||this).Aa=void 0,i.xa=void 0,i.ma=void 0,i.Lu=!1,i.La=void 0,i.Ua=void 0,i.Wa=void 0,i.Va=void 0,i.za=void 0,i.Ho=n,i.ma=new tu,i.Ua="",i.za=new tu,i.Wa=new Zo,i}zt(n,t);var i=n.prototype;return i.Ha=function(){this.xa&&(this.Sa("usable"),this.xa.Eu(void 0),this.xa=void 0)},i.Xa=function(t){var n=new eu("Unknown CDM error",t.errorCode,t.systemCode);this.xa?(this.xa.Iu(n),this.xa=void 0):this.Aa?(this.Aa.Iu(n),this.Aa=void 0):n.Ru===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Sa("output-restricted"):1===n.Cu?this.Sa("expired"):this.Sa("internal-error")},i.qa=function(t){0!==t.message.byteLength&&(this.Aa&&(this.Aa.Eu(void 0),this.Aa=void 0),this.Vr(new $o(this,"license-request",nu(this.Ho,ei(t.message).buffer),t.defaultURL||void 0)))},i.Ga=function(t){this.Va||(this.Va=t,this.za.Eu(t))},i.Go=function(){return Z.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Lu=!0,this.ma.Eu(void 0);case 3:case"end":return t.stop()}},null,this,null,j)},i.Qo=function(t,n){return Z.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Aa=new tu,this.La=ii(n),t.t0=this.Va,t.t0){t.next=8;break}return t.next=7,Z.awrap(this.za.ku);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Ho,this.La),t.next=12,Z.awrap(this.Aa.ku);case 12:case"end":return t.stop()}},null,this,null,j)},i.jo=function(t){return Z.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,j)},i.Yo=function(){return Z.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,j)},i.Zo=function(t){return Z.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.xa=new tu,n.t0=this.Va,n.t0){n.next=7;break}return n.next=6,Z.awrap(this.za.ku);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Ho,ii(t),this.La,this.na),n.next=11,Z.awrap(this.xa.ku);case 11:case"end":return n.stop()}},null,this,null,j)},i.throwIfClosed=function(){if(this.Lu)throw new h("Already closing or closed.")},i.Sa=function(t){this.Wa.lu(),this.Wa.vu(Jo,t),this.Vr(new Qo(this))},mt(n,[{key:"ta",get:function(){return this.Wa}},{key:"na",get:function(){return this.Ua},set:function(t){this.Ua=t}},{key:"Ko",get:function(){return this.ma.ku}},{key:"$o",get:function(){return NaN}}]),n}(ci),zs=function(){function t(t,n){var i=this;this.Va=void 0,this.Qa=yt(),this.ja=[],this.Ta=function(t){var n=i.Ya(t.sessionId);n&&n.Ha()},this.Za=function(t){var n=i.Ya(t.sessionId);n&&n.Xa(t)},this.Ja=function(t){var n=i.Ya(t.sessionId);n&&n.qa(t)},this.ea=t,this.ra=n}var n=t.prototype;return n.oa=function(t){return this.Va=t,this.Va.addEventListener("webkitkeyadded",this.Ta),this.Va.addEventListener("webkitkeyerror",this.Za),this.Va.addEventListener("webkitkeymessage",this.Ja),this.Qa.forEach(function(n,i){return n.Ga(t)}),this.ja.forEach(function(n){return n.Ga(t)}),j.resolve()},n.aa=function(t){return t.removeEventListener("webkitkeyadded",this.Ta),t.removeEventListener("webkitkeyerror",this.Za),t.removeEventListener("webkitkeymessage",this.Ja),this.Va=void 0,j.resolve()},n.ua=function(t,n,i){var e;return Z.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Us(this.ea),this.Va&&e.Ga(this.Va),this.ja.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,j)},n.sa=function(t){return j.resolve(!1)},n.Ya=function(t){if(t){var n=this.Qa.get(t);return n||((n=this.ja.shift())?(n.na=t,this.Qa.set(t,n),n):void 0)}},t}(),Ms=function(){function t(t,n){this.ea=t,this.Ka=n}var n=t.prototype;return n.ha=function(){return j.resolve(new zs(this.ea,this.Ka))},n.va=function(){return this.Ka},t}(),Ws=function(){function t(){}return t.prototype.gr=function(t,n){try{return j.resolve(qs(t,n))}catch(t){return j.reject(t)}},t.ga=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function qs(t,n){if(!Ws.ga())throw new h("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Is(js,Ko,t,e);if(r)return new Ms(t,r)}throw new h("Unsupported key system configuration for "+t)}function js(t,n){var i=so();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Vs(){return Fs||(Fs=function(){var t=[];xs.ga()&&t.push(new xs);As.ga()&&t.push(new As);Ds.ga()&&t.push(new Ds);Ws.ga()&&t.push(new Ws);return new Ls(t)}()),Fs}var Hs=function(){function t(){this.$a=yt()}var n=t.prototype;return n.lu=function(t){this.$a.delete(t)},n.tc=function(){this.$a.clear()},n.fu=function(t){return this.$a.get(t)},n.nc=function(t,n){this.$a.set(t,n)},t}(),Xs=function(){function t(){}return t.ic=function(){return t.Cn||(t.Cn=Gs.ga()?new Gs:new Hs),t.Cn},t.lu=function(n){t.ic().lu(n)},t.tc=function(){t.ic().tc()},t.fu=function(n){return t.ic().fu(n)},t.nc=function(n,i){t.ic().nc(n,i)},t}();Xs.Cn=void 0;var Gs=function(n){function i(){return n.apply(this,arguments)||this}zt(i,n),i.ga=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.lu=function(n){t.sessionStorage.removeItem(n)},e.tc=function(){t.sessionStorage.clear()},e.fu=function(n){return t.sessionStorage[n]},e.nc=function(n,i){t.sessionStorage[n]=i},i}(Xs);var Ys=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var o=t[r];i.append(o)}return i.getBlob(n&&n.type||"")}}();function Ks(t,n,e){var r=Ys([n],{type:"application/octet-stream"}),o=URL.createObjectURL(r),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,e),s=i.createElement("a");s.href=o,s.download=u,i.body.appendChild(s),s.click(),i.body.removeChild(s),URL.revokeObjectURL(o)}var Qs,$s;!function(t){t.ec="rc",t.uc="sc",t.oc="contentprotectionerror",t.ac="contentprotectionsuccess",t.cc="currentsourcechange",t.fc="destroy",t.hc="durationchange",t.vc="emptied",t.eu="encrypted",t.lc="ended",t.dc="wc",t.gc="loadstart",t.mc="manifestupdate",t.yc="nosupportedrepresentationfound",t.Ac="offline",t.bc="online",t._c="pause",t.pc="play",t.kc="progress",t.Tc="ratechange",t.Sc="representationchange",t.Ec="resize",t.Ic="seeked",t.Rc="seeking",t.Cc="segmentnotfound",t.Dc="xc",t.Pc="Oc",t.Nc="sourcechange",t.Bc="timeupdate",t.Mc="volumechange",t.Fc="Lc",t.Uc="metricschange"}(Qs||(Qs={})),function(t){t.Wc="arraybuffer",t.Vc="json",t.zc="stream",t.Bn="text"}($s||($s={}));var Js=function(){function t(n){var i=this;this.Je=void 0,this.Je={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&a.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Zs(i),e=tf(e);var r=i.toLowerCase();if(this.Je.hasOwnProperty(r)){var o=this.Je[r],u=o[1];o[1]=u?u+", "+e:e}else this.Je[r]=[i,e]},n.delete=function(t){var n=Zs(t).toLowerCase();delete this.Je[n]},n.get=function(t){var n=Zs(t).toLowerCase();return this.Je.hasOwnProperty(n)?this.Je[n][1]:null},n.has=function(t){var n=Zs(t).toLowerCase();return this.Je.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Zs(i)).toLowerCase();this.Je[e]=[i,tf(n)]},n.forEach=function(t,n){for(var i in this.Je)this.Je.hasOwnProperty(i)&&t.call(n,this.Je[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Je)if(this.Je.hasOwnProperty(n)){var i=this.Je[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Hc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Xc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.qc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Zs(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new h("Invalid character in header field name");return n}function tf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ef(){}var rf=void 0!==t?t:void 0!==n?n:"undefined"!=typeof global?global:void 0;function of(t){return"object"==typeof t&&null!==t||"function"==typeof t}var uf=ef,sf=j,ff=j.prototype.then,hf=j.resolve.bind(sf),af=j.reject.bind(sf);function cf(t){return new sf(t)}function vf(t){return hf(t)}function lf(t){return af(t)}function df(t,n,i){return ff.call(t,n,i)}function wf(t,n,i){df(df(t,n,i),void 0,uf)}function bf(t,n){wf(t,n)}function gf(t,n){wf(t,void 0,n)}function mf(t,n,i){return df(t,n,i)}function pf(t){df(t,void 0,uf)}var yf=function(){var t=rf&&rf.queueMicrotask;if("function"==typeof t)return t;var n=vf(void 0);return function(t){return df(n,t)}}();function _f(t,n,i){if("function"!=typeof t)throw new h("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Sf(t,n,i){try{return vf(_f(t,n,i))}catch(t){return lf(t)}}var If=function(){function t(){this.Gc=0,this.Qc=0,this.Fi={jc:[],Yc:void 0},this.Zc=this.Fi,this.Gc=0,this.Qc=0}return a.defineProperty(t.prototype,"length",{get:function(){return this.Qc},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.Zc,i=n;16383===n.jc.length&&(i={jc:[],Yc:void 0}),n.jc.push(t),i!==n&&(this.Zc=i,n.Yc=i),++this.Qc},t.prototype.shift=function(){var t=this.Fi,n=t,i=this.Gc,e=i+1,r=t.jc,o=r[i];return 16384===e&&(n=t.Yc,e=0),--this.Qc,this.Gc=e,t!==n&&(this.Fi=n),r[i]=void 0,o},t.prototype.forEach=function(t){for(var n=this.Gc,i=this.Fi,e=i.jc;!(n===e.length&&void 0===i.Yc||n===e.length&&(n=0,0===(e=(i=i.Yc).jc).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Fi,n=this.Gc;return t.jc[n]},t}();function Tf(t,n){t.Jc=n,n.Kc=t,"readable"===n.Di?Nf(t):"closed"===n.Di?function(t){Nf(t),Af(t)}(t):Of(t,n.$c)}function Ef(t,n){return kc(t.Jc,n)}function kf(t){"readable"===t.Jc.Di?Pf(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Of(t,n)}(t,new h("Reader was released and can no longer be used to monitor the stream's closedness")),t.Jc.Kc=void 0,t.Jc=void 0}function Rf(t){return new h("Cannot "+t+" a stream using a released reader")}function Nf(t){t.Lo=cf(function(n,i){t.tf=n,t.nf=i})}function Of(t,n){Nf(t),Pf(t,n)}function Pf(t,n){void 0!==t.nf&&(pf(t.Lo),t.nf(n),t.tf=void 0,t.nf=void 0)}function Af(t){void 0!==t.tf&&(t.tf(void 0),t.tf=void 0,t.nf=void 0)}var Df=nf("[[AbortSteps]]"),Cf=nf("[[ErrorSteps]]"),xf=nf("[[CancelSteps]]"),Bf=nf("[[PullSteps]]"),Ff=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Lf=c.trunc||function(t){return t<0?c.ceil(t):c.floor(t)};function Uf(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new h(n+" is not an object.");var i}function zf(t,n){if("function"!=typeof t)throw new h(n+" is not a function.")}function Mf(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new h(n+" is not an object.")}function Wf(t,n,i){if(void 0===t)throw new h("Parameter "+n+" is required in '"+i+"'.")}function qf(t,n,i){if(void 0===t)throw new h(n+" is required in '"+i+"'.")}function jf(t){return Number(t)}function Vf(t){return 0===t?0:t}function Hf(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=Vf(e),!Ff(e))throw new h(n+" is not a finite number");if((e=function(t){return Vf(Lf(t))}(e))<0||e>i)throw new h(n+" is outside the accepted range of 0 to "+i+", inclusive");return Ff(e)&&0!==e?e:0}function Xf(t,n){if(!Tc(t))throw new h(n+" is not a ReadableStream.")}function Gf(t){return new th(t)}function Yf(t,n){t.Kc.if.push(n)}function Kf(t,n,i){var e=t.Kc.if.shift();i?e.ef():e.rf(n)}function Qf(t){return t.Kc.if.length}function $f(t){var n=t.Kc;return void 0!==n&&!!nh(n)}var Jf,Zf,th=function(){function t(t){if(Wf(t,1,"ReadableStreamDefaultReader"),Xf(t,"First parameter"),Ec(t))throw new h("This stream has already been locked for exclusive reading by another reader");Tf(this,t),this.if=new If}return a.defineProperty(t.prototype,"closed",{get:function(){return nh(this)?this.Lo:lf(eh("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),nh(this)?void 0===this.Jc?lf(Rf("cancel")):Ef(this,t):lf(eh("cancel"))},t.prototype.read=function(){if(!nh(this))return lf(eh("read"));if(void 0===this.Jc)return lf(Rf("read from"));var t,n,i=cf(function(i,e){t=i,n=e});return ih(this,{rf:function(n){return t({value:n,done:!1})},ef:function(){return t({value:void 0,done:!0})},uf:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!nh(this))throw eh("releaseLock");if(void 0!==this.Jc){if(this.if.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");kf(this)}},t}();function nh(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"if")&&t instanceof th)}function ih(t,n){var i=t.Jc;i.sf=!0,"closed"===i.Di?n.ef():"errored"===i.Di?n.uf(i.$c):i.af[Bf](n)}function eh(t){return new h("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}a.defineProperties(th.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(th.prototype,nf.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof nf.asyncIterator&&((Jf={})[nf.asyncIterator]=function(){return this},Zf=Jf,a.defineProperty(Zf,nf.asyncIterator,{enumerable:!1}));var rh=function(){function t(t,n){this.cf=void 0,this.ff=!1,this.Kc=t,this.hf=n}return t.prototype.next=function(){var t=this,n=function(){return t.vf()};return this.cf=this.cf?mf(this.cf,n,n):n(),this.cf},t.prototype.return=function(t){var n=this,i=function(){return n.lf(t)};return this.cf?mf(this.cf,i,i):i()},t.prototype.vf=function(){var t=this;if(this.ff)return j.resolve({value:void 0,done:!0});var n,i,e=this.Kc;if(void 0===e.Jc)return lf(Rf("iterate"));var r=cf(function(t,e){n=t,i=e});return ih(e,{rf:function(i){t.cf=void 0,yf(function(){return n({value:i,done:!1})})},ef:function(){t.cf=void 0,t.ff=!0,kf(e),n({value:void 0,done:!0})},uf:function(n){t.cf=void 0,t.ff=!0,kf(e),i(n)}}),r},t.prototype.lf=function(t){if(this.ff)return j.resolve({value:t,done:!0});this.ff=!0;var n=this.Kc;if(void 0===n.Jc)return lf(Rf("finish iterating"));if(!this.hf){var i=Ef(n,t);return kf(n),mf(i,function(){return{value:t,done:!0}})}return kf(n),vf({value:t,done:!0})},t}(),oh={next:function(){return uh(this)?this.df.next():lf(sh("next"))},return:function(t){return uh(this)?this.df.return(t):lf(sh("return"))}};function uh(t){if(!of(t))return!1;if(!a.prototype.hasOwnProperty.call(t,"df"))return!1;try{return t.df instanceof rh}catch(t){return!1}}function sh(t){return new h("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Zf&&a.setPrototypeOf(oh,Zf);var fh=Number.isNaN||function(t){return t!=t};function hh(t){return t.slice()}function ah(t,n,i,e,r){new w(t).set(new w(i,e,r),n)}function ch(t){return t}function vh(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return ah(r,0,t,n,e),r}function lh(t){var n=vh(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new w(n)}function dh(t){var n=t.wf.shift();return t.gf-=n.size,t.gf<0&&(t.gf=0),n.value}function wh(t,n,i){if("number"!=typeof(e=i)||fh(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.wf.push({value:n,size:i}),t.gf+=i}function bh(t){t.wf=new If,t.gf=0}var gh=function(){function t(){throw new h("Illegal constructor")}return a.defineProperty(t.prototype,"view",{get:function(){if(!yh(this))throw qh("view");return this.mf},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!yh(this))throw qh("respond");if(Wf(t,1,"respond"),t=Hf(t,"First parameter"),void 0===this.yf)throw new h("This BYOB request has been invalidated");this.mf.buffer,zh(this.yf,t)},t.prototype.respondWithNewView=function(t){if(!yh(this))throw qh("respondWithNewView");if(Wf(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new h("You can only respond with array buffer views");if(void 0===this.yf)throw new h("This BYOB request has been invalidated");t.buffer,Mh(this.yf,t)},t}();a.defineProperties(gh.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(gh.prototype,nf.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var mh=function(){function t(){throw new h("Illegal constructor")}return a.defineProperty(t.prototype,"byobRequest",{get:function(){if(!ph(this))throw jh("byobRequest");return Lh(this)},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"desiredSize",{get:function(){if(!ph(this))throw jh("desiredSize");return Uh(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!ph(this))throw jh("close");if(this.Af)throw new h("The stream has already been closed; do not close it again!");var t=this.bf.Di;if("readable"!==t)throw new h("The stream (in "+t+" state) is not in the readable state and cannot be closed");xh(this)},t.prototype.enqueue=function(t){if(!ph(this))throw jh("enqueue");if(Wf(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new h("chunk must be an array buffer view");if(0===t.byteLength)throw new h("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new h("chunk's buffer must have non-zero byteLength");if(this.Af)throw new h("stream is closed or draining");var n=this.bf.Di;if("readable"!==n)throw new h("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");Bh(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!ph(this))throw jh("error");Fh(this,t)},t.prototype[xf]=function(t){Sh(this),bh(this);var n=this._f(t);return Ch(this),n},t.prototype[Bf]=function(t){var n=this.bf;if(this.gf>0){var i=this.wf.shift();this.gf-=i.byteLength,Nh(this);var e=new w(i.buffer,i.byteOffset,i.byteLength);t.rf(e)}else{var r=this.pf;if(void 0!==r){var o=void 0;try{o=new ArrayBuffer(r)}catch(n){return void t.uf(n)}var u={buffer:o,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:w,readerType:"default"};this.kf.push(u)}Yf(n,t),_h(this)}},t}();function ph(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"bf")&&t instanceof mh)}function yh(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"yf")&&t instanceof gh)}function _h(t){(function(t){var n=t.bf;if("readable"!==n.Di)return!1;if(t.Af)return!1;if(!t.Tf)return!1;if($f(n)&&Qf(n)>0)return!0;if(Gh(n)&&Xh(n)>0)return!0;if(Uh(t)>0)return!0;return!1})(t)&&(t.Sf?t.Ef=!0:(t.Sf=!0,wf(t.If(),function(){t.Sf=!1,t.Ef&&(t.Ef=!1,_h(t))},function(n){Fh(t,n)})))}function Sh(t){Oh(t),t.kf=new If}function Ih(t,n){var i=!1;"closed"===t.Di&&(i=!0);var e=Th(n);"default"===n.readerType?Kf(t,e,i):function(t,n,i){var e=t.Kc.Rf.shift();i?e.ef(n):e.rf(n)}(t,e,i)}function Th(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Eh(t,n,i,e){t.wf.push({buffer:n,byteOffset:i,byteLength:e}),t.gf+=e}function kh(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=c.min(t.gf,n.byteLength-n.bytesFilled),o=n.bytesFilled+r,u=o-o%i,s=r,f=!1;u>e&&(s=u-n.bytesFilled,f=!0);for(var h=t.wf;s>0;){var a=h.peek(),v=c.min(s,a.byteLength),l=n.byteOffset+n.bytesFilled;ah(n.buffer,l,a.buffer,a.byteOffset,v),a.byteLength===v?h.shift():(a.byteOffset+=v,a.byteLength-=v),t.gf-=v,Rh(t,v,n),s-=v}return f}function Rh(t,n,i){i.bytesFilled+=n}function Nh(t){0===t.gf&&t.Af?(Ch(t),Rc(t.bf)):_h(t)}function Oh(t){null!==t.Cf&&(t.Cf.yf=void 0,t.Cf.mf=null,t.Cf=null)}function Ph(t){for(;t.kf.length>0;){if(0===t.gf)return;var n=t.kf.peek();kh(t,n)&&(Dh(t),Ih(t.bf,n))}}function Ah(t,n){var i=t.kf.peek();Oh(t),"closed"===t.bf.Di?function(t,n){var i=t.bf;if(Gh(i))for(;Xh(i)>0;)Ih(i,Dh(t))}(t):function(t,n,i){if(Rh(0,n,i),!(i.bytesFilled<i.elementSize)){Dh(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,o=vh(i.buffer,r-e,r);Eh(t,o,0,o.byteLength)}i.bytesFilled-=e,Ih(t.bf,i),Ph(t)}}(t,n,i),_h(t)}function Dh(t){return t.kf.shift()}function Ch(t){t.If=void 0,t._f=void 0}function xh(t){var n=t.bf;if(!t.Af&&"readable"===n.Di)if(t.gf>0)t.Af=!0;else{if(t.kf.length>0)if(t.kf.peek().bytesFilled>0){var i=new h("Insufficient bytes to fill elements in the given buffer");throw Fh(t,i),i}Ch(t),Rc(n)}}function Bh(t,n){var i=t.bf;if(!t.Af&&"readable"===i.Di){var e=n.buffer,r=n.byteOffset,o=n.byteLength,u=ch(e);if(t.kf.length>0){var s=t.kf.peek();s.buffer,0,s.buffer=ch(s.buffer)}if(Oh(t),$f(i))if(0===Qf(i))Eh(t,u,r,o);else t.kf.length>0&&Dh(t),Kf(i,new w(u,r,o),!1);else Gh(i)?(Eh(t,u,r,o),Ph(t)):Eh(t,u,r,o);_h(t)}}function Fh(t,n){var i=t.bf;"readable"===i.Di&&(Sh(t),bh(t),Ch(t),Nc(i,n))}function Lh(t){if(null===t.Cf&&t.kf.length>0){var n=t.kf.peek(),i=new w(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=a.create(gh.prototype);!function(t,n,i){t.yf=n,t.mf=i}(e,t,i),t.Cf=e}return t.Cf}function Uh(t){var n=t.bf.Di;return"errored"===n?null:"closed"===n?0:t.Df-t.gf}function zh(t,n){var i=t.kf.peek();if("closed"===t.bf.Di){if(0!==n)throw new h("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new h("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=ch(i.buffer),Ah(t,n)}function Mh(t,n){var i=t.kf.peek();if("closed"===t.bf.Di){if(0!==n.byteLength)throw new h("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new h("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=ch(n.buffer),Ah(t,e)}function Wh(t,n,i,e,r,o,u){n.bf=t,n.Ef=!1,n.Sf=!1,n.Cf=null,n.wf=n.gf=void 0,bh(n),n.Af=!1,n.Tf=!1,n.Df=o,n.If=e,n._f=r,n.pf=u,n.kf=new If,t.af=n,wf(vf(i()),function(){n.Tf=!0,_h(n)},function(t){Fh(n,t)})}function qh(t){return new h("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function jh(t){return new h("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Vh(t){return new Yh(t)}function Hh(t,n){t.Kc.Rf.push(n)}function Xh(t){return t.Kc.Rf.length}function Gh(t){var n=t.Kc;return void 0!==n&&!!Kh(n)}a.defineProperties(mh.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(mh.prototype,nf.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Yh=function(){function t(t){if(Wf(t,1,"ReadableStreamBYOBReader"),Xf(t,"First parameter"),Ec(t))throw new h("This stream has already been locked for exclusive reading by another reader");if(!ph(t.af))throw new h("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Tf(this,t),this.Rf=new If}return a.defineProperty(t.prototype,"closed",{get:function(){return Kh(this)?this.Lo:lf($h("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Kh(this)?void 0===this.Jc?lf(Rf("cancel")):Ef(this,t):lf($h("cancel"))},t.prototype.read=function(t){if(!Kh(this))return lf($h("read"));if(!ArrayBuffer.isView(t))return lf(new h("view must be an array buffer view"));if(0===t.byteLength)return lf(new h("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return lf(new h("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.Jc)return lf(Rf("read from"));var n,i,e=cf(function(t,e){n=t,i=e});return Qh(this,t,{rf:function(t){return n({value:t,done:!1})},ef:function(t){return n({value:t,done:!0})},uf:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Kh(this))throw $h("releaseLock");if(void 0!==this.Jc){if(this.Rf.length>0)throw new h("Tried to release a reader lock when that reader has pending read() calls un-settled");kf(this)}},t}();function Kh(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"Rf")&&t instanceof Yh)}function Qh(t,n,i){var e=t.Jc;e.sf=!0,"errored"===e.Di?i.uf(e.$c):function(t,n,i){var e=t.bf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var o=n.constructor,u=ch(n.buffer),s={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:o,readerType:"byob"};if(t.kf.length>0)return t.kf.push(s),void Hh(e,i);if("closed"!==e.Di){if(t.gf>0){if(kh(t,s)){var f=Th(s);return Nh(t),void i.rf(f)}if(t.Af){var a=new h("Insufficient bytes to fill elements in the given buffer");return Fh(t,a),void i.uf(a)}}t.kf.push(s),Hh(e,i),_h(t)}else{var c=new o(s.buffer,s.byteOffset,0);i.ef(c)}}(e.af,n,i)}function $h(t){return new h("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Jh(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(fh(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Zh(t){var n=t.size;return n||function(){return 1}}function ta(t,n){Uf(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:jf(i),size:void 0===e?void 0:na(e,n+" has member 'size' that")}}function na(t,n){return zf(t,n),function(n){return jf(t(n))}}function ia(t,n,i){return zf(t,i),function(i){return Sf(t,n,[i])}}function ea(t,n,i){return zf(t,i),function(){return Sf(t,n,[])}}function ra(t,n,i){return zf(t,i),function(i){return _f(t,n,[i])}}function oa(t,n,i){return zf(t,i),function(i,e){return Sf(t,n,[i,e])}}function ua(t,n){if(!ca(t))throw new h(n+" is not a WritableStream.")}a.defineProperties(Yh.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(Yh.prototype,nf.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var sa="function"==typeof AbortController;var fa=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Mf(t,"First parameter");var i=ta(n,"Second parameter"),e=function(t,n){Uf(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,o=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:ia(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:ea(e,t,n+" has member 'close' that"),start:void 0===r?void 0:ra(r,t,n+" has member 'start' that"),write:void 0===u?void 0:oa(u,t,n+" has member 'write' that"),type:o}}(t,"First parameter");if(aa(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Zh(i);!function(t,n,i,e){var r=a.create(Oa.prototype),o=function(){},u=function(){return vf(void 0)},s=function(){return vf(void 0)},f=function(){return vf(void 0)};void 0!==n.start&&(o=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(s=function(){return n.close()});void 0!==n.abort&&(f=function(t){return n.abort(t)});Aa(t,r,o,u,s,f,i,e)}(this,e,Jh(i,1),r)}return a.defineProperty(t.prototype,"locked",{get:function(){if(!ca(this))throw Ua("locked");return va(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),ca(this)?va(this)?lf(new h("Cannot abort a stream that already has a writer")):la(this,t):lf(Ua("abort"))},t.prototype.close=function(){return ca(this)?va(this)?lf(new h("Cannot close a stream that already has a writer")):ma(this)?lf(new h("Cannot close an already-closing stream")):da(this):lf(Ua("close"))},t.prototype.getWriter=function(){if(!ca(this))throw Ua("getWriter");return ha(this)},t}();function ha(t){return new _a(t)}function aa(t){t.Di="writable",t.$c=void 0,t.zu=void 0,t.xf=void 0,t.Pf=new If,t.Of=void 0,t.Nf=void 0,t.Bf=void 0,t.Mf=void 0,t.Ff=!1}function ca(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"xf")&&t instanceof fa)}function va(t){return void 0!==t.zu}function la(t,n){var i;if("closed"===t.Di||"errored"===t.Di)return vf(void 0);t.xf.Lf=n,null===(i=t.xf.Uf)||void 0===i||i.abort();var e=t.Di;if("closed"===e||"errored"===e)return vf(void 0);if(void 0!==t.Mf)return t.Mf.Wf;var r=!1;"erroring"===e&&(r=!0,n=void 0);var o=cf(function(i,e){t.Mf={Wf:void 0,Tu:i,Su:e,Vf:n,zf:r}});return t.Mf.Wf=o,r||ba(t,n),o}function da(t){var n=t.Di;if("closed"===n||"errored"===n)return lf(new h("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=cf(function(n,i){var e={Tu:n,Su:i};t.Nf=e}),r=t.zu;return void 0!==r&&t.Ff&&"writable"===n&&Qa(r),wh(i=t.xf,Na,0),xa(i),e}function wa(t,n){"writable"!==t.Di?ga(t):ba(t,n)}function ba(t,n){var i=t.xf;t.Di="erroring",t.$c=n;var e=t.zu;void 0!==e&&Ea(e,n),!function(t){if(void 0===t.Of&&void 0===t.Bf)return!1;return!0}(t)&&i.Tf&&ga(t)}function ga(t){t.Di="errored",t.xf[Cf]();var n=t.$c;if(t.Pf.forEach(function(t){t.Su(n)}),t.Pf=new If,void 0!==t.Mf){var i=t.Mf;if(t.Mf=void 0,i.zf)return i.Su(n),void pa(t);wf(t.xf[Df](i.Vf),function(){i.Tu(),pa(t)},function(n){i.Su(n),pa(t)})}else pa(t)}function ma(t){return void 0!==t.Nf||void 0!==t.Bf}function pa(t){void 0!==t.Nf&&(t.Nf.Su(t.$c),t.Nf=void 0);var n=t.zu;void 0!==n&&Va(n,t.$c)}function ya(t,n){var i=t.zu;void 0!==i&&n!==t.Ff&&(n?function(t){Xa(t)}(i):Qa(i)),t.Ff=n}a.defineProperties(fa.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(fa.prototype,nf.toStringTag,{value:"WritableStream",configurable:!0});var _a=function(){function t(t){if(Wf(t,1,"WritableStreamDefaultWriter"),ua(t,"First parameter"),va(t))throw new h("This stream has already been locked for exclusive writing by another writer");this.Hf=t,t.zu=this;var n,i=t.Di;if("writable"===i)!ma(t)&&t.Ff?Xa(this):Ya(this),qa(this);else if("erroring"===i)Ga(this,t.$c),qa(this);else if("closed"===i)Ya(this),qa(n=this),Ha(n);else{var e=t.$c;Ga(this,e),ja(this,e)}}return a.defineProperty(t.prototype,"closed",{get:function(){return Sa(this)?this.Lo:lf(Ma("closed"))},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Sa(this))throw Ma("desiredSize");if(void 0===this.Hf)throw Wa("desiredSize");return function(t){var n=t.Hf,i=n.Di;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ca(n.xf)}(this)},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"ready",{get:function(){return Sa(this)?this.Xf:lf(Ma("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Sa(this)?void 0===this.Hf?lf(Wa("abort")):function(t,n){return la(t.Hf,n)}(this,t):lf(Ma("abort"))},t.prototype.close=function(){if(!Sa(this))return lf(Ma("close"));var t=this.Hf;return void 0===t?lf(Wa("close")):ma(t)?lf(new h("Cannot close an already-closing stream")):Ia(this)},t.prototype.releaseLock=function(){if(!Sa(this))throw Ma("releaseLock");void 0!==this.Hf&&ka(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),Sa(this)?void 0===this.Hf?lf(Wa("write to")):Ra(this,t):lf(Ma("write"))},t}();function Sa(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"Hf")&&t instanceof _a)}function Ia(t){return da(t.Hf)}function Ta(t,n){"pending"===t.qf?Va(t,n):function(t,n){ja(t,n)}(t,n)}function Ea(t,n){"pending"===t.Gf?Ka(t,n):function(t,n){Ga(t,n)}(t,n)}function ka(t){var n=t.Hf,i=new h("Writer was released and can no longer be used to monitor the stream's closedness");Ea(t,i),Ta(t,i),n.zu=void 0,t.Hf=void 0}function Ra(t,n){var i=t.Hf,e=i.xf,r=function(t,n){try{return t.Qf(n)}catch(n){return Ba(t,n),1}}(e,n);if(i!==t.Hf)return lf(Wa("write to"));var o=i.Di;if("errored"===o)return lf(i.$c);if(ma(i)||"closed"===o)return lf(new h("The stream is closing or closed and cannot be written to"));if("erroring"===o)return lf(i.$c);var u=function(t){return cf(function(n,i){var e={Tu:n,Su:i};t.Pf.push(e)})}(i);return function(t,n,i){try{wh(t,n,i)}catch(n){return void Ba(t,n)}var e=t.jf;if(!ma(e)&&"writable"===e.Di){var r=Fa(t);ya(e,r)}xa(t)}(e,n,r),u}a.defineProperties(_a.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(_a.prototype,nf.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Na={},Oa=function(){function t(){throw new h("Illegal constructor")}return a.defineProperty(t.prototype,"abortReason",{get:function(){if(!Pa(this))throw za("abortReason");return this.Lf},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"signal",{get:function(){if(!Pa(this))throw za("signal");if(void 0===this.Uf)throw new h("WritableStreamDefaultController.prototype.signal is not supported");return this.Uf.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Pa(this))throw za("error");"writable"===this.jf.Di&&La(this,t)},t.prototype[Df]=function(t){var n=this.Yf(t);return Da(this),n},t.prototype[Cf]=function(){bh(this)},t}();function Pa(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"jf")&&t instanceof Oa)}function Aa(t,n,i,e,r,o,u,s){n.jf=t,t.xf=n,n.wf=void 0,n.gf=void 0,bh(n),n.Lf=void 0,n.Uf=function(){if(sa)return new AbortController}(),n.Tf=!1,n.Qf=s,n.Df=u,n.Zf=e,n.Jf=r,n.Yf=o;var f=Fa(n);ya(t,f),wf(vf(i()),function(){n.Tf=!0,xa(n)},function(i){n.Tf=!0,wa(t,i)})}function Da(t){t.Zf=void 0,t.Jf=void 0,t.Yf=void 0,t.Qf=void 0}function Ca(t){return t.Df-t.gf}function xa(t){var n=t.jf;if(t.Tf&&void 0===n.Of)if("erroring"!==n.Di){if(0!==t.wf.length){var i=t.wf.peek().value;i===Na?function(t){var n=t.jf;(function(t){t.Bf=t.Nf,t.Nf=void 0})(n),dh(t);var i=t.Jf();Da(t),wf(i,function(){!function(t){t.Bf.Tu(void 0),t.Bf=void 0,"erroring"===t.Di&&(t.$c=void 0,void 0!==t.Mf&&(t.Mf.Tu(),t.Mf=void 0)),t.Di="closed";var n=t.zu;void 0!==n&&Ha(n)}(n)},function(t){!function(t,n){t.Bf.Su(n),t.Bf=void 0,void 0!==t.Mf&&(t.Mf.Su(n),t.Mf=void 0),wa(t,n)}(n,t)})}(t):function(t,n){var i=t.jf;(function(t){t.Of=t.Pf.shift()})(i),wf(t.Zf(n),function(){!function(t){t.Of.Tu(void 0),t.Of=void 0}(i);var n=i.Di;if(dh(t),!ma(i)&&"writable"===n){var e=Fa(t);ya(i,e)}xa(t)},function(n){"writable"===i.Di&&Da(t),function(t,n){t.Of.Su(n),t.Of=void 0,wa(t,n)}(i,n)})}(t,i)}}else ga(n)}function Ba(t,n){"writable"===t.jf.Di&&La(t,n)}function Fa(t){return Ca(t)<=0}function La(t,n){var i=t.jf;Da(t),ba(i,n)}function Ua(t){return new h("WritableStream.prototype."+t+" can only be used on a WritableStream")}function za(t){return new h("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Ma(t){return new h("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Wa(t){return new h("Cannot "+t+" a stream using a released writer")}function qa(t){t.Lo=cf(function(n,i){t.tf=n,t.nf=i,t.qf="pending"})}function ja(t,n){qa(t),Va(t,n)}function Va(t,n){void 0!==t.nf&&(pf(t.Lo),t.nf(n),t.tf=void 0,t.nf=void 0,t.qf="rejected")}function Ha(t){void 0!==t.tf&&(t.tf(void 0),t.tf=void 0,t.nf=void 0,t.qf="resolved")}function Xa(t){t.Xf=cf(function(n,i){t.Kf=n,t.$f=i}),t.Gf="pending"}function Ga(t,n){Xa(t),Ka(t,n)}function Ya(t){Xa(t),Qa(t)}function Ka(t,n){void 0!==t.$f&&(pf(t.Xf),t.$f(n),t.Kf=void 0,t.$f=void 0,t.Gf="rejected")}function Qa(t){void 0!==t.Kf&&(t.Kf(void 0),t.Kf=void 0,t.$f=void 0,t.Gf="fulfilled")}a.defineProperties(Oa.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(Oa.prototype,nf.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var $a="undefined"!=typeof DOMException?DOMException:void 0;var Ja,Za=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}($a)?$a:((Ja=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=a.create(f.prototype),a.defineProperty(Ja.prototype,"constructor",{value:Ja,writable:!0,configurable:!0}),Ja);function tc(t,n,i,e,r,o){var u=Gf(t),s=ha(n);t.sf=!0;var f=!1,a=vf(void 0);return cf(function(c,v){var l,d,w,b;if(void 0!==o){if(l=function(){var i=new Za("Aborted","AbortError"),o=[];e||o.push(function(){return"writable"===n.Di?la(n,i):vf(void 0)}),r||o.push(function(){return"readable"===t.Di?kc(t,i):vf(void 0)}),y(function(){return j.all(o.map(function(t){return t()}))},!0,i)},o.aborted)return void l();o.addEventListener("abort",l)}if(p(t,u.Lo,function(t){e?_(!0,t):y(function(){return la(n,t)},!0,t)}),p(n,s.Lo,function(n){r?_(!0,n):y(function(){return kc(t,n)},!0,n)}),d=t,w=u.Lo,b=function(){i?_():y(function(){return function(t){var n=t.Hf,i=n.Di;return ma(n)||"closed"===i?vf(void 0):"errored"===i?lf(n.$c):Ia(t)}(s)})},"closed"===d.Di?b():bf(w,b),ma(n)||"closed"===n.Di){var g=new h("the destination writable stream closed before all data could be piped to it");r?_(!0,g):y(function(){return kc(t,g)},!0,g)}function m(){var t=a;return df(a,function(){return t!==a?m():void 0})}function p(t,n,i){"errored"===t.Di?i(t.$c):gf(n,i)}function y(t,i,e){function r(){wf(t(),function(){return S(i,e)},function(t){return S(!0,t)})}f||(f=!0,"writable"!==n.Di||ma(n)?r():bf(m(),r))}function _(t,i){f||(f=!0,"writable"!==n.Di||ma(n)?S(t,i):bf(m(),function(){return S(t,i)}))}function S(t,n){ka(s),kf(u),void 0!==o&&o.removeEventListener("abort",l),t?v(n):c(void 0)}pf(cf(function(t,n){!function i(e){e?t():df(f?vf(!0):df(s.Xf,function(){return cf(function(t,n){ih(u,{rf:function(n){a=df(Ra(s,n),void 0,ef),t(!1)},ef:function(){return t(!0)},uf:n})})}),i,n)}(!1)}))})}var nc=function(){function t(){throw new h("Illegal constructor")}return a.defineProperty(t.prototype,"desiredSize",{get:function(){if(!ic(this))throw vc("desiredSize");return hc(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!ic(this))throw vc("close");if(!ac(this))throw new h("The stream is not in a state that permits close");uc(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!ic(this))throw vc("enqueue");if(!ac(this))throw new h("The stream is not in a state that permits enqueue");return sc(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!ic(this))throw vc("error");fc(this,t)},t.prototype[xf]=function(t){bh(this);var n=this._f(t);return oc(this),n},t.prototype[Bf]=function(t){var n=this.th;if(this.wf.length>0){var i=dh(this);this.Af&&0===this.wf.length?(oc(this),Rc(n)):ec(this),t.rf(i)}else Yf(n,t),ec(this)},t}();function ic(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"th")&&t instanceof nc)}function ec(t){rc(t)&&(t.Sf?t.Ef=!0:(t.Sf=!0,wf(t.If(),function(){t.Sf=!1,t.Ef&&(t.Ef=!1,ec(t))},function(n){fc(t,n)})))}function rc(t){var n=t.th;return!!ac(t)&&(!!t.Tf&&(!!(Ec(n)&&Qf(n)>0)||hc(t)>0))}function oc(t){t.If=void 0,t._f=void 0,t.Qf=void 0}function uc(t){if(ac(t)){var n=t.th;t.Af=!0,0===t.wf.length&&(oc(t),Rc(n))}}function sc(t,n){if(ac(t)){var i=t.th;if(Ec(i)&&Qf(i)>0)Kf(i,n,!1);else{var e=void 0;try{e=t.Qf(n)}catch(n){throw fc(t,n),n}try{wh(t,n,e)}catch(n){throw fc(t,n),n}}ec(t)}}function fc(t,n){var i=t.th;"readable"===i.Di&&(bh(t),oc(t),Nc(i,n))}function hc(t){var n=t.th.Di;return"errored"===n?null:"closed"===n?0:t.Df-t.gf}function ac(t){var n=t.th.Di;return!t.Af&&"readable"===n}function cc(t,n,i,e,r,o,u){n.th=t,n.wf=void 0,n.gf=void 0,bh(n),n.Tf=!1,n.Af=!1,n.Ef=!1,n.Sf=!1,n.Qf=u,n.Df=o,n.If=e,n._f=r,t.af=n,wf(vf(i()),function(){n.Tf=!0,ec(n)},function(t){fc(n,t)})}function vc(t){return new h("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function lc(t,n){return ph(t.af)?function(t){var n,i,e,r,o,u=Gf(t),s=!1,f=!1,h=!1,a=!1,c=!1,v=cf(function(t){o=t});function l(t){gf(t.Lo,function(n){t===u&&(Fh(e.af,n),Fh(r.af,n),a&&c||o(void 0))})}function d(){Kh(u)&&(kf(u),l(u=Gf(t)));var n={rf:function(n){yf(function(){f=!1,h=!1;var i=n,u=n;if(!a&&!c)try{u=lh(n)}catch(n){return Fh(e.af,n),Fh(r.af,n),void o(kc(t,n))}a||Bh(e.af,i),c||Bh(r.af,u),s=!1,f?b():h&&g()})},ef:function(){s=!1,a||xh(e.af),c||xh(r.af),e.af.kf.length>0&&zh(e.af,0),r.af.kf.length>0&&zh(r.af,0),a&&c||o(void 0)},uf:function(){s=!1}};ih(u,n)}function w(n,i){nh(u)&&(kf(u),l(u=Vh(t)));var v=i?r:e,d=i?e:r,w={rf:function(n){yf(function(){f=!1,h=!1;var e=i?c:a,r=i?a:c;if(r)e||Mh(v.af,n);else{var u=void 0;try{u=lh(n)}catch(n){return Fh(v.af,n),Fh(d.af,n),void o(kc(t,n))}e||Mh(v.af,n),Bh(d.af,u)}s=!1,f?b():h&&g()})},ef:function(t){s=!1;var n=i?c:a,e=i?a:c;n||xh(v.af),e||xh(d.af),void 0!==t&&(n||Mh(v.af,t),!e&&d.af.kf.length>0&&zh(d.af,0)),n&&e||o(void 0)},uf:function(){s=!1}};Qh(u,n,w)}function b(){if(s)return f=!0,vf(void 0);s=!0;var t=Lh(e.af);return null===t?d():w(t.mf,!1),vf(void 0)}function g(){if(s)return h=!0,vf(void 0);s=!0;var t=Lh(r.af);return null===t?d():w(t.mf,!0),vf(void 0)}function m(){}return e=Sc(m,b,function(e){if(a=!0,n=e,c){var r=hh([n,i]),u=kc(t,r);o(u)}return v}),r=Sc(m,g,function(e){if(c=!0,i=e,a){var r=hh([n,i]),u=kc(t,r);o(u)}return v}),l(u),[e,r]}(t):function(t,n){var i,e,r,o,u,s=Gf(t),f=!1,h=!1,a=!1,c=!1,v=cf(function(t){u=t});function l(){if(f)return h=!0,vf(void 0);f=!0;var t={rf:function(t){yf(function(){h=!1;var n=t,i=t;a||sc(r.af,n),c||sc(o.af,i),f=!1,h&&l()})},ef:function(){f=!1,a||uc(r.af),c||uc(o.af),a&&c||u(void 0)},uf:function(){f=!1}};return ih(s,t),vf(void 0)}function d(){}return r=_c(d,l,function(n){if(a=!0,i=n,c){var r=hh([i,e]),o=kc(t,r);u(o)}return v}),o=_c(d,l,function(n){if(c=!0,e=n,a){var r=hh([i,e]),o=kc(t,r);u(o)}return v}),gf(s.Lo,function(t){fc(r.af,t),fc(o.af,t),a&&c||u(void 0)}),[r,o]}(t)}function dc(t,n,i){return zf(t,i),function(i){return Sf(t,n,[i])}}function wc(t,n,i){return zf(t,i),function(i){return Sf(t,n,[i])}}function bc(t,n,i){return zf(t,i),function(i){return _f(t,n,[i])}}function gc(t,n){if("bytes"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function mc(t,n){if("byob"!==(t=""+t))throw new h(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function pc(t,n){Uf(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,o=null==t?void 0:t.signal;return void 0!==o&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new h(n+" is not an AbortSignal.")}(o,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:o}}a.defineProperties(nc.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(nc.prototype,nf.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var yc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Mf(t,"First parameter");var i=ta(n,"Second parameter"),e=function(t,n){Uf(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,o=null==i?void 0:i.pull,u=null==i?void 0:i.start,s=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:Hf(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:dc(r,i,n+" has member 'cancel' that"),pull:void 0===o?void 0:wc(o,i,n+" has member 'pull' that"),start:void 0===u?void 0:bc(u,i,n+" has member 'start' that"),type:void 0===s?void 0:gc(s,n+" has member 'type' that")}}(t,"First parameter");if(Ic(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=a.create(mh.prototype),r=function(){},o=function(){return vf(void 0)},u=function(){return vf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(o=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var s=n.autoAllocateChunkSize;if(0===s)throw new h("autoAllocateChunkSize must be greater than 0");Wh(t,e,r,o,u,i,s)}(this,e,Jh(i,0))}else{var r=Zh(i);!function(t,n,i,e){var r=a.create(nc.prototype),o=function(){},u=function(){return vf(void 0)},s=function(){return vf(void 0)};void 0!==n.start&&(o=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(s=function(t){return n.cancel(t)}),cc(t,r,o,u,s,i,e)}(this,e,Jh(i,1),r)}}return a.defineProperty(t.prototype,"locked",{get:function(){if(!Tc(this))throw Oc("locked");return Ec(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Tc(this)?Ec(this)?lf(new h("Cannot cancel a stream that already has a reader")):kc(this,t):lf(Oc("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Tc(this))throw Oc("getReader");return void 0===function(t,n){Uf(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:mc(i,n+" has member 'mode' that")}}(t,"First parameter").mode?Gf(this):Vh(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Tc(this))throw Oc("pipeThrough");Wf(t,1,"pipeThrough");var i=function(t,n){Uf(t,n);var i=null==t?void 0:t.readable;qf(i,"readable","ReadableWritablePair"),Xf(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return qf(e,"writable","ReadableWritablePair"),ua(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=pc(n,"Second parameter");if(Ec(this))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(va(i.writable))throw new h("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return pf(tc(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Tc(this))return lf(Oc("pipeTo"));if(void 0===t)return lf("Parameter 1 is required in 'pipeTo'.");if(!ca(t))return lf(new h("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=pc(n,"Second parameter")}catch(t){return lf(t)}return Ec(this)?lf(new h("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):va(t)?lf(new h("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):tc(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Tc(this))throw Oc("tee");return hh(lc(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Tc(this))throw Oc("values");var n,i,e,r,o,u=function(t,n){Uf(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=Gf(n),r=new rh(e,i),(o=a.create(oh)).df=r,o},t}();function _c(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var o=a.create(yc.prototype);return Ic(o),cc(o,a.create(nc.prototype),t,n,i,e,r),o}function Sc(t,n,i){var e=a.create(yc.prototype);return Ic(e),Wh(e,a.create(mh.prototype),t,n,i,0,void 0),e}function Ic(t){t.Di="readable",t.Kc=void 0,t.$c=void 0,t.sf=!1}function Tc(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"af")&&t instanceof yc)}function Ec(t){return void 0!==t.Kc}function kc(t,n){if(t.sf=!0,"closed"===t.Di)return vf(void 0);if("errored"===t.Di)return lf(t.$c);Rc(t);var i=t.Kc;return void 0!==i&&Kh(i)&&(i.Rf.forEach(function(t){t.ef(void 0)}),i.Rf=new If),mf(t.af[xf](n),ef)}function Rc(t){t.Di="closed";var n=t.Kc;void 0!==n&&(Af(n),nh(n)&&(n.if.forEach(function(t){t.ef()}),n.if=new If))}function Nc(t,n){t.Di="errored",t.$c=n;var i=t.Kc;void 0!==i&&(Pf(i,n),nh(i)?(i.if.forEach(function(t){t.uf(n)}),i.if=new If):(i.Rf.forEach(function(t){t.uf(n)}),i.Rf=new If))}function Oc(t){return new h("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Pc(t,n){Uf(t,n);var i=null==t?void 0:t.highWaterMark;return qf(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:jf(i)}}a.defineProperties(yc.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(yc.prototype,nf.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof nf.asyncIterator&&a.defineProperty(yc.prototype,nf.asyncIterator,{value:yc.prototype.values,writable:!0,configurable:!0});var Ac=function(t){return t.byteLength};try{a.defineProperty(Ac,"name",{value:"size",configurable:!0})}catch(Jf){}var Dc=function(){function t(t){Wf(t,1,"ByteLengthQueuingStrategy"),t=Pc(t,"First parameter"),this.nh=t.highWaterMark}return a.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!xc(this))throw Cc("highWaterMark");return this.nh},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"size",{get:function(){if(!xc(this))throw Cc("size");return Ac},enumerable:!1,configurable:!0}),t}();function Cc(t){return new h("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function xc(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"nh")&&t instanceof Dc)}a.defineProperties(Dc.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(Dc.prototype,nf.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Bc=function(){return 1};try{a.defineProperty(Bc,"name",{value:"size",configurable:!0})}catch(Jf){}var Fc=function(){function t(t){Wf(t,1,"CountQueuingStrategy"),t=Pc(t,"First parameter"),this.ih=t.highWaterMark}return a.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Uc(this))throw Lc("highWaterMark");return this.ih},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"size",{get:function(){if(!Uc(this))throw Lc("size");return Bc},enumerable:!1,configurable:!0}),t}();function Lc(t){return new h("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function Uc(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"ih")&&t instanceof Fc)}function zc(t,n,i){return zf(t,i),function(i){return Sf(t,n,[i])}}function Mc(t,n,i){return zf(t,i),function(i){return _f(t,n,[i])}}function Wc(t,n,i){return zf(t,i),function(i,e){return Sf(t,n,[i,e])}}a.defineProperties(Fc.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(Fc.prototype,nf.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var qc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=ta(n,"Second parameter"),r=ta(i,"Third parameter"),o=function(t,n){Uf(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,o=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:zc(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:Mc(r,t,n+" has member 'start' that"),transform:void 0===o?void 0:Wc(o,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==o.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw new RangeError("Invalid writableType specified");var u,s=Jh(r,0),f=Zh(r),h=Jh(e,1),c=Zh(e);!function(t,n,i,e,r,o){function u(){return n}t.eh=function(t,n,i,e,r,o){void 0===r&&(r=1),void 0===o&&(o=function(){return 1});var u=a.create(fa.prototype);return aa(u),Aa(u,a.create(Oa.prototype),t,n,i,e,r,o),u}(u,function(n){return function(t,n){var i=t.rh;if(t.Ff){var e=t.uh;return mf(e,function(){var e=t.eh,r=e.Di;if("erroring"===r)throw e.$c;return Jc(i,n)})}return Jc(i,n)}(t,n)},function(){return function(t){var n=t.sh,i=t.rh,e=i.oh();return Qc(i),mf(e,function(){if("errored"===n.Di)throw n.$c;uc(n.af)},function(i){throw Vc(t,i),n.$c})}(t)},function(n){return function(t,n){return Vc(t,n),vf(void 0)}(t,n)},i,e),t.sh=_c(u,function(){return function(t){return Xc(t,!1),t.uh}(t)},function(n){return Hc(t,n),vf(void 0)},r,o),t.Ff=void 0,t.uh=void 0,t.ah=void 0,Xc(t,!0),t.rh=void 0}(this,cf(function(t){u=t}),h,c,s,f),function(t,n){var i=a.create(Yc.prototype),e=function(t){try{return $c(i,t),vf(void 0)}catch(t){return lf(t)}},r=function(){return vf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.fh=t,t.rh=n,n.hh=i,n.oh=e}(t,i,e,r)}(this,o),void 0!==o.start?u(o.start(this.rh)):u(void 0)}return a.defineProperty(t.prototype,"readable",{get:function(){if(!jc(this))throw tv("readable");return this.sh},enumerable:!1,configurable:!0}),a.defineProperty(t.prototype,"writable",{get:function(){if(!jc(this))throw tv("writable");return this.eh},enumerable:!1,configurable:!0}),t}();function jc(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"rh")&&t instanceof qc)}function Vc(t,n){fc(t.sh.af,n),Hc(t,n)}function Hc(t,n){Qc(t.rh),Ba(t.eh.xf,n),t.Ff&&Xc(t,!1)}function Xc(t,n){void 0!==t.uh&&t.ah(),t.uh=cf(function(n){t.ah=n}),t.Ff=n}a.defineProperties(qc.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(qc.prototype,nf.toStringTag,{value:"TransformStream",configurable:!0});var Gc,Yc=function(){function t(){throw new h("Illegal constructor")}return a.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Kc(this))throw Zc("desiredSize");return hc(this.fh.sh.af)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Kc(this))throw Zc("enqueue");$c(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Kc(this))throw Zc("error");var n;n=t,Vc(this.fh,n)},t.prototype.terminate=function(){if(!Kc(this))throw Zc("terminate");!function(t){var n=t.fh;uc(n.sh.af);var i=new h("TransformStream terminated");Hc(n,i)}(this)},t}();function Kc(t){return!!of(t)&&(!!a.prototype.hasOwnProperty.call(t,"fh")&&t instanceof Yc)}function Qc(t){t.hh=void 0,t.oh=void 0}function $c(t,n){var i=t.fh,e=i.sh.af;if(!ac(e))throw new h("Readable side is not in a state that permits enqueue");try{sc(e,n)}catch(t){throw Hc(i,t),i.sh.$c}(function(t){return!rc(t)})(e)!==i.Ff&&Xc(i,!0)}function Jc(t,n){return mf(t.hh(n),void 0,function(n){throw Vc(t.fh,n),n})}function Zc(t){return new h("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function tv(t){return new h("TransformStream.prototype."+t+" can only be used on a TransformStream")}function nv(t){return n=[t],new yc({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function iv(t){return nv(new w(t))}function ev(t,n){return function(t,n){var i=n,e=t.getReader(),r=new tu,o=function(){u();var t=new An;e.cancel(t).catch(lt),r.Iu(t)},u=function(){i&&(i.Cr(o),i=void 0)};i&&(i.pr?o():i.Rr(o));var s=[];return j.resolve(e.read()).then(function t(n){return n.done?(u(),j.resolve(s)):(s.push(n.value),j.resolve(e.read()).then(t))}).then(function(t){u(),r.Eu(t)},function(t){u(),r.Iu(t)}),r.ku}(t,n).then(function(t){return si(t).buffer})}function rv(t,n){var i=n,e=new qc,r=e.readable,o=e.writable,u=o.getWriter(),s=function(){i&&i.Or()};return u.closed.then(s,s),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(o).catch(lt)},function(t){return i=void 0,u.releaseLock(),o.abort(t).catch(lt)}),r}function ov(t){return Jn(new w(t))}function uv(t){return Zn(t).buffer}a.defineProperties(Yc.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof nf.toStringTag&&a.defineProperty(Yc.prototype,nf.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),function(t){t[t.zc=0]="zc",t[t.vh=1]="vh"}(Gc||(Gc={}));var sv="content-type",fv="text/plain;charset=UTF-8",hv=function(){function t(){}var n=t.prototype;return n.lh=function(t){return this.dh(t).then(JSON.parse)},n.wh=function(t,n){switch(t){case $s.Wc:return this.gh(n);case $s.Vc:return this.lh(n);case $s.zc:return this.mh();case $s.Bn:return this.dh(n);default:throw new h}},t}();function av(t,n,i){if(t instanceof hv)return t;if(t instanceof yc)return function(t,n){return new vv({er:Gc.zc,mh:t,yh:cv(n)})}(t,i);var e=cv(i),r=j.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{er:$s.Bn,Ah:t,yh:n||fv};if(t instanceof ArrayBuffer||ui(t))return{er:$s.Wc,Ah:pv(t),yh:n};if(et(i=t)&&i.constructor&&i.constructor===a||it(t))return{er:$s.Vc,Ah:t,yh:n};throw new h("Unsupported BodyInit type")}return{er:$s.Bn,Ah:null,yh:n};var i}(t,e)});return new vv({er:Gc.vh,ku:r,bh:n})}function cv(t){return(t.get(sv)||"").toLowerCase()}var vv=function(t){function n(n){var i;return(i=t.call(this)||this)._h=!1,i.ph=void 0,i.kh=new tu,i.kh.ku.catch(lt),i.Th(n),i}zt(n,t);var i=n.prototype;return i.Sh=function(){return this.kh.ku},i.dh=function(t){return this.Eh(lv,t)},i.lh=function(t){return this.Eh(wv,t)},i.gh=function(t){return this.Eh(gv,t)},i.mh=function(){return this.Ih((t=this.ph).er===Gc.zc?t.mh:rv(t.ku.then(mv).then(iv),t.bh));var t},i.Eh=function(t,n){if(this._h)return j.reject(new h("Already used"));this._h=!0;var i=t(this.ph,n);return this.kh.Eu(i.then(lt)),i},i.Ih=function(t){if(this._h)throw new h("Already used");if(t.locked)throw new h("Body stream is locked");this._h=!0;var n=new qc,i=j.resolve(t.pipeTo(n.writable));return this.kh.Eu(i),n.readable},i.Th=function(t){this.ph=t,t.er===Gc.vh&&t.ku.catch(lt)},i.Rh=function(){if(this._h)throw new h("Already used");var t=function(t){if(t.er===Gc.zc){var n=t.mh.tee(),i=n[0],e=n[1];return[{er:t.er,mh:i,yh:t.yh},{er:t.er,mh:e,yh:t.yh}]}var r=t.bh.Br(),o=r[0],u=r[1];return[{er:t.er,ku:t.ku,bh:o},{er:t.er,ku:t.ku,bh:u}]}(this.ph),i=t[0],e=t[1];return this.Th(i),new n(e)},mt(n,[{key:"Ch",get:function(){return this._h}}]),n}(hv);function lv(t,n){return t.er===Gc.zc?ev(t.mh,n).then(ov):(n&&t.bh.Nr(n),Cn(t.ku.then(dv),t.bh))}function dv(t){switch(t.er){case $s.Bn:return j.resolve(t.Ah||"");case $s.Wc:return j.resolve(t.Ah).then(ov);case $s.Vc:return j.resolve(t.Ah).then(JSON.stringify)}}function wv(t,n){return t.er===Gc.zc?lv(t,n).then(JSON.parse):(n&&t.bh.Nr(n),Cn(t.ku.then(bv),t.bh))}function bv(t){return t.er===$s.Vc?j.resolve(t.Ah):dv(t).then(JSON.parse)}function gv(t,n){return t.er===Gc.zc?ev(t.mh,n):(n&&t.bh.Nr(n),Cn(t.ku.then(mv),t.bh))}function mv(t){switch(t.er){case $s.Wc:return j.resolve(t.Ah);case $s.Bn:case $s.Vc:return dv(t).then(uv)}}function pv(t){return t instanceof ArrayBuffer?t:ei(ni(t)).buffer}function yv(t){return t.Dh>=200&&t.Dh<=299||304===t.Dh}var _v,Sv,Iv,Tv,Ev=function(t){function n(n,i){var e,r,o,u,s,f;i?(r=i.xh,o=i.Ph,u=i.Dh,s=i.Oh,f=i.Nh):(r=[],o=$s.Bn,u=200,s="OK",f=!1);var h=n.Bh,a=new Js(n.xh||r),c=n.Ph||o,v=n.Mh||(i&&i.Bh===h?i.Mh:h.Fh),l=i?i.Lh:null,d=av(void 0!==n.hi?n.hi:l,n.bh||new Pn,a);return(e=t.call(this,d)||this).xh=void 0,e.Bh=void 0,e.Mh=void 0,e.Ph=void 0,e.Dh=void 0,e.Oh=void 0,e.Nh=void 0,e.xh=a,e.Bh=h,e.Mh=v,e.Ph=c,e.Dh=void 0!==n.Dh?n.Dh:u,e.Oh=void 0!==n.Oh?String(n.Oh):s,e.Nh=n.Nh||f,e}zt(n,t);var i=n.prototype;return i.hi=function(t){return this.wh(this.Ph,t)},i.Au=function(){return new n({hi:this.Rh(),Bh:this.Bh},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Lh=void 0,i.Lh=n,i}zt(n,t);var i=n.prototype;return i.Sh=function(){return this.Lh.Sh()},i.dh=function(t){return this.Lh.dh(t)},i.lh=function(t){return this.Lh.lh(t)},i.gh=function(t){return this.Lh.gh(t)},i.mh=function(){return this.Lh.mh()},i.Rh=function(){return this.Lh.Rh()},mt(n,[{key:"Ch",get:function(){return this.Lh.Ch}}]),n}(hv));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(_v||(_v={})),function(t){t.Uh="",t.Wh="manifest",t.Vh="segment",t.zh="content-protection"}(Sv||(Sv={})),function(t){t.Uh="",t.Hh="initialization-segment",t.Xh="fairplay-license",t.qh="fairplay-certificate",t.Gh="widevine-license",t.Qh="widevine-certificate",t.jh="playready-license",t.Yh="clearkey-license",t.Zh="aes128-key"}(Iv||(Iv={})),function(t){t.Uh="",t.Jh="audio",t.Kh="video",t.Bn="text",t.$h="image"}(Tv||(Tv={}));var kv=function(t,n){this.Ah=void 0,this.xh=void 0,this.tv=void 0,this.Ph=void 0,this.nv=void 0,this.Mr=void 0,this.er=void 0,this.ev=void 0,this.rv=void 0,this.Fh=void 0,this.uv=void 0,this.sv=void 0;var i,e,r,o,u,s,f,h,a,c,v,l=t.Fh;n?(i=n.Ah,e=n.xh,r=n.tv,o=n.Ph,u=n.nv,s=n.Mr,f=n.er,h=n.ev,a=n.rv,c=n.uv,v=n.sv):(i=null,e={},r=_v.GET,o=$s.Bn,u=0,f=Sv.Uh,h=Iv.Uh,a=Tv.Uh,c=!1),this.Fh=l,this.Ah=t.Ah||i,this.xh=new Js(t.xh||e),this.tv=t.tv||r,this.Ph=t.Ph||o,this.nv=void 0!==t.nv?Number(t.nv)||0:u,this.Mr=t.Mr||s||(new Pn).Mr,this.er=t.er||f,this.ev=t.ev||h,this.rv=t.rv||a,this.uv=void 0!==t.uv?Boolean(t.uv):c,this.sv=t.sv||v},Rv=function(){function t(){}var n=t.prototype;return n.Bh=function(t){var n=function(t){return new Ev({hi:null,xh:{},Bh:t,Mh:t.Fh,Ph:t.Ph,Dh:0,Oh:Qs.Ac})}(new kv(t));return j.resolve(n)},n.ov=function(t){},n.av=function(){},t}();var Nv,Ov=function(){function t(t,n){void 0===n&&(n=!0),this.cv=void 0,this.fv=void 0,this.cv=t,this.fv=n}var n=t.prototype;return n.Bh=function(t){var n=this.hv(t);return this.cv.Bh(n)},n.ov=function(t){return this.cv.ov(this.vv(t))},n.hv=function(n){var i=new kv(n);if(!this.fv){var e=t.lv(i.Fh);i=new kv({Fh:e},i)}return i},n.vv=function(n){var i=n.Fh;return this.fv||(i=t.lv(i)),{Fh:i,Ah:n.Ah}},t.lv=function(t){return J.We&&Un(t,"http://")?t.replace(":","s:"):t},n.av=function(){this.cv.av()},mt(t,null,[{key:"dv",get:function(){return t.wv||(t.wv=new t(new Rv)),t.wv}}]),t}();Ov.wv=void 0,function(t){t.gv="HttpOpenError",t.mv="HttpResponseError",t.yv="HttpTimeoutError"}(Nv||(Nv={}));var Pv=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Av=void 0,r.Av=n,r}return zt(n,t),mt(n,[{key:"Bh",get:function(){return this.Av}}]),n}(Nn);var Av=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Fh+". Invalid URL.",i)||this}return zt(n,t),mt(n,[{key:"name",get:function(){return Nv.gv}}]),n}(Pv);var Dv=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Bh,null!=e?e:function(t){return"Error while loading "+t.Bh.Fh+", status code "+t.Dh}(n),i)||this).bv=void 0,r.bv=n,r}return zt(n,t),mt(n,[{key:"name",get:function(){return Nv.mv}},{key:"_v",get:function(){return this.bv}}]),n}(Pv);var Cv=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Fh+" timed out after "+t.nv+" seconds."}(n),i)||this}return zt(n,t),mt(n,[{key:"name",get:function(){return Nv.yv}}]),n}(Pv),xv=function(t,n){return(xv=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Bv(t,n){function i(){this.constructor=t}xv(t,n),t.prototype=null===n?a.create(n):(i.prototype=n.prototype,new i)}var Fv="object"==typeof n?n:"object"==typeof t?t:"object"==typeof global?global:null;var Lv=function(){var t=Fv.Blob;if(t)try{return new t,function(t,n){return new Fv.Blob(t,n)}}catch(t){}var n,i=Fv.BlobBuilder||Fv.WebKitBlobBuilder||Fv.MozBlobBuilder||Fv.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,o=t;r<o.length;r++){var u=o[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Uv="function"==typeof yc?yc:void 0;function zv(t){return t&&"function"==typeof t.getReader}function Mv(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&zv(i)}catch(t){return!1}}var Wv=function(){function t(t,n){this.Kc=t,this.pv=n}return t.prototype.pull=function(t){var n=this;return this.Kc.read().then(function(i){n.pv&&n.pv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Kc.cancel(t)},t}();function qv(t,n){return n.constructor===t?n:new t(new Wv(n.getReader()),{highWaterMark:0})}var jv=function(){function t(t,n){this.kv=t,this.Tv=n}return t.prototype.pull=function(t){return this.kv().then(function(n){t.enqueue(new w(n)),t.close()})},t.prototype.cancel=function(t){this.Tv&&this.Tv(t)},t}();function Vv(t,n,i){return new t(new jv(n,i),{highWaterMark:0})}var Hv={searchParams:"URLSearchParams"in Fv,iterable:"Symbol"in Fv&&"iterator"in Symbol,blob:"FileReader"in Fv&&!!Lv,formData:"FormData"in Fv,arrayBuffer:"ArrayBuffer"in Fv,stream:Mv(Uv),streamRequest:"Request"in Fv&&"body"in Fv.Request.prototype,streamResponse:"Response"in Fv&&"body"in Fv.Response.prototype,abort:"AbortController"in Fv&&"Request"in Fv&&"signal"in Fv.Request.prototype,encoding:"TextEncoder"in Fv&&"TextDecoder"in Fv,url:"URL"in Fv&&function(t){try{return new Fv.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Fv&&/Firefox\//.test(Fv.navigator.userAgent)};function Xv(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new h("Invalid character in header field name");return t}function Gv(t){return"string"!=typeof t&&(t=String(t)),t}function Yv(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Hv.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Kv=function(){function t(t){var n=this;this.Je={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return Hv.iterable&&t&&t[Symbol.iterator]}(t)?t&&a.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Xv(t),n=Gv(n);var i=t.toLowerCase();if(this.Je.hasOwnProperty(i)){var e=this.Je[i],r=e[1];e[1]=r?r+", "+n:n}else this.Je[i]=[t,n]},t.prototype.delete=function(t){var n=Xv(t).toLowerCase();delete this.Je[n]},t.prototype.get=function(t){var n=Xv(t).toLowerCase();return this.Je.hasOwnProperty(n)?this.Je[n][1]:null},t.prototype.has=function(t){var n=Xv(t).toLowerCase();return this.Je.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Xv(t)).toLowerCase();this.Je[i]=[t,Gv(n)]},t.prototype.forEach=function(t,n){for(var i in this.Je)this.Je.hasOwnProperty(i)&&t.call(n,this.Je[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Yv(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Yv(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Yv(t)},t.prototype.asList=function(){var t=[];for(var n in this.Je)if(this.Je.hasOwnProperty(n)){var i=this.Je[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Qv(){}Hv.iterable&&(Kv.prototype[Symbol.iterator]=Kv.prototype.entries);var $v,Jv,Zv,tl=c.min,nl=String.fromCharCode,il=16384;function el(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=il){var r=tl(e+il,n);i.push(nl.apply(null,t.slice(e,r)))}return i.join("")}(n)}function rl(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ol(t,n){return t>>n&63|128}function ul(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(rl(t),n.push(t>>12&15|224),n.push(ol(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ol(t,12)),n.push(ol(t,6))),n.push(63&t|128)):n.push(t)}function sl(){if(Zv>=Jv)throw new f("Invalid byte index");var t=255&$v[Zv];if(Zv++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function fl(){var t,n;if(Zv>Jv)throw new f("Invalid byte index");if(Zv===Jv)return!1;if(t=255&$v[Zv],Zv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|sl())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|sl()<<6|sl())>=2048)return rl(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|sl()<<12|sl()<<6|sl())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var hl=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function al(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function cl(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function vl(t){return t&&DataView.prototype.isPrototypeOf(t)}var ll,dl=ArrayBuffer.isView||function(t){return t&&(hl.indexOf(a.prototype.toString.call(t))>-1||vl(t))};function wl(t){if(t.bodyUsed)return j.reject(new h("Already used"));t.bodyUsed=!0}function bl(t){return new j(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function gl(t){return Hv.encoding?new Fv.TextDecoder("utf-8").decode(new w(t)):el(function(t){Jv=($v=t).length,Zv=0;for(var n,i=[];!1!==(n=fl());)i.push(n);return i}(new w(t)))}function ml(t){return Hv.encoding?(new Fv.TextEncoder).encode(t).buffer:new w(function(t){for(var n=[],i=0,e=t;i<e.length;i++)ul(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var o=t.charCodeAt(i++);56320==(64512&o)?n.push(((1023&r)<<10)+(1023&o)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function pl(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,o=t.value;return r?j.resolve(i):(i.push(o),n.read().then(e))};return n.read().then(e)}function yl(t){return pl(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(f=e[i]).byteLength;for(var r=new w(n),o=0,u=0,s=t;u<s.length;u++){var f=s[u];r.set(f,o),o+=f.byteLength}return r}(t).buffer})}function _l(t){return t.slice?t.slice(0):Sl(new w(t))}function Sl(t){if(t.slice)return t.slice(0).buffer;var n=new w(t.byteLength);return n.set(new w(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Il(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Tl(t){var n=t;if(n.bodyUsed)throw new h("Already used");if(n.Sv===ll.Ev){if(!n.Iv.tee)throw new f("could not clone ReadableStream body");var i=n.Iv.tee(),e=i[0],r=i[1];return n.body=e,n.Iv=e,n.Rv=e,r}return n.Sv===ll.Wc?_l(n.Iv):n.Sv===ll.vh?n.Iv.then(Tl):n.Rv}!function(t){t[t.Bn=0]="Bn",t[t.Cv=1]="Cv",t[t.Dv=2]="Dv",t[t.Wc=3]="Wc",t[t.Ev=4]="Ev",t[t.vh=5]="vh"}(ll||(ll={}));var El=function(){function t(n,i){this.bodyUsed=!1;var e,r,o,u=this;if(this.Rv=n||null,n)if("string"==typeof n)this.Sv=ll.Bn,this.Iv=n;else if((o=n)&&"function"==typeof o.then)this.Sv=ll.vh,this.Iv=j.resolve(n).then(function(n){return new t(n,i)}),this.Iv.catch(Qv);else if(Hv.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Sv=ll.Cv,this.Iv=n;else if(Hv.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Sv=ll.Dv,this.Iv=n;else if(Hv.searchParams&&al(n))this.Sv=ll.Bn,this.Iv=n.toString();else if(Hv.arrayBuffer&&(cl(n)||dl(n)))vl(n)&&(this.Rv=new w((r=n).buffer,r.byteOffset,r.byteLength)),this.Sv=ll.Wc,this.Iv=cl(e=n)?_l(e):Sl(e);else{if(!Hv.stream||!zv(n))throw new f("unsupported BodyInit type");n=qv(Uv,n),this.Sv=ll.Ev,this.Iv=n,this.Rv=n}else this.Sv=ll.Bn,this.Iv="";this.xv="",i.has("content-type")?this.xv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.xv="text/plain;charset=UTF-8":u.Sv===ll.Cv&&u.Iv.type?this.xv=u.Iv.type:Hv.searchParams&&al(n)&&(this.xv="application/x-www-form-urlencoded;charset=UTF-8"),this.xv&&i.set("content-type",this.xv)),Hv.stream&&(null==n?this.body=null:u.Sv===ll.Ev?this.body=u.Iv:this.body=Vv(Uv,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=wl(this);return e||(this.Sv===ll.Cv?(t=this.Iv,n=new FileReader,i=bl(n),n.readAsText(t),i):this.Sv===ll.Wc?j.resolve(this.Iv).then(gl):this.Sv===ll.Ev?yl(this.Iv).then(gl):this.Sv===ll.vh?this.Iv.then(function(t){return t.text()}):this.Sv===ll.Dv?j.reject(new f("could not read FormData body as text")):j.resolve(this.Iv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Hv.blob&&(El.prototype.blob=function(){var t,n,i=wl(this);return i||(this.Sv===ll.Cv?j.resolve(this.Iv):this.Sv===ll.Wc?j.resolve(Lv([this.Iv],{type:this.xv})):this.Sv===ll.Ev?(t=this.Iv,n=this.xv,pl(t).then(function(t){return Lv(t,{type:n||""})})):this.Sv===ll.vh?this.Iv.then(function(t){return t.blob()}):this.Sv===ll.Dv?j.reject(new f("could not read FormData body as Blob")):j.resolve(Lv([this.Iv],{type:this.xv})))}),Hv.arrayBuffer&&(El.prototype.arrayBuffer=function(){var t,n,i;return this.Sv===ll.Wc?wl(this)||j.resolve(this.Iv):this.Sv===ll.Cv?wl(this)||(t=this.Iv,n=new FileReader,i=bl(n),n.readAsArrayBuffer(t),i):this.Sv===ll.Ev?yl(this.Iv):this.Sv===ll.vh?wl(this)||this.Iv.then(function(t){return t.arrayBuffer()}):this.Sv===ll.Dv?j.reject(new f("could not read FormData body as ArrayBuffer")):j.resolve(this.Iv).then(ml)}),Hv.formData&&(El.prototype.formData=function(){return this.Sv===ll.Dv?wl(this)||j.resolve(this.Iv):this.text().then(Il)});var kl=[301,302,303,307,308],Rl=function(t){function n(n,i){var e=this,r=new Kv((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Bv(n,t),n.prototype.clone=function(){return new n(Tl(this),{status:this.status,statusText:this.statusText,headers:new Kv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===kl.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(El);var Nl,Ol=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function e(t,n){if(!(t instanceof n))throw new h("Cannot call a class as a function")}function o(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),a.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&o(t.prototype,n),i&&o(t,i),t}function s(t){return(s=a.setPrototypeOf?a.getPrototypeOf:function(t){return t.__proto__||a.getPrototypeOf(t)})(t)}function f(t,n){return(f=a.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,n,i){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!a.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(e){var r=a.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}a.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(){e(this,t),a.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){r(function(){return i.call(n,t)})},e=this.listeners[t.type],o=0,u=e.length;o<u;o++)i(e[o]);return!t.defaultPrevented}}}]),t}(),d=function(t){function n(){var t,i,r;return e(this,n),i=this,(t=!(r=s(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(i):r).listeners||l.call(c(t)),a.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),a.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new h("Super expression must either be null or a function");t.prototype=a.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&f(t,n)}(n,l),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),v(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){e(this,t),a.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==i?i.createEvent?(t=i.createEvent("Event")).initEvent("abort",!1,!1):(t=i.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=d,n.AbortController=w,n.default=w});(Nl=Ol)&&Nl.__esModule&&a.prototype.hasOwnProperty.call(Nl,"default")&&Nl.default,Ol.AbortSignal;var Pl=Ol.AbortController,Al=Fv.DOMException;try{new Al}catch(t){(Al=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=a.create(f.prototype),Al.prototype.constructor=Al}var Dl=Pl;function Cl(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function xl(t,n,i){return new j(function(e,r){if(n.signal.aborted)return t.catch(Qv),r(Bl());var o=function(){n.signal.removeEventListener("abort",o),r(Bl())};n.signal.addEventListener("abort",o),t.then(function(t){n.signal.removeEventListener("abort",o),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",o),r(t),i&&n.abort()})})}function Bl(){return new Al("Aborted","AbortError")}var Fl,Ll="moz-chunked-arraybuffer";function Ul(t){try{var n=new b;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Fl||(Fl={}));var zl=function(){function t(t,n){var i=this;this.Pv=!1,this.Av=t,this.Ov=n,this.Nv=new b,this.Bv=new j(function(t,n){i.Mv=t,i.Fv=n})}return t.prototype.send=function(){var t=this;return this.Lv().then(function(n){return t.Uv(n,t.Ov),t.Bv})},t.prototype.Lv=function(){var t=this.Av;return t.Sv===ll.Ev?t.arrayBuffer():j.resolve(t.Rv)},t.prototype.Wv=function(t){this.Av.onprogress&&this.Av.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Vv=function(t){this.Fv(t)},t.prototype.zv=function(){this.Vv(new h("Network request failed"))},t.prototype.Hv=function(){this.Vv(new h("Network request failed"))},t.prototype.Xv=function(){this.Vv(Bl())},t.prototype.Uv=function(t,n){var i=this,e=this.Av,r=this.Nv,o=function(){return i.qv()};if(e.signal.aborted)return this.Xv();r.onreadystatechange=function(){if(r.readyState>=Fl.HEADERS_RECEIVED&&!i.Pv){var t=function(t){var n=new Kv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Pv=!0,i.Gv(n)}},r.onprogress=function(t){return i.Wv(t)},r.onload=function(){return i.Qv()},r.onerror=function(){return i.zv()},r.ontimeout=function(){return i.Hv()},r.onabort=function(){return i.Xv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",o),r.onloadend=function(){e.signal.removeEventListener("abort",o)},t?r.send(t):r.send()},t.prototype.qv=function(){this.Xv(),this.Nv.abort()},t}(),Ml=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.jv=void 0,e.Yv=void 0,e}return Bv(n,t),n.prototype.Gv=function(t){var n=this;this.jv=new j(function(t,i){n.Yv=t,n.Zv=i}),this.Mv(new Rl(this.jv,t))},n.prototype.Qv=function(){var t=this.Nv.response;if(null==t){var n=this.Ov;""===n||"text"===n?t=this.Nv.responseText:"document"===n?t=this.Nv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Lv([]))}this.Yv(t)},n.prototype.Vv=function(n){t.prototype.Vv.call(this,n),this.Zv&&this.Zv(n)},n}(zl),Wl=function(t){function n(n){var i=t.call(this,n,Ll)||this;return i.Jv=void 0,i.Kv=void 0,i.$v=!1,i}return Bv(n,t),n.prototype.Gv=function(t){var n=this;this.Jv=new Uv({start:function(t){n.Kv=t},cancel:function(){n.$v=!0,n.qv()}}),this.Mv(new Rl(this.Jv,t))},n.prototype.Wv=function(n){this.$v||this.Kv.enqueue(new w(this.Nv.response)),t.prototype.Wv.call(this,n)},n.prototype.Qv=function(){this.Kv.close()},n.prototype.Vv=function(n){t.prototype.Vv.call(this,n),this.Kv&&!this.$v&&(this.$v=!0,this.Kv.error(n))},n}(zl),ql=function(){var t=Hv.firefox&&Ul(Ll);return ql=function(){return t},t},jl=function(){var t;return t=Hv.arrayBuffer&&Ul("arraybuffer")?"arraybuffer":Hv.blob&&Ul("blob")?"blob":"",jl=function(){return t},t};function Vl(t){return(Hv.stream&&ql()?new Wl(t):new Ml(t,jl())).send()}var Hl=Fv.fetch,Xl=Fv.Request;Fv.Response;var Gl=Fv.AbortController;var Yl=["http:","https:"];var Kl=function(){try{if(Hv.streamRequest){var t=new Xl("about:blank",{body:"",method:"POST"}).body;if(t&&Mv(t.constructor))return t.constructor}}catch(t){}}();function Ql(t,n,i){var e;if(Hv.stream){var r=void 0;if(Hv.streamResponse){var o=t.body;r=o&&qv(Uv,o)}else r=Vv(Uv,function(){return xl(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Wv(n.getReader(),i),{highWaterMark:0})}(Uv,t,function(t){var r=t.done,o=t.value;r?i=void 0===i?e:i:e+=o.byteLength,n(e,i)})}(r,i,$l(t.headers))),e=r}else{var u=xl(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return j.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,$l(t.headers))),e=u}return new Rl(e,t)}function $l(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Jl(t){var n=new Dl;return t.signal&&Cl(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Sv===ll.Ev?Hv.streamRequest&&Kl?j.resolve(qv(Kl,r.Iv)):xl(t.arrayBuffer(),n,!1):xl(j.resolve(t.Rv),n,!1),Hv.abort){var o=new Gl;Cl(o,n.signal),e=o.signal}return i.then(function(n){return new Xl(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Kv?i:new Kv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Hl(i).then(function(i){return Ql(i,n,t.onprogress)})})}var Zl=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var td=function(t){function n(i,e){var r,o,u,s,f,a,c,v,l,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new h("Already used");r=i.url,o=i.credentials,e.headers||(u=new Kv(i.headers)),s=i.method,f=i.mode,a=i.referrer,c=i.referrerPolicy,v=i.signal,l=i.onprogress,w||null==i.Rv||(w=i.Rv,i.bodyUsed=!0)}else r=String(i),o="same-origin",s="GET",f="cors",a="about:client",c="",v=null,l=null;if(!e.headers&&u||(u=new Kv(e.headers)),e&&(a="about:client",c=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||o,d.method=function(t){var n=t.toUpperCase();return Zl.indexOf(n)>-1?n:t}(e.method||s),d.mode=e.mode||f,d.signal=e.signal||v||(new Dl).signal,d.referrer=void 0!==e.referrer?e.referrer:a,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,d.onprogress=e.onprogress||l,("GET"===d.method||"HEAD"===d.method)&&w)throw new h("Body not allowed for GET or HEAD requests");return d}return Bv(n,t),n.prototype.clone=function(){return new n(this,{body:Tl(this)})},n}(El),nd="function"==typeof Hl&&Hv.stream&&Hv.streamResponse&&Hv.url;function id(t,n){return new j(function(i){var e=new td(t,n);i((nd&&function(t){try{return Yl.indexOf(new Fv.URL(t,Fv.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Jl:Vl)(e))})}id.polyfill=!0;var ed=function(){function t(t){this._v=void 0,this.Av=void 0,this.Uf=new Pn,this.bv=void 0,this.tl=!1,this.Av=t,this.Uf.Nr(t.Mr),this._v=this.nl()}var n=t.prototype;return n.nl=function(){var t,n,i,e,o,u,s,f,h=this;return Z.async(function(a){for(;;)switch(a.prev=a.next){case 0:(t=this.Av).nv&&r(function(){h.tl=!0,h.Uf.Or()},t.nv),a.prev=2,n=id(t.Fh,{method:t.tv,headers:t.xh.Hc(),body:t.Ah,credentials:t.uv?"include":"same-origin",signal:ud(this.Uf.Mr),onprogress:t.sv}),a.next=9;break;case 6:throw a.prev=6,a.t0=a.catch(2),new Av(t,a.t0);case 9:return a.prev=9,a.next=12,Z.awrap(n);case 12:i=a.sent,a.next=20;break;case 15:throw a.prev=15,a.t1=a.catch(9),Dn(e=this.il(a.t1))&&this.Uf.Or(),e;case 20:if(o=i.url||t.Fh,u=0===i.status&&"file:"===(c=o,J.Oe(c).protocol)?200:i.status,s=new rd(this,i,this.Uf),f=new Ev({hi:s,Bh:t,Ph:t.Ph,xh:new Js(i.headers.asList()),Dh:u,Oh:i.statusText,Mh:o}),this.bv=f,!yv(f)){a.next=29;break}return a.abrupt("return",f);case 29:throw new Dv(f);case 30:case"end":return a.stop()}var c},null,this,[[2,6],[9,15]],j)},n.il=function(t){return Dn(t)?this.tl?new Cv(this.Av):new An(t.message,t):this.bv?new Dv(this.bv,t):new Av(this.Av,t)},t}(),rd=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).ul=void 0,r.sl=void 0,r.Uf=void 0,r.kh=new tu,r.ul=n,r.sl=i,r.Uf=e,r.kh.ku.catch(lt),r}zt(n,t);var i=n.prototype;return i.Sh=function(){return this.kh.ku},i.dh=function(t){return this.Eh(this.sl.text(),t)},i.gh=function(t){return this.Eh(this.sl.arrayBuffer(),t)},i.mh=function(){var t=this.sl.body;return t?this.Ih(t):rv(this.gh().then(iv),this.Uf)},i.Rh=function(){var t=this.sl.clone(),i=this.Uf.Br(),e=i[0],r=i[1];return this.Uf=e,new n(this.ul,t,r)},i.Eh=function(t,n){var i=this;n&&this.Uf.Nr(n);var e=j.resolve(t).catch(function(t){throw i.ul.il(t)});return e=Cn(e,this.Uf),this.kh.Eu(e.then(lt)),e},i.Ih=function(t){var n=this,i=new qc,e=j.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.ul.il(t);throw i.writable.abort(e).catch(lt),e});return e=Cn(e,this.Uf),this.kh.Eu(e.then(lt)),i.readable},mt(n,[{key:"Ch",get:function(){return this.sl.bodyUsed}}]),n}(hv),od="abort";function ud(t){var n=new Dl;if(t.pr)n.abort();else if(!t.kr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(od,i),t.Cr(i),t.xr(e)};n.signal.addEventListener(od,i),t.Rr(i),t.Dr(e)}return n.signal}var sd=function(){function t(){}var n=t.prototype;return n.Bh=function(t){return new ed(t)._v},n.ov=function(t){var n=t.yh?{"Content-type":t.yh}:void 0;this.Bh(new kv({tv:_v.POST,Fh:t.Fh,Ah:t.Ah,xh:n})).then(lt,lt)},n.av=function(){},t}(),fd=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(i=n.call.apply(n,[this].concat(r))||this).ol=void 0,i.al=function(){if(xi.Jt)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.cl=xi._n||xi.Jt,i.fl=void 0,i}return zt(i,n),mt(i,[{key:"Ee",get:function(){return this.ol||(this.ol=new Yo(Vs())),this.ol}},{key:"hl",get:function(){return this.al}},{key:"vl",get:function(){return this.cl}},{key:"ll",get:function(){return!1}},{key:"dl",get:function(){return Xs.ic()}},{key:"wl",get:function(){return{gl:Ks}}},{key:"ml",get:function(){return e.connection&&e.connection.effectiveType||"default"}},{key:"yl",get:function(){return e.connection&&e.connection.type||"unknown"}},{key:"Al",get:function(){return this.fl||(this.fl=new Ov(new sd)),this.fl}}]),i}(Ro);tt(new fd),tt(new fd);var hd=t;hd.addEventListener("install",function(t){t.waitUntil(hd.skipWaiting())}),hd.addEventListener("activate",function(t){t.waitUntil(hd.clients.claim())}),Si.eet.Xg(hd)}()}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
